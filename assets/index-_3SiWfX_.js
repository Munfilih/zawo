(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function PS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var v0={exports:{}},Rl={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var y0;function cI(){if(y0)return Rl;y0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:n,type:s,key:c,ref:o!==void 0?o:null,props:l}}return Rl.Fragment=e,Rl.jsx=t,Rl.jsxs=t,Rl}var b0;function dI(){return b0||(b0=1,v0.exports=cI()),v0.exports}var R=dI(),w0={exports:{}},Ce={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var S0;function hI(){if(S0)return Ce;S0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),_=Symbol.iterator;function k(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,V={};function K(j,ee,ue){this.props=j,this.context=ee,this.refs=V,this.updater=ue||H}K.prototype.isReactComponent={},K.prototype.setState=function(j,ee){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ee,"setState")},K.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function X(){}X.prototype=K.prototype;function se(j,ee,ue){this.props=j,this.context=ee,this.refs=V,this.updater=ue||H}var oe=se.prototype=new X;oe.constructor=se,L(oe,K.prototype),oe.isPureReactComponent=!0;var pe=Array.isArray;function ie(){}var O={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(j,ee,ue){var he=ue.ref;return{$$typeof:n,type:j,key:ee,ref:he!==void 0?he:null,props:ue}}function M(j,ee){return N(j.type,ee,j.props)}function D(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function F(j){var ee={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ue){return ee[ue]})}var x=/\/+/g;function $e(j,ee){return typeof j=="object"&&j!==null&&j.key!=null?F(""+j.key):ee.toString(36)}function pt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ie,ie):(j.status="pending",j.then(function(ee){j.status==="pending"&&(j.status="fulfilled",j.value=ee)},function(ee){j.status==="pending"&&(j.status="rejected",j.reason=ee)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Y(j,ee,ue,he,Te){var Ne=typeof j;(Ne==="undefined"||Ne==="boolean")&&(j=null);var je=!1;if(j===null)je=!0;else switch(Ne){case"bigint":case"string":case"number":je=!0;break;case"object":switch(j.$$typeof){case n:case e:je=!0;break;case b:return je=j._init,Y(je(j._payload),ee,ue,he,Te)}}if(je)return Te=Te(j),je=he===""?"."+$e(j,0):he,pe(Te)?(ue="",je!=null&&(ue=je.replace(x,"$&/")+"/"),Y(Te,ee,ue,"",function(pr){return pr})):Te!=null&&(D(Te)&&(Te=M(Te,ue+(Te.key==null||j&&j.key===Te.key?"":(""+Te.key).replace(x,"$&/")+"/")+je)),ee.push(Te)),1;je=0;var Dt=he===""?".":he+":";if(pe(j))for(var ut=0;ut<j.length;ut++)he=j[ut],Ne=Dt+$e(he,ut),je+=Y(he,ee,ue,Ne,Te);else if(ut=k(j),typeof ut=="function")for(j=ut.call(j),ut=0;!(he=j.next()).done;)he=he.value,Ne=Dt+$e(he,ut++),je+=Y(he,ee,ue,Ne,Te);else if(Ne==="object"){if(typeof j.then=="function")return Y(pt(j),ee,ue,he,Te);throw ee=String(j),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return je}function le(j,ee,ue){if(j==null)return j;var he=[],Te=0;return Y(j,he,"","",function(Ne){return ee.call(ue,Ne,Te++)}),he}function ye(j){if(j._status===-1){var ee=j._result;ee=ee(),ee.then(function(ue){(j._status===0||j._status===-1)&&(j._status=1,j._result=ue)},function(ue){(j._status===0||j._status===-1)&&(j._status=2,j._result=ue)}),j._status===-1&&(j._status=0,j._result=ee)}if(j._status===1)return j._result.default;throw j._result}var He=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},We={map:le,forEach:function(j,ee,ue){le(j,function(){ee.apply(this,arguments)},ue)},count:function(j){var ee=0;return le(j,function(){ee++}),ee},toArray:function(j){return le(j,function(ee){return ee})||[]},only:function(j){if(!D(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ce.Activity=S,Ce.Children=We,Ce.Component=K,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=se,Ce.StrictMode=s,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(j){return O.H.useMemoCache(j)}},Ce.cache=function(j){return function(){return j.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(j,ee,ue){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var he=L({},j.props),Te=j.key;if(ee!=null)for(Ne in ee.key!==void 0&&(Te=""+ee.key),ee)!A.call(ee,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ee.ref===void 0||(he[Ne]=ee[Ne]);var Ne=arguments.length-2;if(Ne===1)he.children=ue;else if(1<Ne){for(var je=Array(Ne),Dt=0;Dt<Ne;Dt++)je[Dt]=arguments[Dt+2];he.children=je}return N(j.type,Te,he)},Ce.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},Ce.createElement=function(j,ee,ue){var he,Te={},Ne=null;if(ee!=null)for(he in ee.key!==void 0&&(Ne=""+ee.key),ee)A.call(ee,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Te[he]=ee[he]);var je=arguments.length-2;if(je===1)Te.children=ue;else if(1<je){for(var Dt=Array(je),ut=0;ut<je;ut++)Dt[ut]=arguments[ut+2];Te.children=Dt}if(j&&j.defaultProps)for(he in je=j.defaultProps,je)Te[he]===void 0&&(Te[he]=je[he]);return N(j,Ne,Te)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(j){return{$$typeof:f,render:j}},Ce.isValidElement=D,Ce.lazy=function(j){return{$$typeof:b,_payload:{_status:-1,_result:j},_init:ye}},Ce.memo=function(j,ee){return{$$typeof:v,type:j,compare:ee===void 0?null:ee}},Ce.startTransition=function(j){var ee=O.T,ue={};O.T=ue;try{var he=j(),Te=O.S;Te!==null&&Te(ue,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ie,He)}catch(Ne){He(Ne)}finally{ee!==null&&ue.types!==null&&(ee.types=ue.types),O.T=ee}},Ce.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ce.use=function(j){return O.H.use(j)},Ce.useActionState=function(j,ee,ue){return O.H.useActionState(j,ee,ue)},Ce.useCallback=function(j,ee){return O.H.useCallback(j,ee)},Ce.useContext=function(j){return O.H.useContext(j)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(j,ee){return O.H.useDeferredValue(j,ee)},Ce.useEffect=function(j,ee){return O.H.useEffect(j,ee)},Ce.useEffectEvent=function(j){return O.H.useEffectEvent(j)},Ce.useId=function(){return O.H.useId()},Ce.useImperativeHandle=function(j,ee,ue){return O.H.useImperativeHandle(j,ee,ue)},Ce.useInsertionEffect=function(j,ee){return O.H.useInsertionEffect(j,ee)},Ce.useLayoutEffect=function(j,ee){return O.H.useLayoutEffect(j,ee)},Ce.useMemo=function(j,ee){return O.H.useMemo(j,ee)},Ce.useOptimistic=function(j,ee){return O.H.useOptimistic(j,ee)},Ce.useReducer=function(j,ee,ue){return O.H.useReducer(j,ee,ue)},Ce.useRef=function(j){return O.H.useRef(j)},Ce.useState=function(j){return O.H.useState(j)},Ce.useSyncExternalStore=function(j,ee,ue){return O.H.useSyncExternalStore(j,ee,ue)},Ce.useTransition=function(){return O.H.useTransition()},Ce.version="19.2.0",Ce}var E0;function Xp(){return E0||(E0=1,w0.exports=hI()),w0.exports}var Ve=Xp();const fI=PS(Ve);var ip={exports:{}},Pl={},T0={exports:{}},_0={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var C0;function pI(){return C0||(C0=1,(function(n){function e(Y,le){var ye=Y.length;Y.push(le);e:for(;0<ye;){var He=ye-1>>>1,We=Y[He];if(0<o(We,le))Y[He]=le,Y[ye]=We,ye=He;else break e}}function t(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var le=Y[0],ye=Y.pop();if(ye!==le){Y[0]=ye;e:for(var He=0,We=Y.length,j=We>>>1;He<j;){var ee=2*(He+1)-1,ue=Y[ee],he=ee+1,Te=Y[he];if(0>o(ue,ye))he<We&&0>o(Te,ue)?(Y[He]=Te,Y[he]=ye,He=he):(Y[He]=ue,Y[ee]=ye,He=ee);else if(he<We&&0>o(Te,ye))Y[He]=Te,Y[he]=ye,He=he;else break e}}return le}function o(Y,le){var ye=Y.sortIndex-le.sortIndex;return ye!==0?ye:Y.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],v=[],b=1,S=null,_=3,k=!1,H=!1,L=!1,V=!1,K=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function oe(Y){for(var le=t(v);le!==null;){if(le.callback===null)s(v);else if(le.startTime<=Y)s(v),le.sortIndex=le.expirationTime,e(m,le);else break;le=t(v)}}function pe(Y){if(L=!1,oe(Y),!H)if(t(m)!==null)H=!0,ie||(ie=!0,F());else{var le=t(v);le!==null&&pt(pe,le.startTime-Y)}}var ie=!1,O=-1,A=5,N=-1;function M(){return V?!0:!(n.unstable_now()-N<A)}function D(){if(V=!1,ie){var Y=n.unstable_now();N=Y;var le=!0;try{e:{H=!1,L&&(L=!1,X(O),O=-1),k=!0;var ye=_;try{t:{for(oe(Y),S=t(m);S!==null&&!(S.expirationTime>Y&&M());){var He=S.callback;if(typeof He=="function"){S.callback=null,_=S.priorityLevel;var We=He(S.expirationTime<=Y);if(Y=n.unstable_now(),typeof We=="function"){S.callback=We,oe(Y),le=!0;break t}S===t(m)&&s(m),oe(Y)}else s(m);S=t(m)}if(S!==null)le=!0;else{var j=t(v);j!==null&&pt(pe,j.startTime-Y),le=!1}}break e}finally{S=null,_=ye,k=!1}le=void 0}}finally{le?F():ie=!1}}}var F;if(typeof se=="function")F=function(){se(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,$e=x.port2;x.port1.onmessage=D,F=function(){$e.postMessage(null)}}else F=function(){K(D,0)};function pt(Y,le){O=K(function(){Y(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(Y){switch(_){case 1:case 2:case 3:var le=3;break;default:le=_}var ye=_;_=le;try{return Y()}finally{_=ye}},n.unstable_requestPaint=function(){V=!0},n.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ye=_;_=Y;try{return le()}finally{_=ye}},n.unstable_scheduleCallback=function(Y,le,ye){var He=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?He+ye:He):ye=He,Y){case 1:var We=-1;break;case 2:We=250;break;case 5:We=1073741823;break;case 4:We=1e4;break;default:We=5e3}return We=ye+We,Y={id:b++,callback:le,priorityLevel:Y,startTime:ye,expirationTime:We,sortIndex:-1},ye>He?(Y.sortIndex=ye,e(v,Y),t(m)===null&&Y===t(v)&&(L?(X(O),O=-1):L=!0,pt(pe,ye-He))):(Y.sortIndex=We,e(m,Y),H||k||(H=!0,ie||(ie=!0,F()))),Y},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(Y){var le=_;return function(){var ye=_;_=le;try{return Y.apply(this,arguments)}finally{_=ye}}}})(_0)),_0}var I0;function mI(){return I0||(I0=1,T0.exports=pI()),T0.exports}var sp={exports:{}},Xt={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var A0;function gI(){if(A0)return Xt;A0=1;var n=Xp();function e(m){var v="https://react.dev/errors/"+m;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,v,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:m,containerInfo:v,implementation:b}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,v){if(m==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(m,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return l(m,v,null,b)},Xt.flushSync=function(m){var v=c.T,b=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=v,s.p=b,s.d.f()}},Xt.preconnect=function(m,v){typeof m=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(m,v))},Xt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Xt.preinit=function(m,v){if(typeof m=="string"&&v&&typeof v.as=="string"){var b=v.as,S=f(b,v.crossOrigin),_=typeof v.integrity=="string"?v.integrity:void 0,k=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?s.d.S(m,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:_,fetchPriority:k}):b==="script"&&s.d.X(m,{crossOrigin:S,integrity:_,fetchPriority:k,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Xt.preinitModule=function(m,v){if(typeof m=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=f(v.as,v.crossOrigin);s.d.M(m,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(m)},Xt.preload=function(m,v){if(typeof m=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,S=f(b,v.crossOrigin);s.d.L(m,b,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Xt.preloadModule=function(m,v){if(typeof m=="string")if(v){var b=f(v.as,v.crossOrigin);s.d.m(m,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(m)},Xt.requestFormReset=function(m){s.d.r(m)},Xt.unstable_batchedUpdates=function(m,v){return m(v)},Xt.useFormState=function(m,v,b){return c.H.useFormState(m,v,b)},Xt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var N0;function vI(){if(N0)return sp.exports;N0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sp.exports=gI(),sp.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var k0;function yI(){if(k0)return Pl;k0=1;var n=mI(),e=Xp(),t=vI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function v(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,u=r;;){var g=a.return;if(g===null)break;var y=g.alternate;if(y===null){if(u=g.return,u!==null){a=u;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===a)return m(g),i;if(y===u)return m(g),r;y=y.sibling}throw Error(s(188))}if(a.return!==u.return)a=g,u=y;else{for(var E=!1,C=g.child;C;){if(C===a){E=!0,a=g,u=y;break}if(C===u){E=!0,u=g,a=y;break}C=C.sibling}if(!E){for(C=y.child;C;){if(C===a){E=!0,a=y,u=g;break}if(C===u){E=!0,u=y,a=g;break}C=C.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function b(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=b(i),r!==null)return r;i=i.sibling}return null}var S=Object.assign,_=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),se=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=D&&i[D]||i["@@iterator"],typeof i=="function"?i:null)}var x=Symbol.for("react.client.reference");function $e(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===x?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case L:return"Fragment";case K:return"Profiler";case V:return"StrictMode";case pe:return"Suspense";case ie:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case H:return"Portal";case se:return i.displayName||"Context";case X:return(i._context.displayName||"Context")+".Consumer";case oe:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return r=i.displayName||null,r!==null?r:$e(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return $e(i(r))}catch{}}return null}var pt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},He=[],We=-1;function j(i){return{current:i}}function ee(i){0>We||(i.current=He[We],He[We]=null,We--)}function ue(i,r){We++,He[We]=i.current,i.current=r}var he=j(null),Te=j(null),Ne=j(null),je=j(null);function Dt(i,r){switch(ue(Ne,r),ue(Te,i),ue(he,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?qy(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=qy(r),i=Vy(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ee(he),ue(he,i)}function ut(){ee(he),ee(Te),ee(Ne)}function pr(i){i.memoizedState!==null&&ue(je,i);var r=he.current,a=Vy(r,i.type);r!==a&&(ue(Te,i),ue(he,a))}function ro(i){Te.current===i&&(ee(he),ee(Te)),je.current===i&&(ee(je),Nl._currentValue=ye)}var oo,ao;function oi(i){if(oo===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);oo=r&&r[1]||"",ao=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oo+i+ao}var Na=!1;function mr(i,r){if(!i||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(W){var $=W}Reflect.construct(i,[],te)}else{try{te.call()}catch(W){$=W}i.call(te.prototype)}}else{try{throw Error()}catch(W){$=W}(te=i())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(W){if(W&&$&&typeof W.stack=="string")return[W.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),E=y[0],C=y[1];if(E&&C){var P=E.split(`
`),G=C.split(`
`);for(g=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;g<G.length&&!G[g].includes("DetermineComponentFrameRoot");)g++;if(u===P.length||g===G.length)for(u=P.length-1,g=G.length-1;1<=u&&0<=g&&P[u]!==G[g];)g--;for(;1<=u&&0<=g;u--,g--)if(P[u]!==G[g]){if(u!==1||g!==1)do if(u--,g--,0>g||P[u]!==G[g]){var Q=`
`+P[u].replace(" at new "," at ");return i.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",i.displayName)),Q}while(1<=u&&0<=g);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?oi(a):""}function ka(i,r){switch(i.tag){case 26:case 27:case 5:return oi(i.type);case 16:return oi("Lazy");case 13:return i.child!==r&&r!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return mr(i.type,!1);case 11:return mr(i.type.render,!1);case 1:return mr(i.type,!0);case 31:return oi("Activity");default:return""}}function Oa(i){try{var r="",a=null;do r+=ka(i,a),a=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Tt=Object.prototype.hasOwnProperty,Mt=n.unstable_scheduleCallback,fs=n.unstable_cancelCallback,sh=n.unstable_shouldYield,vu=n.unstable_requestPaint,on=n.unstable_now,gr=n.unstable_getCurrentPriorityLevel,xa=n.unstable_ImmediatePriority,Ra=n.unstable_UserBlockingPriority,ps=n.unstable_NormalPriority,rh=n.unstable_LowPriority,yu=n.unstable_IdlePriority,bu=n.log,wu=n.unstable_setDisableYieldValue,Hn=null,Bt=null;function In(i){if(typeof bu=="function"&&wu(i),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Hn,i)}catch{}}var vt=Math.clz32?Math.clz32:Eu,Su=Math.log,lo=Math.LN2;function Eu(i){return i>>>=0,i===0?32:31-(Su(i)/lo|0)|0}var ai=256,vr=262144,_t=4194304;function li(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ui(i,r,a){var u=i.pendingLanes;if(u===0)return 0;var g=0,y=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var C=u&134217727;return C!==0?(u=C&~y,u!==0?g=li(u):(E&=C,E!==0?g=li(E):a||(a=C&~i,a!==0&&(g=li(a))))):(C=u&~y,C!==0?g=li(C):E!==0?g=li(E):a||(a=u&~i,a!==0&&(g=li(a)))),g===0?0:r!==0&&r!==g&&(r&y)===0&&(y=g&-g,a=r&-r,y>=a||y===32&&(a&4194048)!==0)?r:g}function zn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function oh(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tu(){var i=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),i}function ci(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function yr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ah(i,r,a,u,g,y){var E=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var C=i.entanglements,P=i.expirationTimes,G=i.hiddenUpdates;for(a=E&~a;0<a;){var Q=31-vt(a),te=1<<Q;C[Q]=0,P[Q]=-1;var $=G[Q];if($!==null)for(G[Q]=null,Q=0;Q<$.length;Q++){var W=$[Q];W!==null&&(W.lane&=-536870913)}a&=~te}u!==0&&br(i,u,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(E&~r))}function br(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-vt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|a&261930}function Pa(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var u=31-vt(a),g=1<<u;g&r|i[u]&r&&(i[u]|=r),a&=~g}}function Da(i,r){var a=r&-r;return a=(a&42)!==0?1:wr(a),(a&(i.suspendedLanes|r))!==0?0:a}function wr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Li(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function _u(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:c0(i.type))}function Bn(i,r){var a=le.p;try{return le.p=i,r()}finally{le.p=a}}var Gn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Gn,jt="__reactProps$"+Gn,di="__reactContainer$"+Gn,uo="__reactEvents$"+Gn,lh="__reactListeners$"+Gn,Cu="__reactHandles$"+Gn,Iu="__reactResources$"+Gn,hi="__reactMarker$"+Gn;function co(i){delete i[Ct],delete i[jt],delete i[uo],delete i[lh],delete i[Cu]}function fi(i){var r=i[Ct];if(r)return r;for(var a=i.parentNode;a;){if(r=a[di]||a[Ct]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=Jy(i);i!==null;){if(a=i[Ct])return a;i=Jy(i)}return r}i=a,a=i.parentNode}return null}function An(i){if(i=i[Ct]||i[di]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function gn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function pi(i){var r=i[Iu];return r||(r=i[Iu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function It(i){i[hi]=!0}var Ma=new Set,La={};function mi(i,r){gi(i,r),gi(i+"Capture",r)}function gi(i,r){for(La[i]=r,i=0;i<r.length;i++)Ma.add(r[i])}var Ua=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fa={},ja={};function Au(i){return Tt.call(ja,i)?!0:Tt.call(Fa,i)?!1:Ua.test(i)?ja[i]=!0:(Fa[i]=!0,!1)}function ho(i,r,a){if(Au(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function vn(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function At(i,r,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+u)}}function qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ms(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function qa(i,r,a){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(E){a=""+E,y.call(this,E)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Ye(i){if(!i._valueTracker){var r=ms(i)?"checked":"value";i._valueTracker=qa(i,r,""+i[r])}}function Sr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return i&&(u=ms(i)?i.checked?"true":"false":i.value),i=u,i!==a?(r.setValue(i),!0):!1}function vi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Er=/[\n"\\]/g;function yn(i){return i.replace(Er,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function fo(i,r,a,u,g,y,E,C){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+qt(r)):i.value!==""+qt(r)&&(i.value=""+qt(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?Va(i,E,qt(r)):a!=null?Va(i,E,qt(a)):u!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+qt(C):i.removeAttribute("name")}function Nu(i,r,a,u,g,y,E,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){Ye(i);return}a=a!=null?""+qt(a):"",r=r!=null?""+qt(r):a,C||r===i.value||(i.value=r),i.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=C?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),Ye(i)}function Va(i,r,a){r==="number"&&vi(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function gs(i,r,a,u){if(i=i.options,r){r={};for(var g=0;g<a.length;g++)r["$"+a[g]]=!0;for(a=0;a<i.length;a++)g=r.hasOwnProperty("$"+i[a].value),i[a].selected!==g&&(i[a].selected=g),g&&u&&(i[a].defaultSelected=!0)}else{for(a=""+qt(a),r=null,g=0;g<i.length;g++){if(i[g].value===a){i[g].selected=!0,u&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function ku(i,r,a){if(r!=null&&(r=""+qt(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+qt(a):""}function vs(i,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(pt(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=qt(r),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u),Ye(i)}function un(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var Ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ha(i,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,a):typeof a!="number"||a===0||Ou.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function za(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&a[g]!==u&&Ha(i,g,u)}else for(var y in r)r.hasOwnProperty(y)&&Ha(i,y,r[y])}function po(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mo(i){return ys.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function $n(){}var Ba=null;function Nn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var bs=null,yi=null;function Tr(i){var r=An(i);if(r&&(i=r.stateNode)){var a=i[jt]||null;e:switch(i=r.stateNode,r.type){case"input":if(fo(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==i&&u.form===i.form){var g=u[jt]||null;if(!g)throw Error(s(90));fo(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===i.form&&Sr(u)}break e;case"textarea":ku(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&gs(i,!!a.multiple,r,!1)}}}var go=!1;function ws(i,r,a){if(go)return i(r,a);go=!0;try{var u=i(r);return u}finally{if(go=!1,(bs!==null||yi!==null)&&(_c(),bs&&(r=bs,i=yi,yi=bs=null,Tr(r),i)))for(r=0;r<i.length;r++)Tr(i[r])}}function Kn(i,r){var a=i.stateNode;if(a===null)return null;var u=a[jt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_r=!1;if(kn)try{var et={};Object.defineProperty(et,"passive",{get:function(){_r=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{_r=!1}var bi=null,Ga=null,Cr=null;function $a(){if(Cr)return Cr;var i,r=Ga,a=r.length,u,g="value"in bi?bi.value:bi.textContent,y=g.length;for(i=0;i<a&&r[i]===g[i];i++);var E=a-i;for(u=1;u<=E&&r[a-u]===g[y-u];u++);return Cr=g.slice(i,1<u?1-u:void 0)}function Ir(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ui(){return!0}function Jn(){return!1}function Gt(i){function r(a,u,g,y,E){this._reactName=a,this._targetInst=g,this.type=u,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(a=i[C],this[C]=a?a(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ui:Jn,this.isPropagationStopped=Jn,this}return S(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),r}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Gt(Fi),Ss=S({},Fi,{view:0,detail:0}),Ka=Gt(Ss),Es,vo,Si,yo=S({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Si&&(Si&&i.type==="mousemove"?(Es=i.screenX-Si.screenX,vo=i.screenY-Si.screenY):vo=Es=0,Si=i),Es)},movementY:function(i){return"movementY"in i?i.movementY:vo}}),Ja=Gt(yo),Ar=S({},yo,{dataTransfer:0}),Ru=Gt(Ar),Pu=S({},Ss,{relatedTarget:0}),Nr=Gt(Pu),Wa=S({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Du=Gt(Wa),bo=S({},Fi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Mu=Gt(bo),Lu=S({},Fi,{data:0}),Ei=Gt(Lu),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ju[i])?!!r[i]:!1}function Ts(){return qu}var an=S({},Ss,{key:function(i){if(i.key){var r=Uu[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ir(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Fu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(i){return i.type==="keypress"?Ir(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ir(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Vu=Gt(an),Hu=S({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=Gt(Hu),p=S({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),w=Gt(p),T=S({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=Gt(T),z=S({},yo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),J=Gt(z),ae=S({},Fi,{newState:0,oldState:0}),ke=Gt(ae),yt=[9,13,27,32],Qe=kn&&"CompositionEvent"in window,ct=null;kn&&"documentMode"in document&&(ct=document.documentMode);var On=kn&&"TextEvent"in window&&!ct,qi=kn&&(!Qe||ct&&8<ct&&11>=ct),Wn=" ",Yn=!1;function kr(i,r){switch(i){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var So=!1;function D_(i,r){switch(i){case"compositionend":return wo(r);case"keypress":return r.which!==32?null:(Yn=!0,Wn);case"textInput":return i=r.data,i===Wn&&Yn?null:i;default:return null}}function M_(i,r){if(So)return i==="compositionend"||!Qe&&kr(i,r)?(i=$a(),Cr=Ga=bi=null,So=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return qi&&r.locale!=="ko"?null:r.data;default:return null}}var L_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!L_[i.type]:r==="textarea"}function Zm(i,r,a,u){bs?yi?yi.push(u):yi=[u]:bs=u,r=xc(r,"onChange"),0<r.length&&(a=new wi("onChange","change",null,a,u),i.push({event:a,listeners:r}))}var Ya=null,Qa=null;function U_(i){Dy(i,0)}function zu(i){var r=gn(i);if(Sr(r))return i}function Xm(i,r){if(i==="change")return r}var eg=!1;if(kn){var uh;if(kn){var ch="oninput"in document;if(!ch){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),ch=typeof tg.oninput=="function"}uh=ch}else uh=!1;eg=uh&&(!document.documentMode||9<document.documentMode)}function ng(){Ya&&(Ya.detachEvent("onpropertychange",ig),Qa=Ya=null)}function ig(i){if(i.propertyName==="value"&&zu(Qa)){var r=[];Zm(r,Qa,i,Nn(i)),ws(U_,r)}}function F_(i,r,a){i==="focusin"?(ng(),Ya=r,Qa=a,Ya.attachEvent("onpropertychange",ig)):i==="focusout"&&ng()}function j_(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return zu(Qa)}function q_(i,r){if(i==="click")return zu(r)}function V_(i,r){if(i==="input"||i==="change")return zu(r)}function H_(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var bn=typeof Object.is=="function"?Object.is:H_;function Za(i,r){if(bn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var g=a[u];if(!Tt.call(r,g)||!bn(i[g],r[g]))return!1}return!0}function sg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function rg(i,r){var a=sg(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=r&&u>=r)return{node:a,offset:r-i};i=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sg(a)}}function og(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?og(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function ag(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=vi(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=vi(i.document)}return r}function dh(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var z_=kn&&"documentMode"in document&&11>=document.documentMode,Eo=null,hh=null,Xa=null,fh=!1;function lg(i,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fh||Eo==null||Eo!==vi(u)||(u=Eo,"selectionStart"in u&&dh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Xa&&Za(Xa,u)||(Xa=u,u=xc(hh,"onSelect"),0<u.length&&(r=new wi("onSelect","select",null,r,a),i.push({event:r,listeners:u}),r.target=Eo)))}function Or(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var To={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},ph={},ug={};kn&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function xr(i){if(ph[i])return ph[i];if(!To[i])return i;var r=To[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in ug)return ph[i]=r[a];return i}var cg=xr("animationend"),dg=xr("animationiteration"),hg=xr("animationstart"),B_=xr("transitionrun"),G_=xr("transitionstart"),$_=xr("transitioncancel"),fg=xr("transitionend"),pg=new Map,mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mh.push("scrollEnd");function Qn(i,r){pg.set(i,r),mi(r,[i])}var Bu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},xn=[],_o=0,gh=0;function Gu(){for(var i=_o,r=gh=_o=0;r<i;){var a=xn[r];xn[r++]=null;var u=xn[r];xn[r++]=null;var g=xn[r];xn[r++]=null;var y=xn[r];if(xn[r++]=null,u!==null&&g!==null){var E=u.pending;E===null?g.next=g:(g.next=E.next,E.next=g),u.pending=g}y!==0&&mg(a,g,y)}}function $u(i,r,a,u){xn[_o++]=i,xn[_o++]=r,xn[_o++]=a,xn[_o++]=u,gh|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function vh(i,r,a,u){return $u(i,r,a,u),Ku(i)}function Rr(i,r){return $u(i,null,null,r),Ku(i)}function mg(i,r,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var g=!1,y=i.return;y!==null;)y.childLanes|=a,u=y.alternate,u!==null&&(u.childLanes|=a),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&r!==null&&(g=31-vt(a),i=y.hiddenUpdates,u=i[g],u===null?i[g]=[r]:u.push(r),r.lane=a|536870912),y):null}function Ku(i){if(50<Sl)throw Sl=0,Af=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Co={};function K_(i,r,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(i,r,a,u){return new K_(i,r,a,u)}function yh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Vi(i,r){var a=i.alternate;return a===null?(a=wn(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function gg(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Ju(i,r,a,u,g,y){var E=0;if(u=i,typeof i=="function")yh(i)&&(E=1);else if(typeof i=="string")E=ZC(i,a,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=wn(31,a,r,g),i.elementType=N,i.lanes=y,i;case L:return Pr(a.children,g,y,r);case V:E=8,g|=24;break;case K:return i=wn(12,a,r,g|2),i.elementType=K,i.lanes=y,i;case pe:return i=wn(13,a,r,g),i.elementType=pe,i.lanes=y,i;case ie:return i=wn(19,a,r,g),i.elementType=ie,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case se:E=10;break e;case X:E=9;break e;case oe:E=11;break e;case O:E=14;break e;case A:E=16,u=null;break e}E=29,a=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=wn(E,a,r,g),r.elementType=i,r.type=u,r.lanes=y,r}function Pr(i,r,a,u){return i=wn(7,i,u,r),i.lanes=a,i}function bh(i,r,a){return i=wn(6,i,null,r),i.lanes=a,i}function vg(i){var r=wn(18,null,null,0);return r.stateNode=i,r}function wh(i,r,a){return r=wn(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var yg=new WeakMap;function Rn(i,r){if(typeof i=="object"&&i!==null){var a=yg.get(i);return a!==void 0?a:(r={value:i,source:r,stack:Oa(r)},yg.set(i,r),r)}return{value:i,source:r,stack:Oa(r)}}var Io=[],Ao=0,Wu=null,el=0,Pn=[],Dn=0,_s=null,Ti=1,_i="";function Hi(i,r){Io[Ao++]=el,Io[Ao++]=Wu,Wu=i,el=r}function bg(i,r,a){Pn[Dn++]=Ti,Pn[Dn++]=_i,Pn[Dn++]=_s,_s=i;var u=Ti;i=_i;var g=32-vt(u)-1;u&=~(1<<g),a+=1;var y=32-vt(r)+g;if(30<y){var E=g-g%5;y=(u&(1<<E)-1).toString(32),u>>=E,g-=E,Ti=1<<32-vt(r)+g|a<<g|u,_i=y+i}else Ti=1<<y|a<<g|u,_i=i}function Sh(i){i.return!==null&&(Hi(i,1),bg(i,1,0))}function Eh(i){for(;i===Wu;)Wu=Io[--Ao],Io[Ao]=null,el=Io[--Ao],Io[Ao]=null;for(;i===_s;)_s=Pn[--Dn],Pn[Dn]=null,_i=Pn[--Dn],Pn[Dn]=null,Ti=Pn[--Dn],Pn[Dn]=null}function wg(i,r){Pn[Dn++]=Ti,Pn[Dn++]=_i,Pn[Dn++]=_s,Ti=r.id,_i=r.overflow,_s=i}var $t=null,rt=null,Fe=!1,Cs=null,Mn=!1,Th=Error(s(519));function Is(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(Rn(r,i)),Th}function Sg(i){var r=i.stateNode,a=i.type,u=i.memoizedProps;switch(r[Ct]=i,r[jt]=u,a){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Re(Tl[a],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Re("invalid",r),Nu(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Re("invalid",r);break;case"textarea":Re("invalid",r),vs(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||Fy(r.textContent,a)?(u.popover!=null&&(Re("beforetoggle",r),Re("toggle",r)),u.onScroll!=null&&Re("scroll",r),u.onScrollEnd!=null&&Re("scrollend",r),u.onClick!=null&&(r.onclick=$n),r=!0):r=!1,r||Is(i,!0)}function Eg(i){for($t=i.return;$t;)switch($t.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:$t=$t.return}}function No(i){if(i!==$t)return!1;if(!Fe)return Eg(i),Fe=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Hf(i.type,i.memoizedProps)),a=!a),a&&rt&&Is(i),Eg(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));rt=Ky(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));rt=Ky(i)}else r===27?(r=rt,qs(i.type)?(i=Kf,Kf=null,rt=i):rt=r):rt=$t?Ln(i.stateNode.nextSibling):null;return!0}function Dr(){rt=$t=null,Fe=!1}function _h(){var i=Cs;return i!==null&&(fn===null?fn=i:fn.push.apply(fn,i),Cs=null),i}function tl(i){Cs===null?Cs=[i]:Cs.push(i)}var Ch=j(null),Mr=null,zi=null;function As(i,r,a){ue(Ch,r._currentValue),r._currentValue=a}function Bi(i){i._currentValue=Ch.current,ee(Ch)}function Ih(i,r,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===a)break;i=i.return}}function Ah(i,r,a,u){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var E=g.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=g;for(var P=0;P<r.length;P++)if(C.context===r[P]){y.lanes|=a,C=y.alternate,C!==null&&(C.lanes|=a),Ih(y.return,a,i),u||(E=null);break e}y=C.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(s(341));E.lanes|=a,y=E.alternate,y!==null&&(y.lanes|=a),Ih(E,a,i),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===i){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function ko(i,r,a,u){i=null;for(var g=r,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var C=g.type;bn(g.pendingProps.value,E.value)||(i!==null?i.push(C):i=[C])}}else if(g===je.current){if(E=g.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Nl):i=[Nl])}g=g.return}i!==null&&Ah(r,i,a,u),r.flags|=262144}function Yu(i){for(i=i.firstContext;i!==null;){if(!bn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Lr(i){Mr=i,zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Kt(i){return Tg(Mr,i)}function Qu(i,r){return Mr===null&&Lr(i),Tg(i,r)}function Tg(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},zi===null){if(i===null)throw Error(s(308));zi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else zi=zi.next=r;return a}var J_=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},W_=n.unstable_scheduleCallback,Y_=n.unstable_NormalPriority,Nt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nh(){return{controller:new J_,data:new Map,refCount:0}}function nl(i){i.refCount--,i.refCount===0&&W_(Y_,function(){i.controller.abort()})}var il=null,kh=0,Oo=0,xo=null;function Q_(i,r){if(il===null){var a=il=[];kh=0,Oo=Pf(),xo={status:"pending",value:void 0,then:function(u){a.push(u)}}}return kh++,r.then(_g,_g),r}function _g(){if(--kh===0&&il!==null){xo!==null&&(xo.status="fulfilled");var i=il;il=null,Oo=0,xo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function Z_(i,r){var a=[],u={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<a.length;g++)(0,a[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),u}var Cg=Y.S;Y.S=function(i,r){ly=on(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Q_(i,r),Cg!==null&&Cg(i,r)};var Ur=j(null);function Oh(){var i=Ur.current;return i!==null?i:st.pooledCache}function Zu(i,r){r===null?ue(Ur,Ur.current):ue(Ur,r.pool)}function Ig(){var i=Oh();return i===null?null:{parent:Nt._currentValue,pool:i}}var Ro=Error(s(460)),xh=Error(s(474)),Xu=Error(s(542)),ec={then:function(){}};function Ag(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ng(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then($n,$n),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Og(i),i;default:if(typeof r.status=="string")r.then($n,$n);else{if(i=st,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Og(i),i}throw jr=r,Ro}}function Fr(i){try{var r=i._init;return r(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(jr=a,Ro):a}}var jr=null;function kg(){if(jr===null)throw Error(s(459));var i=jr;return jr=null,i}function Og(i){if(i===Ro||i===Xu)throw Error(s(483))}var Po=null,sl=0;function tc(i){var r=sl;return sl+=1,Po===null&&(Po=[]),Ng(Po,i,r)}function rl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function nc(i,r){throw r.$$typeof===_?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function xg(i){function r(q,U){if(i){var B=q.deletions;B===null?(q.deletions=[U],q.flags|=16):B.push(U)}}function a(q,U){if(!i)return null;for(;U!==null;)r(q,U),U=U.sibling;return null}function u(q){for(var U=new Map;q!==null;)q.key!==null?U.set(q.key,q):U.set(q.index,q),q=q.sibling;return U}function g(q,U){return q=Vi(q,U),q.index=0,q.sibling=null,q}function y(q,U,B){return q.index=B,i?(B=q.alternate,B!==null?(B=B.index,B<U?(q.flags|=67108866,U):B):(q.flags|=67108866,U)):(q.flags|=1048576,U)}function E(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function C(q,U,B,Z){return U===null||U.tag!==6?(U=bh(B,q.mode,Z),U.return=q,U):(U=g(U,B),U.return=q,U)}function P(q,U,B,Z){var ve=B.type;return ve===L?Q(q,U,B.props.children,Z,B.key):U!==null&&(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&Fr(ve)===U.type)?(U=g(U,B.props),rl(U,B),U.return=q,U):(U=Ju(B.type,B.key,B.props,null,q.mode,Z),rl(U,B),U.return=q,U)}function G(q,U,B,Z){return U===null||U.tag!==4||U.stateNode.containerInfo!==B.containerInfo||U.stateNode.implementation!==B.implementation?(U=wh(B,q.mode,Z),U.return=q,U):(U=g(U,B.children||[]),U.return=q,U)}function Q(q,U,B,Z,ve){return U===null||U.tag!==7?(U=Pr(B,q.mode,Z,ve),U.return=q,U):(U=g(U,B),U.return=q,U)}function te(q,U,B){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=bh(""+U,q.mode,B),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case k:return B=Ju(U.type,U.key,U.props,null,q.mode,B),rl(B,U),B.return=q,B;case H:return U=wh(U,q.mode,B),U.return=q,U;case A:return U=Fr(U),te(q,U,B)}if(pt(U)||F(U))return U=Pr(U,q.mode,B,null),U.return=q,U;if(typeof U.then=="function")return te(q,tc(U),B);if(U.$$typeof===se)return te(q,Qu(q,U),B);nc(q,U)}return null}function $(q,U,B,Z){var ve=U!==null?U.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ve!==null?null:C(q,U,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return B.key===ve?P(q,U,B,Z):null;case H:return B.key===ve?G(q,U,B,Z):null;case A:return B=Fr(B),$(q,U,B,Z)}if(pt(B)||F(B))return ve!==null?null:Q(q,U,B,Z,null);if(typeof B.then=="function")return $(q,U,tc(B),Z);if(B.$$typeof===se)return $(q,U,Qu(q,B),Z);nc(q,B)}return null}function W(q,U,B,Z,ve){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return q=q.get(B)||null,C(U,q,""+Z,ve);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case k:return q=q.get(Z.key===null?B:Z.key)||null,P(U,q,Z,ve);case H:return q=q.get(Z.key===null?B:Z.key)||null,G(U,q,Z,ve);case A:return Z=Fr(Z),W(q,U,B,Z,ve)}if(pt(Z)||F(Z))return q=q.get(B)||null,Q(U,q,Z,ve,null);if(typeof Z.then=="function")return W(q,U,B,tc(Z),ve);if(Z.$$typeof===se)return W(q,U,B,Qu(U,Z),ve);nc(U,Z)}return null}function fe(q,U,B,Z){for(var ve=null,ze=null,me=U,Oe=U=0,De=null;me!==null&&Oe<B.length;Oe++){me.index>Oe?(De=me,me=null):De=me.sibling;var Be=$(q,me,B[Oe],Z);if(Be===null){me===null&&(me=De);break}i&&me&&Be.alternate===null&&r(q,me),U=y(Be,U,Oe),ze===null?ve=Be:ze.sibling=Be,ze=Be,me=De}if(Oe===B.length)return a(q,me),Fe&&Hi(q,Oe),ve;if(me===null){for(;Oe<B.length;Oe++)me=te(q,B[Oe],Z),me!==null&&(U=y(me,U,Oe),ze===null?ve=me:ze.sibling=me,ze=me);return Fe&&Hi(q,Oe),ve}for(me=u(me);Oe<B.length;Oe++)De=W(me,q,Oe,B[Oe],Z),De!==null&&(i&&De.alternate!==null&&me.delete(De.key===null?Oe:De.key),U=y(De,U,Oe),ze===null?ve=De:ze.sibling=De,ze=De);return i&&me.forEach(function(Gs){return r(q,Gs)}),Fe&&Hi(q,Oe),ve}function we(q,U,B,Z){if(B==null)throw Error(s(151));for(var ve=null,ze=null,me=U,Oe=U=0,De=null,Be=B.next();me!==null&&!Be.done;Oe++,Be=B.next()){me.index>Oe?(De=me,me=null):De=me.sibling;var Gs=$(q,me,Be.value,Z);if(Gs===null){me===null&&(me=De);break}i&&me&&Gs.alternate===null&&r(q,me),U=y(Gs,U,Oe),ze===null?ve=Gs:ze.sibling=Gs,ze=Gs,me=De}if(Be.done)return a(q,me),Fe&&Hi(q,Oe),ve;if(me===null){for(;!Be.done;Oe++,Be=B.next())Be=te(q,Be.value,Z),Be!==null&&(U=y(Be,U,Oe),ze===null?ve=Be:ze.sibling=Be,ze=Be);return Fe&&Hi(q,Oe),ve}for(me=u(me);!Be.done;Oe++,Be=B.next())Be=W(me,q,Oe,Be.value,Z),Be!==null&&(i&&Be.alternate!==null&&me.delete(Be.key===null?Oe:Be.key),U=y(Be,U,Oe),ze===null?ve=Be:ze.sibling=Be,ze=Be);return i&&me.forEach(function(uI){return r(q,uI)}),Fe&&Hi(q,Oe),ve}function it(q,U,B,Z){if(typeof B=="object"&&B!==null&&B.type===L&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case k:e:{for(var ve=B.key;U!==null;){if(U.key===ve){if(ve=B.type,ve===L){if(U.tag===7){a(q,U.sibling),Z=g(U,B.props.children),Z.return=q,q=Z;break e}}else if(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&Fr(ve)===U.type){a(q,U.sibling),Z=g(U,B.props),rl(Z,B),Z.return=q,q=Z;break e}a(q,U);break}else r(q,U);U=U.sibling}B.type===L?(Z=Pr(B.props.children,q.mode,Z,B.key),Z.return=q,q=Z):(Z=Ju(B.type,B.key,B.props,null,q.mode,Z),rl(Z,B),Z.return=q,q=Z)}return E(q);case H:e:{for(ve=B.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===B.containerInfo&&U.stateNode.implementation===B.implementation){a(q,U.sibling),Z=g(U,B.children||[]),Z.return=q,q=Z;break e}else{a(q,U);break}else r(q,U);U=U.sibling}Z=wh(B,q.mode,Z),Z.return=q,q=Z}return E(q);case A:return B=Fr(B),it(q,U,B,Z)}if(pt(B))return fe(q,U,B,Z);if(F(B)){if(ve=F(B),typeof ve!="function")throw Error(s(150));return B=ve.call(B),we(q,U,B,Z)}if(typeof B.then=="function")return it(q,U,tc(B),Z);if(B.$$typeof===se)return it(q,U,Qu(q,B),Z);nc(q,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,U!==null&&U.tag===6?(a(q,U.sibling),Z=g(U,B),Z.return=q,q=Z):(a(q,U),Z=bh(B,q.mode,Z),Z.return=q,q=Z),E(q)):a(q,U)}return function(q,U,B,Z){try{sl=0;var ve=it(q,U,B,Z);return Po=null,ve}catch(me){if(me===Ro||me===Xu)throw me;var ze=wn(29,me,null,q.mode);return ze.lanes=Z,ze.return=q,ze}finally{}}}var qr=xg(!0),Rg=xg(!1),Ns=!1;function Rh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ph(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ks(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Os(i,r,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ke&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=Ku(i),mg(i,null,a),r}return $u(i,u,r,a),Ku(i)}function ol(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,Pa(i,a)}}function Dh(i,r){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var g=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?g=y=E:y=y.next=E,a=a.next}while(a!==null);y===null?g=y=r:y=y.next=r}else g=y=r;a={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Mh=!1;function al(){if(Mh){var i=xo;if(i!==null)throw i}}function ll(i,r,a,u){Mh=!1;var g=i.updateQueue;Ns=!1;var y=g.firstBaseUpdate,E=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var P=C,G=P.next;P.next=null,E===null?y=G:E.next=G,E=P;var Q=i.alternate;Q!==null&&(Q=Q.updateQueue,C=Q.lastBaseUpdate,C!==E&&(C===null?Q.firstBaseUpdate=G:C.next=G,Q.lastBaseUpdate=P))}if(y!==null){var te=g.baseState;E=0,Q=G=P=null,C=y;do{var $=C.lane&-536870913,W=$!==C.lane;if(W?(Pe&$)===$:(u&$)===$){$!==0&&$===Oo&&(Mh=!0),Q!==null&&(Q=Q.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var fe=i,we=C;$=r;var it=a;switch(we.tag){case 1:if(fe=we.payload,typeof fe=="function"){te=fe.call(it,te,$);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=we.payload,$=typeof fe=="function"?fe.call(it,te,$):fe,$==null)break e;te=S({},te,$);break e;case 2:Ns=!0}}$=C.callback,$!==null&&(i.flags|=64,W&&(i.flags|=8192),W=g.callbacks,W===null?g.callbacks=[$]:W.push($))}else W={lane:$,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Q===null?(G=Q=W,P=te):Q=Q.next=W,E|=$;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;W=C,C=W.next,W.next=null,g.lastBaseUpdate=W,g.shared.pending=null}}while(!0);Q===null&&(P=te),g.baseState=P,g.firstBaseUpdate=G,g.lastBaseUpdate=Q,y===null&&(g.shared.lanes=0),Ms|=E,i.lanes=E,i.memoizedState=te}}function Pg(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Dg(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Pg(a[i],r)}var Do=j(null),ic=j(0);function Mg(i,r){i=Xi,ue(ic,i),ue(Do,r),Xi=i|r.baseLanes}function Lh(){ue(ic,Xi),ue(Do,Do.current)}function Uh(){Xi=ic.current,ee(Do),ee(ic)}var Sn=j(null),Zn=null;function xs(i){var r=i.alternate;ue(bt,bt.current&1),ue(Sn,i),Zn===null&&(r===null||Do.current!==null||r.memoizedState!==null)&&(Zn=i)}function Fh(i){ue(bt,bt.current),ue(Sn,i),Zn===null&&(Zn=i)}function Lg(i){i.tag===22?(ue(bt,bt.current),ue(Sn,i),Zn===null&&(Zn=i)):Rs()}function Rs(){ue(bt,bt.current),ue(Sn,Sn.current)}function En(i){ee(Sn),Zn===i&&(Zn=null),ee(bt)}var bt=j(0);function sc(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Gf(a)||$f(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Gi=0,Ae=null,tt=null,kt=null,rc=!1,Mo=!1,Vr=!1,oc=0,ul=0,Lo=null,X_=0;function mt(){throw Error(s(321))}function jh(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!bn(i[a],r[a]))return!1;return!0}function qh(i,r,a,u,g,y){return Gi=y,Ae=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=i===null||i.memoizedState===null?bv:tf,Vr=!1,y=a(u,g),Vr=!1,Mo&&(y=Fg(r,a,u,g)),Ug(i),y}function Ug(i){Y.H=hl;var r=tt!==null&&tt.next!==null;if(Gi=0,kt=tt=Ae=null,rc=!1,ul=0,Lo=null,r)throw Error(s(300));i===null||Ot||(i=i.dependencies,i!==null&&Yu(i)&&(Ot=!0))}function Fg(i,r,a,u){Ae=i;var g=0;do{if(Mo&&(Lo=null),ul=0,Mo=!1,25<=g)throw Error(s(301));if(g+=1,kt=tt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Y.H=wv,y=r(a,u)}while(Mo);return y}function eC(){var i=Y.H,r=i.useState()[0];return r=typeof r.then=="function"?cl(r):r,i=i.useState()[0],(tt!==null?tt.memoizedState:null)!==i&&(Ae.flags|=1024),r}function Vh(){var i=oc!==0;return oc=0,i}function Hh(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function zh(i){if(rc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}rc=!1}Gi=0,kt=tt=Ae=null,Mo=!1,ul=oc=0,Lo=null}function ln(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ae.memoizedState=kt=i:kt=kt.next=i,kt}function wt(){if(tt===null){var i=Ae.alternate;i=i!==null?i.memoizedState:null}else i=tt.next;var r=kt===null?Ae.memoizedState:kt.next;if(r!==null)kt=r,tt=i;else{if(i===null)throw Ae.alternate===null?Error(s(467)):Error(s(310));tt=i,i={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},kt===null?Ae.memoizedState=kt=i:kt=kt.next=i}return kt}function ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(i){var r=ul;return ul+=1,Lo===null&&(Lo=[]),i=Ng(Lo,i,r),r=Ae,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?bv:tf),i}function lc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return cl(i);if(i.$$typeof===se)return Kt(i)}throw Error(s(438,String(i)))}function Bh(i){var r=null,a=Ae.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Ae.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ac(),Ae.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),u=0;u<i;u++)a[u]=M;return r.index++,a}function $i(i,r){return typeof r=="function"?r(i):r}function uc(i){var r=wt();return Gh(r,tt,i)}function Gh(i,r,a){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var g=i.baseQueue,y=u.pending;if(y!==null){if(g!==null){var E=g.next;g.next=y.next,y.next=E}r.baseQueue=g=y,u.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{r=g.next;var C=E=null,P=null,G=r,Q=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Pe&te)===te:(Gi&te)===te){var $=G.revertLane;if($===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===Oo&&(Q=!0);else if((Gi&$)===$){G=G.next,$===Oo&&(Q=!0);continue}else te={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(C=P=te,E=y):P=P.next=te,Ae.lanes|=$,Ms|=$;te=G.action,Vr&&a(y,te),y=G.hasEagerState?G.eagerState:a(y,te)}else $={lane:te,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(C=P=$,E=y):P=P.next=$,Ae.lanes|=te,Ms|=te;G=G.next}while(G!==null&&G!==r);if(P===null?E=y:P.next=C,!bn(y,i.memoizedState)&&(Ot=!0,Q&&(a=xo,a!==null)))throw a;i.memoizedState=y,i.baseState=E,i.baseQueue=P,u.lastRenderedState=y}return g===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function $h(i){var r=wt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var u=a.dispatch,g=a.pending,y=r.memoizedState;if(g!==null){a.pending=null;var E=g=g.next;do y=i(y,E.action),E=E.next;while(E!==g);bn(y,r.memoizedState)||(Ot=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),a.lastRenderedState=y}return[y,u]}function jg(i,r,a){var u=Ae,g=wt(),y=Fe;if(y){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!bn((tt||g).memoizedState,a);if(E&&(g.memoizedState=a,Ot=!0),g=g.queue,Wh(Hg.bind(null,u,g,i),[i]),g.getSnapshot!==r||E||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,Uo(9,{destroy:void 0},Vg.bind(null,u,g,a,r),null),st===null)throw Error(s(349));y||(Gi&127)!==0||qg(u,r,a)}return a}function qg(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=Ae.updateQueue,r===null?(r=ac(),Ae.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function Vg(i,r,a,u){r.value=a,r.getSnapshot=u,zg(r)&&Bg(i)}function Hg(i,r,a){return a(function(){zg(r)&&Bg(i)})}function zg(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!bn(i,a)}catch{return!0}}function Bg(i){var r=Rr(i,2);r!==null&&pn(r,i,2)}function Kh(i){var r=ln();if(typeof i=="function"){var a=i;if(i=a(),Vr){In(!0);try{a()}finally{In(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:i},r}function Gg(i,r,a,u){return i.baseState=a,Gh(i,tt,typeof u=="function"?u:$i)}function tC(i,r,a,u,g){if(hc(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};Y.T!==null?a(!0):y.isTransition=!1,u(y),a=r.pending,a===null?(y.next=r.pending=y,$g(r,y)):(y.next=a.next,r.pending=a.next=y)}}function $g(i,r){var a=r.action,u=r.payload,g=i.state;if(r.isTransition){var y=Y.T,E={};Y.T=E;try{var C=a(g,u),P=Y.S;P!==null&&P(E,C),Kg(i,r,C)}catch(G){Jh(i,r,G)}finally{y!==null&&E.types!==null&&(y.types=E.types),Y.T=y}}else try{y=a(g,u),Kg(i,r,y)}catch(G){Jh(i,r,G)}}function Kg(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Jg(i,r,u)},function(u){return Jh(i,r,u)}):Jg(i,r,a)}function Jg(i,r,a){r.status="fulfilled",r.value=a,Wg(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,$g(i,a)))}function Jh(i,r,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Wg(r),r=r.next;while(r!==u)}i.action=null}function Wg(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Yg(i,r){return r}function Qg(i,r){if(Fe){var a=st.formState;if(a!==null){e:{var u=Ae;if(Fe){if(rt){t:{for(var g=rt,y=Mn;g.nodeType!==8;){if(!y){g=null;break t}if(g=Ln(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){rt=Ln(g.nextSibling),u=g.data==="F!";break e}}Is(u)}u=!1}u&&(r=a[0])}}return a=ln(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:r},a.queue=u,a=gv.bind(null,Ae,u),u.dispatch=a,u=Kh(!1),y=ef.bind(null,Ae,!1,u.queue),u=ln(),g={state:r,dispatch:null,action:i,pending:null},u.queue=g,a=tC.bind(null,Ae,g,y,a),g.dispatch=a,u.memoizedState=i,[r,a,!1]}function Zg(i){var r=wt();return Xg(r,tt,i)}function Xg(i,r,a){if(r=Gh(i,r,Yg)[0],i=uc($i)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=cl(r)}catch(E){throw E===Ro?Xu:E}else u=r;r=wt();var g=r.queue,y=g.dispatch;return a!==r.memoizedState&&(Ae.flags|=2048,Uo(9,{destroy:void 0},nC.bind(null,g,a),null)),[u,y,i]}function nC(i,r){i.action=r}function ev(i){var r=wt(),a=tt;if(a!==null)return Xg(r,a,i);wt(),r=r.memoizedState,a=wt();var u=a.queue.dispatch;return a.memoizedState=i,[r,u,!1]}function Uo(i,r,a,u){return i={tag:i,create:a,deps:u,inst:r,next:null},r=Ae.updateQueue,r===null&&(r=ac(),Ae.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,r.lastEffect=i),i}function tv(){return wt().memoizedState}function cc(i,r,a,u){var g=ln();Ae.flags|=i,g.memoizedState=Uo(1|r,{destroy:void 0},a,u===void 0?null:u)}function dc(i,r,a,u){var g=wt();u=u===void 0?null:u;var y=g.memoizedState.inst;tt!==null&&u!==null&&jh(u,tt.memoizedState.deps)?g.memoizedState=Uo(r,y,a,u):(Ae.flags|=i,g.memoizedState=Uo(1|r,y,a,u))}function nv(i,r){cc(8390656,8,i,r)}function Wh(i,r){dc(2048,8,i,r)}function iC(i){Ae.flags|=4;var r=Ae.updateQueue;if(r===null)r=ac(),Ae.updateQueue=r,r.events=[i];else{var a=r.events;a===null?r.events=[i]:a.push(i)}}function iv(i){var r=wt().memoizedState;return iC({ref:r,nextImpl:i}),function(){if((Ke&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function sv(i,r){return dc(4,2,i,r)}function rv(i,r){return dc(4,4,i,r)}function ov(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function av(i,r,a){a=a!=null?a.concat([i]):null,dc(4,4,ov.bind(null,r,i),a)}function Yh(){}function lv(i,r){var a=wt();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&jh(r,u[1])?u[0]:(a.memoizedState=[i,r],i)}function uv(i,r){var a=wt();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&jh(r,u[1]))return u[0];if(u=i(),Vr){In(!0);try{i()}finally{In(!1)}}return a.memoizedState=[u,r],u}function Qh(i,r,a){return a===void 0||(Gi&1073741824)!==0&&(Pe&261930)===0?i.memoizedState=r:(i.memoizedState=a,i=cy(),Ae.lanes|=i,Ms|=i,a)}function cv(i,r,a,u){return bn(a,r)?a:Do.current!==null?(i=Qh(i,a,u),bn(i,r)||(Ot=!0),i):(Gi&42)===0||(Gi&1073741824)!==0&&(Pe&261930)===0?(Ot=!0,i.memoizedState=a):(i=cy(),Ae.lanes|=i,Ms|=i,r)}function dv(i,r,a,u,g){var y=le.p;le.p=y!==0&&8>y?y:8;var E=Y.T,C={};Y.T=C,ef(i,!1,r,a);try{var P=g(),G=Y.S;if(G!==null&&G(C,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var Q=Z_(P,u);dl(i,r,Q,Cn(i))}else dl(i,r,u,Cn(i))}catch(te){dl(i,r,{then:function(){},status:"rejected",reason:te},Cn())}finally{le.p=y,E!==null&&C.types!==null&&(E.types=C.types),Y.T=E}}function sC(){}function Zh(i,r,a,u){if(i.tag!==5)throw Error(s(476));var g=hv(i).queue;dv(i,g,r,ye,a===null?sC:function(){return fv(i),a(u)})}function hv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:ye},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function fv(i){var r=hv(i);r.next===null&&(r=i.alternate.memoizedState),dl(i,r.next.queue,{},Cn())}function Xh(){return Kt(Nl)}function pv(){return wt().memoizedState}function mv(){return wt().memoizedState}function rC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=Cn();i=ks(a);var u=Os(r,i,a);u!==null&&(pn(u,r,a),ol(u,r,a)),r={cache:Nh()},i.payload=r;return}r=r.return}}function oC(i,r,a){var u=Cn();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hc(i)?vv(r,a):(a=vh(i,r,a,u),a!==null&&(pn(a,i,u),yv(a,r,u)))}function gv(i,r,a){var u=Cn();dl(i,r,a,u)}function dl(i,r,a,u){var g={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(hc(i))vv(r,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var E=r.lastRenderedState,C=y(E,a);if(g.hasEagerState=!0,g.eagerState=C,bn(C,E))return $u(i,r,g,0),st===null&&Gu(),!1}catch{}finally{}if(a=vh(i,r,g,u),a!==null)return pn(a,i,u),yv(a,r,u),!0}return!1}function ef(i,r,a,u){if(u={lane:2,revertLane:Pf(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},hc(i)){if(r)throw Error(s(479))}else r=vh(i,a,u,2),r!==null&&pn(r,i,2)}function hc(i){var r=i.alternate;return i===Ae||r!==null&&r===Ae}function vv(i,r){Mo=rc=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function yv(i,r,a){if((a&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,Pa(i,a)}}var hl={readContext:Kt,use:lc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};hl.useEffectEvent=mt;var bv={readContext:Kt,use:lc,useCallback:function(i,r){return ln().memoizedState=[i,r===void 0?null:r],i},useContext:Kt,useEffect:nv,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,cc(4194308,4,ov.bind(null,r,i),a)},useLayoutEffect:function(i,r){return cc(4194308,4,i,r)},useInsertionEffect:function(i,r){cc(4,2,i,r)},useMemo:function(i,r){var a=ln();r=r===void 0?null:r;var u=i();if(Vr){In(!0);try{i()}finally{In(!1)}}return a.memoizedState=[u,r],u},useReducer:function(i,r,a){var u=ln();if(a!==void 0){var g=a(r);if(Vr){In(!0);try{a(r)}finally{In(!1)}}}else g=r;return u.memoizedState=u.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},u.queue=i,i=i.dispatch=oC.bind(null,Ae,i),[u.memoizedState,i]},useRef:function(i){var r=ln();return i={current:i},r.memoizedState=i},useState:function(i){i=Kh(i);var r=i.queue,a=gv.bind(null,Ae,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Yh,useDeferredValue:function(i,r){var a=ln();return Qh(a,i,r)},useTransition:function(){var i=Kh(!1);return i=dv.bind(null,Ae,i.queue,!0,!1),ln().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var u=Ae,g=ln();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),st===null)throw Error(s(349));(Pe&127)!==0||qg(u,r,a)}g.memoizedState=a;var y={value:a,getSnapshot:r};return g.queue=y,nv(Hg.bind(null,u,y,i),[i]),u.flags|=2048,Uo(9,{destroy:void 0},Vg.bind(null,u,y,a,r),null),a},useId:function(){var i=ln(),r=st.identifierPrefix;if(Fe){var a=_i,u=Ti;a=(u&~(1<<32-vt(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=oc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=X_++,r="_"+r+"r_"+a.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Xh,useFormState:Qg,useActionState:Qg,useOptimistic:function(i){var r=ln();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ef.bind(null,Ae,!0,a),a.dispatch=r,[i,r]},useMemoCache:Bh,useCacheRefresh:function(){return ln().memoizedState=rC.bind(null,Ae)},useEffectEvent:function(i){var r=ln(),a={impl:i};return r.memoizedState=a,function(){if((Ke&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},tf={readContext:Kt,use:lc,useCallback:lv,useContext:Kt,useEffect:Wh,useImperativeHandle:av,useInsertionEffect:sv,useLayoutEffect:rv,useMemo:uv,useReducer:uc,useRef:tv,useState:function(){return uc($i)},useDebugValue:Yh,useDeferredValue:function(i,r){var a=wt();return cv(a,tt.memoizedState,i,r)},useTransition:function(){var i=uc($i)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:cl(i),r]},useSyncExternalStore:jg,useId:pv,useHostTransitionStatus:Xh,useFormState:Zg,useActionState:Zg,useOptimistic:function(i,r){var a=wt();return Gg(a,tt,i,r)},useMemoCache:Bh,useCacheRefresh:mv};tf.useEffectEvent=iv;var wv={readContext:Kt,use:lc,useCallback:lv,useContext:Kt,useEffect:Wh,useImperativeHandle:av,useInsertionEffect:sv,useLayoutEffect:rv,useMemo:uv,useReducer:$h,useRef:tv,useState:function(){return $h($i)},useDebugValue:Yh,useDeferredValue:function(i,r){var a=wt();return tt===null?Qh(a,i,r):cv(a,tt.memoizedState,i,r)},useTransition:function(){var i=$h($i)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:cl(i),r]},useSyncExternalStore:jg,useId:pv,useHostTransitionStatus:Xh,useFormState:ev,useActionState:ev,useOptimistic:function(i,r){var a=wt();return tt!==null?Gg(a,tt,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Bh,useCacheRefresh:mv};wv.useEffectEvent=iv;function nf(i,r,a,u){r=i.memoizedState,a=a(u,r),a=a==null?r:S({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var sf={enqueueSetState:function(i,r,a){i=i._reactInternals;var u=Cn(),g=ks(u);g.payload=r,a!=null&&(g.callback=a),r=Os(i,g,u),r!==null&&(pn(r,i,u),ol(r,i,u))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var u=Cn(),g=ks(u);g.tag=1,g.payload=r,a!=null&&(g.callback=a),r=Os(i,g,u),r!==null&&(pn(r,i,u),ol(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=Cn(),u=ks(a);u.tag=2,r!=null&&(u.callback=r),r=Os(i,u,a),r!==null&&(pn(r,i,a),ol(r,i,a))}};function Sv(i,r,a,u,g,y,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,E):r.prototype&&r.prototype.isPureReactComponent?!Za(a,u)||!Za(g,y):!0}function Ev(i,r,a,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==i&&sf.enqueueReplaceState(r,r.state,null)}function Hr(i,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(i=i.defaultProps){a===r&&(a=S({},a));for(var g in i)a[g]===void 0&&(a[g]=i[g])}return a}function Tv(i){Bu(i)}function _v(i){console.error(i)}function Cv(i){Bu(i)}function fc(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Iv(i,r,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function rf(i,r,a){return a=ks(a),a.tag=3,a.payload={element:null},a.callback=function(){fc(i,r)},a}function Av(i){return i=ks(i),i.tag=3,i}function Nv(i,r,a,u){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;i.payload=function(){return g(y)},i.callback=function(){Iv(r,a,u)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){Iv(r,a,u),typeof g!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function aC(i,r,a,u,g){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&ko(r,a,g,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return Zn===null?Cc():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=g,u===ec?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Of(i,u,g)),!1;case 22:return a.flags|=65536,u===ec?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Of(i,u,g)),!1}throw Error(s(435,a.tag))}return Of(i,u,g),Cc(),!1}if(Fe)return r=Sn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==Th&&(i=Error(s(422),{cause:u}),tl(Rn(i,a)))):(u!==Th&&(r=Error(s(423),{cause:u}),tl(Rn(r,a))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,u=Rn(u,a),g=rf(i.stateNode,u,g),Dh(i,g),gt!==4&&(gt=2)),!1;var y=Error(s(520),{cause:u});if(y=Rn(y,a),wl===null?wl=[y]:wl.push(y),gt!==4&&(gt=2),r===null)return!0;u=Rn(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=g&-g,a.lanes|=i,i=rf(a.stateNode,u,i),Dh(a,i),!1;case 1:if(r=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ls===null||!Ls.has(y))))return a.flags|=65536,g&=-g,a.lanes|=g,g=Av(g),Nv(g,i,a,u),Dh(a,g),!1}a=a.return}while(a!==null);return!1}var of=Error(s(461)),Ot=!1;function Jt(i,r,a,u){r.child=i===null?Rg(r,null,a,u):qr(r,i.child,a,u)}function kv(i,r,a,u,g){a=a.render;var y=r.ref;if("ref"in u){var E={};for(var C in u)C!=="ref"&&(E[C]=u[C])}else E=u;return Lr(r),u=qh(i,r,a,E,y,g),C=Vh(),i!==null&&!Ot?(Hh(i,r,g),Ki(i,r,g)):(Fe&&C&&Sh(r),r.flags|=1,Jt(i,r,u,g),r.child)}function Ov(i,r,a,u,g){if(i===null){var y=a.type;return typeof y=="function"&&!yh(y)&&y.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=y,xv(i,r,y,u,g)):(i=Ju(a.type,null,u,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!pf(i,g)){var E=y.memoizedProps;if(a=a.compare,a=a!==null?a:Za,a(E,u)&&i.ref===r.ref)return Ki(i,r,g)}return r.flags|=1,i=Vi(y,u),i.ref=r.ref,i.return=r,r.child=i}function xv(i,r,a,u,g){if(i!==null){var y=i.memoizedProps;if(Za(y,u)&&i.ref===r.ref)if(Ot=!1,r.pendingProps=u=y,pf(i,g))(i.flags&131072)!==0&&(Ot=!0);else return r.lanes=i.lanes,Ki(i,r,g)}return af(i,r,a,u,g)}function Rv(i,r,a,u){var g=u.children,y=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|a:a,i!==null){for(u=r.child=i.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~y}else u=0,r.child=null;return Pv(i,r,y,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Zu(r,y!==null?y.cachePool:null),y!==null?Mg(r,y):Lh(),Lg(r);else return u=r.lanes=536870912,Pv(i,r,y!==null?y.baseLanes|a:a,a,u)}else y!==null?(Zu(r,y.cachePool),Mg(r,y),Rs(),r.memoizedState=null):(i!==null&&Zu(r,null),Lh(),Rs());return Jt(i,r,g,a),r.child}function fl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Pv(i,r,a,u,g){var y=Oh();return y=y===null?null:{parent:Nt._currentValue,pool:y},r.memoizedState={baseLanes:a,cachePool:y},i!==null&&Zu(r,null),Lh(),Lg(r),i!==null&&ko(i,r,u,!0),r.childLanes=g,null}function pc(i,r){return r=gc({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Dv(i,r,a){return qr(r,i.child,null,a),i=pc(r,r.pendingProps),i.flags|=2,En(r),r.memoizedState=null,i}function lC(i,r,a){var u=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Fe){if(u.mode==="hidden")return i=pc(r,u),r.lanes=536870912,fl(null,i);if(Fh(r),(i=rt)?(i=$y(i,Mn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:_s!==null?{id:Ti,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},a=vg(i),a.return=r,r.child=a,$t=r,rt=null)):i=null,i===null)throw Is(r);return r.lanes=536870912,null}return pc(r,u)}var y=i.memoizedState;if(y!==null){var E=y.dehydrated;if(Fh(r),g)if(r.flags&256)r.flags&=-257,r=Dv(i,r,a);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ot||ko(i,r,a,!1),g=(a&i.childLanes)!==0,Ot||g){if(u=st,u!==null&&(E=Da(u,a),E!==0&&E!==y.retryLane))throw y.retryLane=E,Rr(i,E),pn(u,i,E),of;Cc(),r=Dv(i,r,a)}else i=y.treeContext,rt=Ln(E.nextSibling),$t=r,Fe=!0,Cs=null,Mn=!1,i!==null&&wg(r,i),r=pc(r,u),r.flags|=4096;return r}return i=Vi(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function mc(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function af(i,r,a,u,g){return Lr(r),a=qh(i,r,a,u,void 0,g),u=Vh(),i!==null&&!Ot?(Hh(i,r,g),Ki(i,r,g)):(Fe&&u&&Sh(r),r.flags|=1,Jt(i,r,a,g),r.child)}function Mv(i,r,a,u,g,y){return Lr(r),r.updateQueue=null,a=Fg(r,u,a,g),Ug(i),u=Vh(),i!==null&&!Ot?(Hh(i,r,y),Ki(i,r,y)):(Fe&&u&&Sh(r),r.flags|=1,Jt(i,r,a,y),r.child)}function Lv(i,r,a,u,g){if(Lr(r),r.stateNode===null){var y=Co,E=a.contextType;typeof E=="object"&&E!==null&&(y=Kt(E)),y=new a(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=sf,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},Rh(r),E=a.contextType,y.context=typeof E=="object"&&E!==null?Kt(E):Co,y.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(nf(r,a,E,u),y.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&sf.enqueueReplaceState(y,y.state,null),ll(r,u,y,g),al(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){y=r.stateNode;var C=r.memoizedProps,P=Hr(a,C);y.props=P;var G=y.context,Q=a.contextType;E=Co,typeof Q=="object"&&Q!==null&&(E=Kt(Q));var te=a.getDerivedStateFromProps;Q=typeof te=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,Q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||G!==E)&&Ev(r,y,u,E),Ns=!1;var $=r.memoizedState;y.state=$,ll(r,u,y,g),al(),G=r.memoizedState,C||$!==G||Ns?(typeof te=="function"&&(nf(r,a,te,u),G=r.memoizedState),(P=Ns||Sv(r,a,P,u,$,G,E))?(Q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=G),y.props=u,y.state=G,y.context=E,u=P):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Ph(i,r),E=r.memoizedProps,Q=Hr(a,E),y.props=Q,te=r.pendingProps,$=y.context,G=a.contextType,P=Co,typeof G=="object"&&G!==null&&(P=Kt(G)),C=a.getDerivedStateFromProps,(G=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==te||$!==P)&&Ev(r,y,u,P),Ns=!1,$=r.memoizedState,y.state=$,ll(r,u,y,g),al();var W=r.memoizedState;E!==te||$!==W||Ns||i!==null&&i.dependencies!==null&&Yu(i.dependencies)?(typeof C=="function"&&(nf(r,a,C,u),W=r.memoizedState),(Q=Ns||Sv(r,a,Q,u,$,W,P)||i!==null&&i.dependencies!==null&&Yu(i.dependencies))?(G||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,W,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,W,P)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=W),y.props=u,y.state=W,y.context=P,u=Q):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),u=!1)}return y=u,mc(i,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&u?(r.child=qr(r,i.child,null,g),r.child=qr(r,null,a,g)):Jt(i,r,a,g),r.memoizedState=y.state,i=r.child):i=Ki(i,r,g),i}function Uv(i,r,a,u){return Dr(),r.flags|=256,Jt(i,r,a,u),r.child}var lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uf(i){return{baseLanes:i,cachePool:Ig()}}function cf(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=_n),i}function Fv(i,r,a){var u=r.pendingProps,g=!1,y=(r.flags&128)!==0,E;if((E=y)||(E=i!==null&&i.memoizedState===null?!1:(bt.current&2)!==0),E&&(g=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(Fe){if(g?xs(r):Rs(),(i=rt)?(i=$y(i,Mn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:_s!==null?{id:Ti,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},a=vg(i),a.return=r,r.child=a,$t=r,rt=null)):i=null,i===null)throw Is(r);return $f(i)?r.lanes=32:r.lanes=536870912,null}var C=u.children;return u=u.fallback,g?(Rs(),g=r.mode,C=gc({mode:"hidden",children:C},g),u=Pr(u,g,a,null),C.return=r,u.return=r,C.sibling=u,r.child=C,u=r.child,u.memoizedState=uf(a),u.childLanes=cf(i,E,a),r.memoizedState=lf,fl(null,u)):(xs(r),df(r,C))}var P=i.memoizedState;if(P!==null&&(C=P.dehydrated,C!==null)){if(y)r.flags&256?(xs(r),r.flags&=-257,r=hf(i,r,a)):r.memoizedState!==null?(Rs(),r.child=i.child,r.flags|=128,r=null):(Rs(),C=u.fallback,g=r.mode,u=gc({mode:"visible",children:u.children},g),C=Pr(C,g,a,null),C.flags|=2,u.return=r,C.return=r,u.sibling=C,r.child=u,qr(r,i.child,null,a),u=r.child,u.memoizedState=uf(a),u.childLanes=cf(i,E,a),r.memoizedState=lf,r=fl(null,u));else if(xs(r),$f(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var G=E.dgst;E=G,u=Error(s(419)),u.stack="",u.digest=E,tl({value:u,source:null,stack:null}),r=hf(i,r,a)}else if(Ot||ko(i,r,a,!1),E=(a&i.childLanes)!==0,Ot||E){if(E=st,E!==null&&(u=Da(E,a),u!==0&&u!==P.retryLane))throw P.retryLane=u,Rr(i,u),pn(E,i,u),of;Gf(C)||Cc(),r=hf(i,r,a)}else Gf(C)?(r.flags|=192,r.child=i.child,r=null):(i=P.treeContext,rt=Ln(C.nextSibling),$t=r,Fe=!0,Cs=null,Mn=!1,i!==null&&wg(r,i),r=df(r,u.children),r.flags|=4096);return r}return g?(Rs(),C=u.fallback,g=r.mode,P=i.child,G=P.sibling,u=Vi(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,G!==null?C=Vi(G,C):(C=Pr(C,g,a,null),C.flags|=2),C.return=r,u.return=r,u.sibling=C,r.child=u,fl(null,u),u=r.child,C=i.child.memoizedState,C===null?C=uf(a):(g=C.cachePool,g!==null?(P=Nt._currentValue,g=g.parent!==P?{parent:P,pool:P}:g):g=Ig(),C={baseLanes:C.baseLanes|a,cachePool:g}),u.memoizedState=C,u.childLanes=cf(i,E,a),r.memoizedState=lf,fl(i.child,u)):(xs(r),a=i.child,i=a.sibling,a=Vi(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=a,r.memoizedState=null,a)}function df(i,r){return r=gc({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function gc(i,r){return i=wn(22,i,null,r),i.lanes=0,i}function hf(i,r,a){return qr(r,i.child,null,a),i=df(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function jv(i,r,a){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Ih(i.return,r,a)}function ff(i,r,a,u,g,y){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:g,treeForkCount:y}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=a,E.tailMode=g,E.treeForkCount=y)}function qv(i,r,a){var u=r.pendingProps,g=u.revealOrder,y=u.tail;u=u.children;var E=bt.current,C=(E&2)!==0;if(C?(E=E&1|2,r.flags|=128):E&=1,ue(bt,E),Jt(i,r,u,a),u=Fe?el:0,!C&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&jv(i,a,r);else if(i.tag===19)jv(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(a=r.child,g=null;a!==null;)i=a.alternate,i!==null&&sc(i)===null&&(g=a),a=a.sibling;a=g,a===null?(g=r.child,r.child=null):(g=a.sibling,a.sibling=null),ff(r,!1,g,a,y,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&sc(i)===null){r.child=g;break}i=g.sibling,g.sibling=a,a=g,g=i}ff(r,!0,a,null,y,u);break;case"together":ff(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Ki(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Ms|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(ko(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Vi(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Vi(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function pf(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Yu(i)))}function uC(i,r,a){switch(r.tag){case 3:Dt(r,r.stateNode.containerInfo),As(r,Nt,i.memoizedState.cache),Dr();break;case 27:case 5:pr(r);break;case 4:Dt(r,r.stateNode.containerInfo);break;case 10:As(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Fh(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(xs(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Fv(i,r,a):(xs(r),i=Ki(i,r,a),i!==null?i.sibling:null);xs(r);break;case 19:var g=(i.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(ko(i,r,a,!1),u=(a&r.childLanes)!==0),g){if(u)return qv(i,r,a);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ue(bt,bt.current),u)break;return null;case 22:return r.lanes=0,Rv(i,r,a,r.pendingProps);case 24:As(r,Nt,i.memoizedState.cache)}return Ki(i,r,a)}function Vv(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ot=!0;else{if(!pf(i,a)&&(r.flags&128)===0)return Ot=!1,uC(i,r,a);Ot=(i.flags&131072)!==0}else Ot=!1,Fe&&(r.flags&1048576)!==0&&bg(r,el,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Fr(r.elementType),r.type=i,typeof i=="function")yh(i)?(u=Hr(i,u),r.tag=1,r=Lv(null,r,i,u,a)):(r.tag=0,r=af(null,r,i,u,a));else{if(i!=null){var g=i.$$typeof;if(g===oe){r.tag=11,r=kv(null,r,i,u,a);break e}else if(g===O){r.tag=14,r=Ov(null,r,i,u,a);break e}}throw r=$e(i)||i,Error(s(306,r,""))}}return r;case 0:return af(i,r,r.type,r.pendingProps,a);case 1:return u=r.type,g=Hr(u,r.pendingProps),Lv(i,r,u,g,a);case 3:e:{if(Dt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var y=r.memoizedState;g=y.element,Ph(i,r),ll(r,u,null,a);var E=r.memoizedState;if(u=E.cache,As(r,Nt,u),u!==y.cache&&Ah(r,[Nt],a,!0),al(),u=E.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Uv(i,r,u,a);break e}else if(u!==g){g=Rn(Error(s(424)),r),tl(g),r=Uv(i,r,u,a);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(rt=Ln(i.firstChild),$t=r,Fe=!0,Cs=null,Mn=!0,a=Rg(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Dr(),u===g){r=Ki(i,r,a);break e}Jt(i,r,u,a)}r=r.child}return r;case 26:return mc(i,r),i===null?(a=Zy(r.type,null,r.pendingProps,null))?r.memoizedState=a:Fe||(a=r.type,i=r.pendingProps,u=Rc(Ne.current).createElement(a),u[Ct]=r,u[jt]=i,Wt(u,a,i),It(u),r.stateNode=u):r.memoizedState=Zy(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return pr(r),i===null&&Fe&&(u=r.stateNode=Wy(r.type,r.pendingProps,Ne.current),$t=r,Mn=!0,g=rt,qs(r.type)?(Kf=g,rt=Ln(u.firstChild)):rt=g),Jt(i,r,r.pendingProps.children,a),mc(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Fe&&((g=u=rt)&&(u=jC(u,r.type,r.pendingProps,Mn),u!==null?(r.stateNode=u,$t=r,rt=Ln(u.firstChild),Mn=!1,g=!0):g=!1),g||Is(r)),pr(r),g=r.type,y=r.pendingProps,E=i!==null?i.memoizedProps:null,u=y.children,Hf(g,y)?u=null:E!==null&&Hf(g,E)&&(r.flags|=32),r.memoizedState!==null&&(g=qh(i,r,eC,null,null,a),Nl._currentValue=g),mc(i,r),Jt(i,r,u,a),r.child;case 6:return i===null&&Fe&&((i=a=rt)&&(a=qC(a,r.pendingProps,Mn),a!==null?(r.stateNode=a,$t=r,rt=null,i=!0):i=!1),i||Is(r)),null;case 13:return Fv(i,r,a);case 4:return Dt(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=qr(r,null,u,a):Jt(i,r,u,a),r.child;case 11:return kv(i,r,r.type,r.pendingProps,a);case 7:return Jt(i,r,r.pendingProps,a),r.child;case 8:return Jt(i,r,r.pendingProps.children,a),r.child;case 12:return Jt(i,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,As(r,r.type,u.value),Jt(i,r,u.children,a),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,Lr(r),g=Kt(g),u=u(g),r.flags|=1,Jt(i,r,u,a),r.child;case 14:return Ov(i,r,r.type,r.pendingProps,a);case 15:return xv(i,r,r.type,r.pendingProps,a);case 19:return qv(i,r,a);case 31:return lC(i,r,a);case 22:return Rv(i,r,a,r.pendingProps);case 24:return Lr(r),u=Kt(Nt),i===null?(g=Oh(),g===null&&(g=st,y=Nh(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=a),g=y),r.memoizedState={parent:u,cache:g},Rh(r),As(r,Nt,g)):((i.lanes&a)!==0&&(Ph(i,r),ll(r,null,null,a),al()),g=i.memoizedState,y=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),As(r,Nt,u)):(u=y.cache,As(r,Nt,u),u!==g.cache&&Ah(r,[Nt],a,!0))),Jt(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ji(i){i.flags|=4}function mf(i,r,a,u,g){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(py())i.flags|=8192;else throw jr=ec,xh}else i.flags&=-16777217}function Hv(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!i0(r))if(py())i.flags|=8192;else throw jr=ec,xh}function vc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Tu():536870912,i.lanes|=r,Vo|=r)}function pl(i,r){if(!Fe)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ot(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(r)for(var g=i.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=u,i.childLanes=a,r}function cC(i,r,a){var u=r.pendingProps;switch(Eh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Bi(Nt),ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(No(r)?Ji(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,_h())),ot(r),null;case 26:var g=r.type,y=r.memoizedState;return i===null?(Ji(r),y!==null?(ot(r),Hv(r,y)):(ot(r),mf(r,g,null,u,a))):y?y!==i.memoizedState?(Ji(r),ot(r),Hv(r,y)):(ot(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&Ji(r),ot(r),mf(r,g,i,u,a)),null;case 27:if(ro(r),a=Ne.current,g=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Ji(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ot(r),null}i=he.current,No(r)?Sg(r):(i=Wy(g,u,a),r.stateNode=i,Ji(r))}return ot(r),null;case 5:if(ro(r),g=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Ji(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(y=he.current,No(r))Sg(r);else{var E=Rc(Ne.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?E.createElement(g,{is:u.is}):E.createElement(g)}}y[Ct]=r,y[jt]=u;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=y;e:switch(Wt(y,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ji(r)}}return ot(r),mf(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,a),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Ji(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ne.current,No(r)){if(i=r.stateNode,a=r.memoizedProps,u=null,g=$t,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}i[Ct]=r,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Fy(i.nodeValue,a)),i||Is(r,!0)}else i=Rc(i).createTextNode(u),i[Ct]=r,r.stateNode=i}return ot(r),null;case 31:if(a=r.memoizedState,i===null||i.memoizedState!==null){if(u=No(r),a!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Ct]=r}else Dr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),i=!1}else a=_h(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return r.flags&256?(En(r),r):(En(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ot(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=No(r),u!==null&&u.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Ct]=r}else Dr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),g=!1}else g=_h(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(En(r),r):(En(r),null)}return En(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,i=i!==null&&i.memoizedState!==null,a&&(u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==g&&(u.flags|=2048)),a!==i&&a&&(r.child.flags|=8192),vc(r,r.updateQueue),ot(r),null);case 4:return ut(),i===null&&Uf(r.stateNode.containerInfo),ot(r),null;case 10:return Bi(r.type),ot(r),null;case 19:if(ee(bt),u=r.memoizedState,u===null)return ot(r),null;if(g=(r.flags&128)!==0,y=u.rendering,y===null)if(g)pl(u,!1);else{if(gt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=sc(i),y!==null){for(r.flags|=128,pl(u,!1),i=y.updateQueue,r.updateQueue=i,vc(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)gg(a,i),a=a.sibling;return ue(bt,bt.current&1|2),Fe&&Hi(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&on()>Ec&&(r.flags|=128,g=!0,pl(u,!1),r.lanes=4194304)}else{if(!g)if(i=sc(y),i!==null){if(r.flags|=128,g=!0,i=i.updateQueue,r.updateQueue=i,vc(r,i),pl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Fe)return ot(r),null}else 2*on()-u.renderingStartTime>Ec&&a!==536870912&&(r.flags|=128,g=!0,pl(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(i=u.last,i!==null?i.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=on(),i.sibling=null,a=bt.current,ue(bt,g?a&1|2:a&1),Fe&&Hi(r,u.treeForkCount),i):(ot(r),null);case 22:case 23:return En(r),Uh(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&vc(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),i!==null&&ee(Ur),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Bi(Nt),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function dC(i,r){switch(Eh(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Bi(Nt),ut(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ro(r),null;case 31:if(r.memoizedState!==null){if(En(r),r.alternate===null)throw Error(s(340));Dr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(En(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Dr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ee(bt),null;case 4:return ut(),null;case 10:return Bi(r.type),null;case 22:case 23:return En(r),Uh(),i!==null&&ee(Ur),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Bi(Nt),null;case 25:return null;default:return null}}function zv(i,r){switch(Eh(r),r.tag){case 3:Bi(Nt),ut();break;case 26:case 27:case 5:ro(r);break;case 4:ut();break;case 31:r.memoizedState!==null&&En(r);break;case 13:En(r);break;case 19:ee(bt);break;case 10:Bi(r.type);break;case 22:case 23:En(r),Uh(),i!==null&&ee(Ur);break;case 24:Bi(Nt)}}function ml(i,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var g=u.next;a=g;do{if((a.tag&i)===i){u=void 0;var y=a.create,E=a.inst;u=y(),E.destroy=u}a=a.next}while(a!==g)}}catch(C){Xe(r,r.return,C)}}function Ps(i,r,a){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&i)===i){var E=u.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,g=r;var P=a,G=C;try{G()}catch(Q){Xe(g,P,Q)}}}u=u.next}while(u!==y)}}catch(Q){Xe(r,r.return,Q)}}function Bv(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{Dg(r,a)}catch(u){Xe(i,i.return,u)}}}function Gv(i,r,a){a.props=Hr(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){Xe(i,r,u)}}function gl(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof a=="function"?i.refCleanup=a(u):a.current=u}}catch(g){Xe(i,r,g)}}function Ci(i,r){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(g){Xe(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){Xe(i,r,g)}else a.current=null}function $v(i){var r=i.type,a=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(g){Xe(i,i.return,g)}}function gf(i,r,a){try{var u=i.stateNode;PC(u,i.type,a,r),u[jt]=r}catch(g){Xe(i,i.return,g)}}function Kv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&qs(i.type)||i.tag===4}function vf(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Kv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&qs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function yf(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=$n));else if(u!==4&&(u===27&&qs(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(yf(i,r,a),i=i.sibling;i!==null;)yf(i,r,a),i=i.sibling}function yc(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(u!==4&&(u===27&&qs(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(yc(i,r,a),i=i.sibling;i!==null;)yc(i,r,a),i=i.sibling}function Jv(i){var r=i.stateNode,a=i.memoizedProps;try{for(var u=i.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Wt(r,u,a),r[Ct]=i,r[jt]=a}catch(y){Xe(i,i.return,y)}}var Wi=!1,xt=!1,bf=!1,Wv=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function hC(i,r){if(i=i.containerInfo,qf=jc,i=ag(i),dh(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var g=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var E=0,C=-1,P=-1,G=0,Q=0,te=i,$=null;t:for(;;){for(var W;te!==a||g!==0&&te.nodeType!==3||(C=E+g),te!==y||u!==0&&te.nodeType!==3||(P=E+u),te.nodeType===3&&(E+=te.nodeValue.length),(W=te.firstChild)!==null;)$=te,te=W;for(;;){if(te===i)break t;if($===a&&++G===g&&(C=E),$===y&&++Q===u&&(P=E),(W=te.nextSibling)!==null)break;te=$,$=te.parentNode}te=W}a=C===-1||P===-1?null:{start:C,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vf={focusedElem:i,selectionRange:a},jc=!1,Vt=r;Vt!==null;)if(r=Vt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Vt=i;else for(;Vt!==null;){switch(r=Vt,y=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)g=i[a],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,a=r,g=y.memoizedProps,y=y.memoizedState,u=a.stateNode;try{var fe=Hr(a.type,g);i=u.getSnapshotBeforeUpdate(fe,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(we){Xe(a,a.return,we)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Bf(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Bf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Vt=i;break}Vt=r.return}}function Yv(i,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(i,a),u&4&&ml(5,a);break;case 1:if(Qi(i,a),u&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(E){Xe(a,a.return,E)}else{var g=Hr(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Xe(a,a.return,E)}}u&64&&Bv(a),u&512&&gl(a,a.return);break;case 3:if(Qi(i,a),u&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Dg(i,r)}catch(E){Xe(a,a.return,E)}}break;case 27:r===null&&u&4&&Jv(a);case 26:case 5:Qi(i,a),r===null&&u&4&&$v(a),u&512&&gl(a,a.return);break;case 12:Qi(i,a);break;case 31:Qi(i,a),u&4&&Xv(i,a);break;case 13:Qi(i,a),u&4&&ey(i,a),u&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=SC.bind(null,a),VC(i,a))));break;case 22:if(u=a.memoizedState!==null||Wi,!u){r=r!==null&&r.memoizedState!==null||xt,g=Wi;var y=xt;Wi=u,(xt=r)&&!y?Zi(i,a,(a.subtreeFlags&8772)!==0):Qi(i,a),Wi=g,xt=y}break;case 30:break;default:Qi(i,a)}}function Qv(i){var r=i.alternate;r!==null&&(i.alternate=null,Qv(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&co(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var dt=null,cn=!1;function Yi(i,r,a){for(a=a.child;a!==null;)Zv(i,r,a),a=a.sibling}function Zv(i,r,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:xt||Ci(a,r),Yi(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xt||Ci(a,r);var u=dt,g=cn;qs(a.type)&&(dt=a.stateNode,cn=!1),Yi(i,r,a),Cl(a.stateNode),dt=u,cn=g;break;case 5:xt||Ci(a,r);case 6:if(u=dt,g=cn,dt=null,Yi(i,r,a),dt=u,cn=g,dt!==null)if(cn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(a.stateNode)}catch(y){Xe(a,r,y)}else try{dt.removeChild(a.stateNode)}catch(y){Xe(a,r,y)}break;case 18:dt!==null&&(cn?(i=dt,By(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Wo(i)):By(dt,a.stateNode));break;case 4:u=dt,g=cn,dt=a.stateNode.containerInfo,cn=!0,Yi(i,r,a),dt=u,cn=g;break;case 0:case 11:case 14:case 15:Ps(2,a,r),xt||Ps(4,a,r),Yi(i,r,a);break;case 1:xt||(Ci(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Gv(a,r,u)),Yi(i,r,a);break;case 21:Yi(i,r,a);break;case 22:xt=(u=xt)||a.memoizedState!==null,Yi(i,r,a),xt=u;break;default:Yi(i,r,a)}}function Xv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Wo(i)}catch(a){Xe(r,r.return,a)}}}function ey(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Wo(i)}catch(a){Xe(r,r.return,a)}}function fC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Wv),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Wv),r;default:throw Error(s(435,i.tag))}}function bc(i,r){var a=fC(i);r.forEach(function(u){if(!a.has(u)){a.add(u);var g=EC.bind(null,i,u);u.then(g,g)}})}function dn(i,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var g=a[u],y=i,E=r,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(qs(C.type)){dt=C.stateNode,cn=!1;break e}break;case 5:dt=C.stateNode,cn=!1;break e;case 3:case 4:dt=C.stateNode.containerInfo,cn=!0;break e}C=C.return}if(dt===null)throw Error(s(160));Zv(y,E,g),dt=null,cn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)ty(r,i),r=r.sibling}var Xn=null;function ty(i,r){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:dn(r,i),hn(i),u&4&&(Ps(3,i,i.return),ml(3,i),Ps(5,i,i.return));break;case 1:dn(r,i),hn(i),u&512&&(xt||a===null||Ci(a,a.return)),u&64&&Wi&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var g=Xn;if(dn(r,i),hn(i),u&512&&(xt||a===null||Ci(a,a.return)),u&4){var y=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){e:{u=i.type,a=i.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":y=g.getElementsByTagName("title")[0],(!y||y[hi]||y[Ct]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(u),g.head.insertBefore(y,g.querySelector("head > title"))),Wt(y,u,a),y[Ct]=i,It(y),u=y;break e;case"link":var E=t0("link","href",g).get(u+(a.href||""));if(E){for(var C=0;C<E.length;C++)if(y=E[C],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(C,1);break t}}y=g.createElement(u),Wt(y,u,a),g.head.appendChild(y);break;case"meta":if(E=t0("meta","content",g).get(u+(a.content||""))){for(C=0;C<E.length;C++)if(y=E[C],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(C,1);break t}}y=g.createElement(u),Wt(y,u,a),g.head.appendChild(y);break;default:throw Error(s(468,u))}y[Ct]=i,It(y),u=y}i.stateNode=u}else n0(g,i.type,i.stateNode);else i.stateNode=e0(g,u,i.memoizedProps);else y!==u?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,u===null?n0(g,i.type,i.stateNode):e0(g,u,i.memoizedProps)):u===null&&i.stateNode!==null&&gf(i,i.memoizedProps,a.memoizedProps)}break;case 27:dn(r,i),hn(i),u&512&&(xt||a===null||Ci(a,a.return)),a!==null&&u&4&&gf(i,i.memoizedProps,a.memoizedProps);break;case 5:if(dn(r,i),hn(i),u&512&&(xt||a===null||Ci(a,a.return)),i.flags&32){g=i.stateNode;try{un(g,"")}catch(fe){Xe(i,i.return,fe)}}u&4&&i.stateNode!=null&&(g=i.memoizedProps,gf(i,g,a!==null?a.memoizedProps:g)),u&1024&&(bf=!0);break;case 6:if(dn(r,i),hn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(fe){Xe(i,i.return,fe)}}break;case 3:if(Mc=null,g=Xn,Xn=Pc(r.containerInfo),dn(r,i),Xn=g,hn(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Wo(r.containerInfo)}catch(fe){Xe(i,i.return,fe)}bf&&(bf=!1,ny(i));break;case 4:u=Xn,Xn=Pc(i.stateNode.containerInfo),dn(r,i),hn(i),Xn=u;break;case 12:dn(r,i),hn(i);break;case 31:dn(r,i),hn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,bc(i,u)));break;case 13:dn(r,i),hn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sc=on()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,bc(i,u)));break;case 22:g=i.memoizedState!==null;var P=a!==null&&a.memoizedState!==null,G=Wi,Q=xt;if(Wi=G||g,xt=Q||P,dn(r,i),xt=Q,Wi=G,hn(i),u&8192)e:for(r=i.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(a===null||P||Wi||xt||zr(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){P=a=r;try{if(y=P.stateNode,g)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=P.stateNode;var te=P.memoizedProps.style,$=te!=null&&te.hasOwnProperty("display")?te.display:null;C.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(fe){Xe(P,P.return,fe)}}}else if(r.tag===6){if(a===null){P=r;try{P.stateNode.nodeValue=g?"":P.memoizedProps}catch(fe){Xe(P,P.return,fe)}}}else if(r.tag===18){if(a===null){P=r;try{var W=P.stateNode;g?Gy(W,!0):Gy(P.stateNode,!1)}catch(fe){Xe(P,P.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,bc(i,a))));break;case 19:dn(r,i),hn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,bc(i,u)));break;case 30:break;case 21:break;default:dn(r,i),hn(i)}}function hn(i){var r=i.flags;if(r&2){try{for(var a,u=i.return;u!==null;){if(Kv(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var g=a.stateNode,y=vf(i);yc(i,y,g);break;case 5:var E=a.stateNode;a.flags&32&&(un(E,""),a.flags&=-33);var C=vf(i);yc(i,C,E);break;case 3:case 4:var P=a.stateNode.containerInfo,G=vf(i);yf(i,G,P);break;default:throw Error(s(161))}}catch(Q){Xe(i,i.return,Q)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function ny(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;ny(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Qi(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Yv(i,r.alternate,r),r=r.sibling}function zr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ps(4,r,r.return),zr(r);break;case 1:Ci(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Gv(r,r.return,a),zr(r);break;case 27:Cl(r.stateNode);case 26:case 5:Ci(r,r.return),zr(r);break;case 22:r.memoizedState===null&&zr(r);break;case 30:zr(r);break;default:zr(r)}i=i.sibling}}function Zi(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=i,y=r,E=y.flags;switch(y.tag){case 0:case 11:case 15:Zi(g,y,a),ml(4,y);break;case 1:if(Zi(g,y,a),u=y,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(G){Xe(u,u.return,G)}if(u=y,g=u.updateQueue,g!==null){var C=u.stateNode;try{var P=g.shared.hiddenCallbacks;if(P!==null)for(g.shared.hiddenCallbacks=null,g=0;g<P.length;g++)Pg(P[g],C)}catch(G){Xe(u,u.return,G)}}a&&E&64&&Bv(y),gl(y,y.return);break;case 27:Jv(y);case 26:case 5:Zi(g,y,a),a&&u===null&&E&4&&$v(y),gl(y,y.return);break;case 12:Zi(g,y,a);break;case 31:Zi(g,y,a),a&&E&4&&Xv(g,y);break;case 13:Zi(g,y,a),a&&E&4&&ey(g,y);break;case 22:y.memoizedState===null&&Zi(g,y,a),gl(y,y.return);break;case 30:break;default:Zi(g,y,a)}r=r.sibling}}function wf(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&nl(a))}function Sf(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&nl(i))}function ei(i,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)iy(i,r,a,u),r=r.sibling}function iy(i,r,a,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:ei(i,r,a,u),g&2048&&ml(9,r);break;case 1:ei(i,r,a,u);break;case 3:ei(i,r,a,u),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&nl(i)));break;case 12:if(g&2048){ei(i,r,a,u),i=r.stateNode;try{var y=r.memoizedProps,E=y.id,C=y.onPostCommit;typeof C=="function"&&C(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){Xe(r,r.return,P)}}else ei(i,r,a,u);break;case 31:ei(i,r,a,u);break;case 13:ei(i,r,a,u);break;case 23:break;case 22:y=r.stateNode,E=r.alternate,r.memoizedState!==null?y._visibility&2?ei(i,r,a,u):vl(i,r):y._visibility&2?ei(i,r,a,u):(y._visibility|=2,Fo(i,r,a,u,(r.subtreeFlags&10256)!==0||!1)),g&2048&&wf(E,r);break;case 24:ei(i,r,a,u),g&2048&&Sf(r.alternate,r);break;default:ei(i,r,a,u)}}function Fo(i,r,a,u,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=i,E=r,C=a,P=u,G=E.flags;switch(E.tag){case 0:case 11:case 15:Fo(y,E,C,P,g),ml(8,E);break;case 23:break;case 22:var Q=E.stateNode;E.memoizedState!==null?Q._visibility&2?Fo(y,E,C,P,g):vl(y,E):(Q._visibility|=2,Fo(y,E,C,P,g)),g&&G&2048&&wf(E.alternate,E);break;case 24:Fo(y,E,C,P,g),g&&G&2048&&Sf(E.alternate,E);break;default:Fo(y,E,C,P,g)}r=r.sibling}}function vl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,u=r,g=u.flags;switch(u.tag){case 22:vl(a,u),g&2048&&wf(u.alternate,u);break;case 24:vl(a,u),g&2048&&Sf(u.alternate,u);break;default:vl(a,u)}r=r.sibling}}var yl=8192;function jo(i,r,a){if(i.subtreeFlags&yl)for(i=i.child;i!==null;)sy(i,r,a),i=i.sibling}function sy(i,r,a){switch(i.tag){case 26:jo(i,r,a),i.flags&yl&&i.memoizedState!==null&&XC(a,Xn,i.memoizedState,i.memoizedProps);break;case 5:jo(i,r,a);break;case 3:case 4:var u=Xn;Xn=Pc(i.stateNode.containerInfo),jo(i,r,a),Xn=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=yl,yl=16777216,jo(i,r,a),yl=u):jo(i,r,a));break;default:jo(i,r,a)}}function ry(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function bl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Vt=u,ay(u,i)}ry(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)oy(i),i=i.sibling}function oy(i){switch(i.tag){case 0:case 11:case 15:bl(i),i.flags&2048&&Ps(9,i,i.return);break;case 3:bl(i);break;case 12:bl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,wc(i)):bl(i);break;default:bl(i)}}function wc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Vt=u,ay(u,i)}ry(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ps(8,r,r.return),wc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,wc(r));break;default:wc(r)}i=i.sibling}}function ay(i,r){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Ps(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:nl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Vt=u;else e:for(a=i;Vt!==null;){u=Vt;var g=u.sibling,y=u.return;if(Qv(u),u===a){Vt=null;break e}if(g!==null){g.return=y,Vt=g;break e}Vt=y}}}var pC={getCacheForType:function(i){var r=Kt(Nt),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a},cacheSignal:function(){return Kt(Nt).controller.signal}},mC=typeof WeakMap=="function"?WeakMap:Map,Ke=0,st=null,xe=null,Pe=0,Ze=0,Tn=null,Ds=!1,qo=!1,Ef=!1,Xi=0,gt=0,Ms=0,Br=0,Tf=0,_n=0,Vo=0,wl=null,fn=null,_f=!1,Sc=0,ly=0,Ec=1/0,Tc=null,Ls=null,Lt=0,Us=null,Ho=null,es=0,Cf=0,If=null,uy=null,Sl=0,Af=null;function Cn(){return(Ke&2)!==0&&Pe!==0?Pe&-Pe:Y.T!==null?Pf():_u()}function cy(){if(_n===0)if((Pe&536870912)===0||Fe){var i=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),_n=i}else _n=536870912;return i=Sn.current,i!==null&&(i.flags|=32),_n}function pn(i,r,a){(i===st&&(Ze===2||Ze===9)||i.cancelPendingCommit!==null)&&(zo(i,0),Fs(i,Pe,_n,!1)),yr(i,a),((Ke&2)===0||i!==st)&&(i===st&&((Ke&2)===0&&(Br|=a),gt===4&&Fs(i,Pe,_n,!1)),Ii(i))}function dy(i,r,a){if((Ke&6)!==0)throw Error(s(327));var u=!a&&(r&127)===0&&(r&i.expiredLanes)===0||zn(i,r),g=u?yC(i,r):kf(i,r,!0),y=u;do{if(g===0){qo&&!u&&Fs(i,r,0,!1);break}else{if(a=i.current.alternate,y&&!gC(a)){g=kf(i,r,!1),y=!1;continue}if(g===2){if(y=r,i.errorRecoveryDisabledLanes&y)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var C=i;g=wl;var P=C.current.memoizedState.isDehydrated;if(P&&(zo(C,E).flags|=256),E=kf(C,E,!1),E!==2){if(Ef&&!P){C.errorRecoveryDisabledLanes|=y,Br|=y,g=4;break e}y=fn,fn=g,y!==null&&(fn===null?fn=y:fn.push.apply(fn,y))}g=E}if(y=!1,g!==2)continue}}if(g===1){zo(i,0),Fs(i,r,0,!0);break}e:{switch(u=i,y=g,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Fs(u,r,_n,!Ds);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=Sc+300-on(),10<g)){if(Fs(u,r,_n,!Ds),ui(u,0,!0)!==0)break e;es=r,u.timeoutHandle=Hy(hy.bind(null,u,a,fn,Tc,_f,r,_n,Br,Vo,Ds,y,"Throttled",-0,0),g);break e}hy(u,a,fn,Tc,_f,r,_n,Br,Vo,Ds,y,null,-0,0)}}break}while(!0);Ii(i)}function hy(i,r,a,u,g,y,E,C,P,G,Q,te,$,W){if(i.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},sy(r,y,te);var fe=(y&62914560)===y?Sc-on():(y&4194048)===y?ly-on():0;if(fe=eI(te,fe),fe!==null){es=y,i.cancelPendingCommit=fe(wy.bind(null,i,r,y,a,u,g,E,C,P,Q,te,null,$,W)),Fs(i,y,E,!G);return}}wy(i,r,y,a,u,g,E,C,P)}function gC(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var g=a[u],y=g.getSnapshot;g=g.value;try{if(!bn(y(),g))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fs(i,r,a,u){r&=~Tf,r&=~Br,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var g=r;0<g;){var y=31-vt(g),E=1<<y;u[y]=-1,g&=~E}a!==0&&br(i,a,r)}function _c(){return(Ke&6)===0?(El(0),!1):!0}function Nf(){if(xe!==null){if(Ze===0)var i=xe.return;else i=xe,zi=Mr=null,zh(i),Po=null,sl=0,i=xe;for(;i!==null;)zv(i.alternate,i),i=i.return;xe=null}}function zo(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,LC(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),es=0,Nf(),st=i,xe=a=Vi(i.current,null),Pe=r,Ze=0,Tn=null,Ds=!1,qo=zn(i,r),Ef=!1,Vo=_n=Tf=Br=Ms=gt=0,fn=wl=null,_f=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var g=31-vt(u),y=1<<g;r|=i[g],u&=~y}return Xi=r,Gu(),a}function fy(i,r){Ae=null,Y.H=hl,r===Ro||r===Xu?(r=kg(),Ze=3):r===xh?(r=kg(),Ze=4):Ze=r===of?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Tn=r,xe===null&&(gt=1,fc(i,Rn(r,i.current)))}function py(){var i=Sn.current;return i===null?!0:(Pe&4194048)===Pe?Zn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?i===Zn:!1}function my(){var i=Y.H;return Y.H=hl,i===null?hl:i}function gy(){var i=Y.A;return Y.A=pC,i}function Cc(){gt=4,Ds||(Pe&4194048)!==Pe&&Sn.current!==null||(qo=!0),(Ms&134217727)===0&&(Br&134217727)===0||st===null||Fs(st,Pe,_n,!1)}function kf(i,r,a){var u=Ke;Ke|=2;var g=my(),y=gy();(st!==i||Pe!==r)&&(Tc=null,zo(i,r)),r=!1;var E=gt;e:do try{if(Ze!==0&&xe!==null){var C=xe,P=Tn;switch(Ze){case 8:Nf(),E=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(r=!0);var G=Ze;if(Ze=0,Tn=null,Bo(i,C,P,G),a&&qo){E=0;break e}break;default:G=Ze,Ze=0,Tn=null,Bo(i,C,P,G)}}vC(),E=gt;break}catch(Q){fy(i,Q)}while(!0);return r&&i.shellSuspendCounter++,zi=Mr=null,Ke=u,Y.H=g,Y.A=y,xe===null&&(st=null,Pe=0,Gu()),E}function vC(){for(;xe!==null;)vy(xe)}function yC(i,r){var a=Ke;Ke|=2;var u=my(),g=gy();st!==i||Pe!==r?(Tc=null,Ec=on()+500,zo(i,r)):qo=zn(i,r);e:do try{if(Ze!==0&&xe!==null){r=xe;var y=Tn;t:switch(Ze){case 1:Ze=0,Tn=null,Bo(i,r,y,1);break;case 2:case 9:if(Ag(y)){Ze=0,Tn=null,yy(r);break}r=function(){Ze!==2&&Ze!==9||st!==i||(Ze=7),Ii(i)},y.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Ag(y)?(Ze=0,Tn=null,yy(r)):(Ze=0,Tn=null,Bo(i,r,y,7));break;case 5:var E=null;switch(xe.tag){case 26:E=xe.memoizedState;case 5:case 27:var C=xe;if(E?i0(E):C.stateNode.complete){Ze=0,Tn=null;var P=C.sibling;if(P!==null)xe=P;else{var G=C.return;G!==null?(xe=G,Ic(G)):xe=null}break t}}Ze=0,Tn=null,Bo(i,r,y,5);break;case 6:Ze=0,Tn=null,Bo(i,r,y,6);break;case 8:Nf(),gt=6;break e;default:throw Error(s(462))}}bC();break}catch(Q){fy(i,Q)}while(!0);return zi=Mr=null,Y.H=u,Y.A=g,Ke=a,xe!==null?0:(st=null,Pe=0,Gu(),gt)}function bC(){for(;xe!==null&&!sh();)vy(xe)}function vy(i){var r=Vv(i.alternate,i,Xi);i.memoizedProps=i.pendingProps,r===null?Ic(i):xe=r}function yy(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=Mv(a,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=Mv(a,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:zh(r);default:zv(a,r),r=xe=gg(r,Xi),r=Vv(a,r,Xi)}i.memoizedProps=i.pendingProps,r===null?Ic(i):xe=r}function Bo(i,r,a,u){zi=Mr=null,zh(r),Po=null,sl=0;var g=r.return;try{if(aC(i,g,r,a,Pe)){gt=1,fc(i,Rn(a,i.current)),xe=null;return}}catch(y){if(g!==null)throw xe=g,y;gt=1,fc(i,Rn(a,i.current)),xe=null;return}r.flags&32768?(Fe||u===1?i=!0:qo||(Pe&536870912)!==0?i=!1:(Ds=i=!0,(u===2||u===9||u===3||u===6)&&(u=Sn.current,u!==null&&u.tag===13&&(u.flags|=16384))),by(r,i)):Ic(r)}function Ic(i){var r=i;do{if((r.flags&32768)!==0){by(r,Ds);return}i=r.return;var a=cC(r.alternate,r,Xi);if(a!==null){xe=a;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=i}while(r!==null);gt===0&&(gt=5)}function by(i,r){do{var a=dC(i.alternate,i);if(a!==null){a.flags&=32767,xe=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){xe=i;return}xe=i=a}while(i!==null);gt=6,xe=null}function wy(i,r,a,u,g,y,E,C,P){i.cancelPendingCommit=null;do Ac();while(Lt!==0);if((Ke&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=gh,ah(i,a,y,E,C,P),i===st&&(xe=st=null,Pe=0),Ho=r,Us=i,es=a,Cf=y,If=g,uy=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,TC(ps,function(){return Cy(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,g=le.p,le.p=2,E=Ke,Ke|=4;try{hC(i,r,a)}finally{Ke=E,le.p=g,Y.T=u}}Lt=1,Sy(),Ey(),Ty()}}function Sy(){if(Lt===1){Lt=0;var i=Us,r=Ho,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var u=le.p;le.p=2;var g=Ke;Ke|=4;try{ty(r,i);var y=Vf,E=ag(i.containerInfo),C=y.focusedElem,P=y.selectionRange;if(E!==C&&C&&C.ownerDocument&&og(C.ownerDocument.documentElement,C)){if(P!==null&&dh(C)){var G=P.start,Q=P.end;if(Q===void 0&&(Q=G),"selectionStart"in C)C.selectionStart=G,C.selectionEnd=Math.min(Q,C.value.length);else{var te=C.ownerDocument||document,$=te&&te.defaultView||window;if($.getSelection){var W=$.getSelection(),fe=C.textContent.length,we=Math.min(P.start,fe),it=P.end===void 0?we:Math.min(P.end,fe);!W.extend&&we>it&&(E=it,it=we,we=E);var q=rg(C,we),U=rg(C,it);if(q&&U&&(W.rangeCount!==1||W.anchorNode!==q.node||W.anchorOffset!==q.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var B=te.createRange();B.setStart(q.node,q.offset),W.removeAllRanges(),we>it?(W.addRange(B),W.extend(U.node,U.offset)):(B.setEnd(U.node,U.offset),W.addRange(B))}}}}for(te=[],W=C;W=W.parentNode;)W.nodeType===1&&te.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<te.length;C++){var Z=te[C];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}jc=!!qf,Vf=qf=null}finally{Ke=g,le.p=u,Y.T=a}}i.current=r,Lt=2}}function Ey(){if(Lt===2){Lt=0;var i=Us,r=Ho,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var u=le.p;le.p=2;var g=Ke;Ke|=4;try{Yv(i,r.alternate,r)}finally{Ke=g,le.p=u,Y.T=a}}Lt=3}}function Ty(){if(Lt===4||Lt===3){Lt=0,vu();var i=Us,r=Ho,a=es,u=uy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Lt=5:(Lt=0,Ho=Us=null,_y(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Ls=null),Li(a),r=r.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Hn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Y.T,g=le.p,le.p=2,Y.T=null;try{for(var y=i.onRecoverableError,E=0;E<u.length;E++){var C=u[E];y(C.value,{componentStack:C.stack})}}finally{Y.T=r,le.p=g}}(es&3)!==0&&Ac(),Ii(i),g=i.pendingLanes,(a&261930)!==0&&(g&42)!==0?i===Af?Sl++:(Sl=0,Af=i):Sl=0,El(0)}}function _y(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,nl(r)))}function Ac(){return Sy(),Ey(),Ty(),Cy()}function Cy(){if(Lt!==5)return!1;var i=Us,r=Cf;Cf=0;var a=Li(es),u=Y.T,g=le.p;try{le.p=32>a?32:a,Y.T=null,a=If,If=null;var y=Us,E=es;if(Lt=0,Ho=Us=null,es=0,(Ke&6)!==0)throw Error(s(331));var C=Ke;if(Ke|=4,oy(y.current),iy(y,y.current,E,a),Ke=C,El(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Hn,y)}catch{}return!0}finally{le.p=g,Y.T=u,_y(i,r)}}function Iy(i,r,a){r=Rn(a,r),r=rf(i.stateNode,r,2),i=Os(i,r,2),i!==null&&(yr(i,2),Ii(i))}function Xe(i,r,a){if(i.tag===3)Iy(i,i,a);else for(;r!==null;){if(r.tag===3){Iy(r,i,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ls===null||!Ls.has(u))){i=Rn(a,i),a=Av(2),u=Os(r,a,2),u!==null&&(Nv(a,u,r,i),yr(u,2),Ii(u));break}}r=r.return}}function Of(i,r,a){var u=i.pingCache;if(u===null){u=i.pingCache=new mC;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(a)||(Ef=!0,g.add(a),i=wC.bind(null,i,r,a),r.then(i,i))}function wC(i,r,a){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,st===i&&(Pe&a)===a&&(gt===4||gt===3&&(Pe&62914560)===Pe&&300>on()-Sc?(Ke&2)===0&&zo(i,0):Tf|=a,Vo===Pe&&(Vo=0)),Ii(i)}function Ay(i,r){r===0&&(r=Tu()),i=Rr(i,r),i!==null&&(yr(i,r),Ii(i))}function SC(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),Ay(i,a)}function EC(i,r){var a=0;switch(i.tag){case 31:case 13:var u=i.stateNode,g=i.memoizedState;g!==null&&(a=g.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Ay(i,a)}function TC(i,r){return Mt(i,r)}var Nc=null,Go=null,xf=!1,kc=!1,Rf=!1,js=0;function Ii(i){i!==Go&&i.next===null&&(Go===null?Nc=Go=i:Go=Go.next=i),kc=!0,xf||(xf=!0,CC())}function El(i,r){if(!Rf&&kc){Rf=!0;do for(var a=!1,u=Nc;u!==null;){if(i!==0){var g=u.pendingLanes;if(g===0)var y=0;else{var E=u.suspendedLanes,C=u.pingedLanes;y=(1<<31-vt(42|i)+1)-1,y&=g&~(E&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,xy(u,y))}else y=Pe,y=ui(u,u===st?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||zn(u,y)||(a=!0,xy(u,y));u=u.next}while(a);Rf=!1}}function _C(){Ny()}function Ny(){kc=xf=!1;var i=0;js!==0&&MC()&&(i=js);for(var r=on(),a=null,u=Nc;u!==null;){var g=u.next,y=ky(u,r);y===0?(u.next=null,a===null?Nc=g:a.next=g,g===null&&(Go=a)):(a=u,(i!==0||(y&3)!==0)&&(kc=!0)),u=g}Lt!==0&&Lt!==5||El(i),js!==0&&(js=0)}function ky(i,r){for(var a=i.suspendedLanes,u=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var E=31-vt(y),C=1<<E,P=g[E];P===-1?((C&a)===0||(C&u)!==0)&&(g[E]=oh(C,r)):P<=r&&(i.expiredLanes|=C),y&=~C}if(r=st,a=Pe,a=ui(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,a===0||i===r&&(Ze===2||Ze===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&fs(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||zn(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(u!==null&&fs(u),Li(a)){case 2:case 8:a=Ra;break;case 32:a=ps;break;case 268435456:a=yu;break;default:a=ps}return u=Oy.bind(null,i),a=Mt(a,u),i.callbackPriority=r,i.callbackNode=a,r}return u!==null&&u!==null&&fs(u),i.callbackPriority=2,i.callbackNode=null,2}function Oy(i,r){if(Lt!==0&&Lt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Ac()&&i.callbackNode!==a)return null;var u=Pe;return u=ui(i,i===st?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(dy(i,u,r),ky(i,on()),i.callbackNode!=null&&i.callbackNode===a?Oy.bind(null,i):null)}function xy(i,r){if(Ac())return null;dy(i,r,!0)}function CC(){UC(function(){(Ke&6)!==0?Mt(xa,_C):Ny()})}function Pf(){if(js===0){var i=Oo;i===0&&(i=ai,ai<<=1,(ai&261888)===0&&(ai=256)),js=i}return js}function Ry(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:mo(""+i)}function Py(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function IC(i,r,a,u,g){if(r==="submit"&&a&&a.stateNode===g){var y=Ry((g[jt]||null).action),E=u.submitter;E&&(r=(r=E[jt]||null)?Ry(r.formAction):E.getAttribute("formAction"),r!==null&&(y=r,E=null));var C=new wi("action","action",null,u,g);i.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(js!==0){var P=E?Py(g,E):new FormData(g);Zh(a,{pending:!0,data:P,method:g.method,action:y},null,P)}}else typeof y=="function"&&(C.preventDefault(),P=E?Py(g,E):new FormData(g),Zh(a,{pending:!0,data:P,method:g.method,action:y},y,P))},currentTarget:g}]})}}for(var Df=0;Df<mh.length;Df++){var Mf=mh[Df],AC=Mf.toLowerCase(),NC=Mf[0].toUpperCase()+Mf.slice(1);Qn(AC,"on"+NC)}Qn(cg,"onAnimationEnd"),Qn(dg,"onAnimationIteration"),Qn(hg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(B_,"onTransitionRun"),Qn(G_,"onTransitionStart"),Qn($_,"onTransitionCancel"),Qn(fg,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function Dy(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],g=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var E=u.length-1;0<=E;E--){var C=u[E],P=C.instance,G=C.currentTarget;if(C=C.listener,P!==y&&g.isPropagationStopped())break e;y=C,g.currentTarget=G;try{y(g)}catch(Q){Bu(Q)}g.currentTarget=null,y=P}else for(E=0;E<u.length;E++){if(C=u[E],P=C.instance,G=C.currentTarget,C=C.listener,P!==y&&g.isPropagationStopped())break e;y=C,g.currentTarget=G;try{y(g)}catch(Q){Bu(Q)}g.currentTarget=null,y=P}}}}function Re(i,r){var a=r[uo];a===void 0&&(a=r[uo]=new Set);var u=i+"__bubble";a.has(u)||(My(r,i,2,!1),a.add(u))}function Lf(i,r,a){var u=0;r&&(u|=4),My(a,i,u,r)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Uf(i){if(!i[Oc]){i[Oc]=!0,Ma.forEach(function(a){a!=="selectionchange"&&(kC.has(a)||Lf(a,!1,i),Lf(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Oc]||(r[Oc]=!0,Lf("selectionchange",!1,r))}}function My(i,r,a,u){switch(c0(r)){case 2:var g=iI;break;case 8:g=sI;break;default:g=Zf}a=g.bind(null,r,a,i),g=void 0,!_r||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?i.addEventListener(r,a,{capture:!0,passive:g}):i.addEventListener(r,a,!0):g!==void 0?i.addEventListener(r,a,{passive:g}):i.addEventListener(r,a,!1)}function Ff(i,r,a,u,g){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var C=u.stateNode.containerInfo;if(C===g)break;if(E===4)for(E=u.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;C!==null;){if(E=fi(C),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){u=y=E;continue e}C=C.parentNode}}u=u.return}ws(function(){var G=y,Q=Nn(a),te=[];e:{var $=pg.get(i);if($!==void 0){var W=wi,fe=i;switch(i){case"keypress":if(Ir(a)===0)break e;case"keydown":case"keyup":W=Vu;break;case"focusin":fe="focus",W=Nr;break;case"focusout":fe="blur",W=Nr;break;case"beforeblur":case"afterblur":W=Nr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ja;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=w;break;case cg:case dg:case hg:W=Du;break;case fg:W=I;break;case"scroll":case"scrollend":W=Ka;break;case"wheel":W=J;break;case"copy":case"cut":case"paste":W=Mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=ji;break;case"toggle":case"beforetoggle":W=ke}var we=(r&4)!==0,it=!we&&(i==="scroll"||i==="scrollend"),q=we?$!==null?$+"Capture":null:$;we=[];for(var U=G,B;U!==null;){var Z=U;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||q===null||(Z=Kn(U,q),Z!=null&&we.push(_l(U,Z,B))),it)break;U=U.return}0<we.length&&($=new W($,fe,null,a,Q),te.push({event:$,listeners:we}))}}if((r&7)===0){e:{if($=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",$&&a!==Ba&&(fe=a.relatedTarget||a.fromElement)&&(fi(fe)||fe[di]))break e;if((W||$)&&($=Q.window===Q?Q:($=Q.ownerDocument)?$.defaultView||$.parentWindow:window,W?(fe=a.relatedTarget||a.toElement,W=G,fe=fe?fi(fe):null,fe!==null&&(it=l(fe),we=fe.tag,fe!==it||we!==5&&we!==27&&we!==6)&&(fe=null)):(W=null,fe=G),W!==fe)){if(we=Ja,Z="onMouseLeave",q="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(we=ji,Z="onPointerLeave",q="onPointerEnter",U="pointer"),it=W==null?$:gn(W),B=fe==null?$:gn(fe),$=new we(Z,U+"leave",W,a,Q),$.target=it,$.relatedTarget=B,Z=null,fi(Q)===G&&(we=new we(q,U+"enter",fe,a,Q),we.target=B,we.relatedTarget=it,Z=we),it=Z,W&&fe)t:{for(we=OC,q=W,U=fe,B=0,Z=q;Z;Z=we(Z))B++;Z=0;for(var ve=U;ve;ve=we(ve))Z++;for(;0<B-Z;)q=we(q),B--;for(;0<Z-B;)U=we(U),Z--;for(;B--;){if(q===U||U!==null&&q===U.alternate){we=q;break t}q=we(q),U=we(U)}we=null}else we=null;W!==null&&Ly(te,$,W,we,!1),fe!==null&&it!==null&&Ly(te,it,fe,we,!0)}}e:{if($=G?gn(G):window,W=$.nodeName&&$.nodeName.toLowerCase(),W==="select"||W==="input"&&$.type==="file")var ze=Xm;else if(Qm($))if(eg)ze=V_;else{ze=j_;var me=F_}else W=$.nodeName,!W||W.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&po(G.elementType)&&(ze=Xm):ze=q_;if(ze&&(ze=ze(i,G))){Zm(te,ze,a,Q);break e}me&&me(i,$,G),i==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&Va($,"number",$.value)}switch(me=G?gn(G):window,i){case"focusin":(Qm(me)||me.contentEditable==="true")&&(Eo=me,hh=G,Xa=null);break;case"focusout":Xa=hh=Eo=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,lg(te,a,Q);break;case"selectionchange":if(z_)break;case"keydown":case"keyup":lg(te,a,Q)}var Oe;if(Qe)e:{switch(i){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else So?kr(i,a)&&(De="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(qi&&a.locale!=="ko"&&(So||De!=="onCompositionStart"?De==="onCompositionEnd"&&So&&(Oe=$a()):(bi=Q,Ga="value"in bi?bi.value:bi.textContent,So=!0)),me=xc(G,De),0<me.length&&(De=new Ei(De,i,null,a,Q),te.push({event:De,listeners:me}),Oe?De.data=Oe:(Oe=wo(a),Oe!==null&&(De.data=Oe)))),(Oe=On?D_(i,a):M_(i,a))&&(De=xc(G,"onBeforeInput"),0<De.length&&(me=new Ei("onBeforeInput","beforeinput",null,a,Q),te.push({event:me,listeners:De}),me.data=Oe)),IC(te,i,G,a,Q)}Dy(te,r)})}function _l(i,r,a){return{instance:i,listener:r,currentTarget:a}}function xc(i,r){for(var a=r+"Capture",u=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Kn(i,a),g!=null&&u.unshift(_l(i,g,y)),g=Kn(i,r),g!=null&&u.push(_l(i,g,y))),i.tag===3)return u;i=i.return}return[]}function OC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ly(i,r,a,u,g){for(var y=r._reactName,E=[];a!==null&&a!==u;){var C=a,P=C.alternate,G=C.stateNode;if(C=C.tag,P!==null&&P===u)break;C!==5&&C!==26&&C!==27||G===null||(P=G,g?(G=Kn(a,y),G!=null&&E.unshift(_l(a,G,P))):g||(G=Kn(a,y),G!=null&&E.push(_l(a,G,P)))),a=a.return}E.length!==0&&i.push({event:r,listeners:E})}var xC=/\r\n?/g,RC=/\u0000|\uFFFD/g;function Uy(i){return(typeof i=="string"?i:""+i).replace(xC,`
`).replace(RC,"")}function Fy(i,r){return r=Uy(r),Uy(i)===r}function nt(i,r,a,u,g,y){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||un(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&un(i,""+u);break;case"className":vn(i,"class",u);break;case"tabIndex":vn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(i,a,u);break;case"style":za(i,u,y);break;case"data":if(r!=="object"){vn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=mo(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(r!=="input"&&nt(i,r,"name",g.name,g,null),nt(i,r,"formEncType",g.formEncType,g,null),nt(i,r,"formMethod",g.formMethod,g,null),nt(i,r,"formTarget",g.formTarget,g,null)):(nt(i,r,"encType",g.encType,g,null),nt(i,r,"method",g.method,g,null),nt(i,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=mo(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=$n);break;case"onScroll":u!=null&&Re("scroll",i);break;case"onScrollEnd":u!=null&&Re("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=mo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":Re("beforetoggle",i),Re("toggle",i),ho(i,"popover",u);break;case"xlinkActuate":At(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":At(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":At(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":At(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":At(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":At(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":At(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":At(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":At(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ho(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xu.get(a)||a,ho(i,a,u))}}function jf(i,r,a,u,g,y){switch(a){case"style":za(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof u=="string"?un(i,u):(typeof u=="number"||typeof u=="bigint")&&un(i,""+u);break;case"onScroll":u!=null&&Re("scroll",i);break;case"onScrollEnd":u!=null&&Re("scrollend",i);break;case"onClick":u!=null&&(i.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!La.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),r=a.slice(2,g?a.length-7:void 0),y=i[jt]||null,y=y!=null?y[a]:null,typeof y=="function"&&i.removeEventListener(r,y,g),typeof u=="function")){typeof y!="function"&&y!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,u,g);break e}a in i?i[a]=u:u===!0?i.setAttribute(a,""):ho(i,a,u)}}}function Wt(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",i),Re("load",i);var u=!1,g=!1,y;for(y in a)if(a.hasOwnProperty(y)){var E=a[y];if(E!=null)switch(y){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(i,r,y,E,a,null)}}g&&nt(i,r,"srcSet",a.srcSet,a,null),u&&nt(i,r,"src",a.src,a,null);return;case"input":Re("invalid",i);var C=y=E=g=null,P=null,G=null;for(u in a)if(a.hasOwnProperty(u)){var Q=a[u];if(Q!=null)switch(u){case"name":g=Q;break;case"type":E=Q;break;case"checked":P=Q;break;case"defaultChecked":G=Q;break;case"value":y=Q;break;case"defaultValue":C=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:nt(i,r,u,Q,a,null)}}Nu(i,y,C,P,G,E,g,!1);return;case"select":Re("invalid",i),u=E=y=null;for(g in a)if(a.hasOwnProperty(g)&&(C=a[g],C!=null))switch(g){case"value":y=C;break;case"defaultValue":E=C;break;case"multiple":u=C;default:nt(i,r,g,C,a,null)}r=y,a=E,i.multiple=!!u,r!=null?gs(i,!!u,r,!1):a!=null&&gs(i,!!u,a,!0);return;case"textarea":Re("invalid",i),y=g=u=null;for(E in a)if(a.hasOwnProperty(E)&&(C=a[E],C!=null))switch(E){case"value":u=C;break;case"defaultValue":g=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:nt(i,r,E,C,a,null)}vs(i,u,g,y);return;case"option":for(P in a)if(a.hasOwnProperty(P)&&(u=a[P],u!=null))switch(P){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:nt(i,r,P,u,a,null)}return;case"dialog":Re("beforetoggle",i),Re("toggle",i),Re("cancel",i),Re("close",i);break;case"iframe":case"object":Re("load",i);break;case"video":case"audio":for(u=0;u<Tl.length;u++)Re(Tl[u],i);break;case"image":Re("error",i),Re("load",i);break;case"details":Re("toggle",i);break;case"embed":case"source":case"link":Re("error",i),Re("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(u=a[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(i,r,G,u,a,null)}return;default:if(po(r)){for(Q in a)a.hasOwnProperty(Q)&&(u=a[Q],u!==void 0&&jf(i,r,Q,u,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(u=a[C],u!=null&&nt(i,r,C,u,a,null))}function PC(i,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,E=null,C=null,P=null,G=null,Q=null;for(W in a){var te=a[W];if(a.hasOwnProperty(W)&&te!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":P=te;default:u.hasOwnProperty(W)||nt(i,r,W,null,u,te)}}for(var $ in u){var W=u[$];if(te=a[$],u.hasOwnProperty($)&&(W!=null||te!=null))switch($){case"type":y=W;break;case"name":g=W;break;case"checked":G=W;break;case"defaultChecked":Q=W;break;case"value":E=W;break;case"defaultValue":C=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==te&&nt(i,r,$,W,u,te)}}fo(i,E,C,P,G,Q,y,g);return;case"select":W=E=C=$=null;for(y in a)if(P=a[y],a.hasOwnProperty(y)&&P!=null)switch(y){case"value":break;case"multiple":W=P;default:u.hasOwnProperty(y)||nt(i,r,y,null,u,P)}for(g in u)if(y=u[g],P=a[g],u.hasOwnProperty(g)&&(y!=null||P!=null))switch(g){case"value":$=y;break;case"defaultValue":C=y;break;case"multiple":E=y;default:y!==P&&nt(i,r,g,y,u,P)}r=C,a=E,u=W,$!=null?gs(i,!!a,$,!1):!!u!=!!a&&(r!=null?gs(i,!!a,r,!0):gs(i,!!a,a?[]:"",!1));return;case"textarea":W=$=null;for(C in a)if(g=a[C],a.hasOwnProperty(C)&&g!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:nt(i,r,C,null,u,g)}for(E in u)if(g=u[E],y=a[E],u.hasOwnProperty(E)&&(g!=null||y!=null))switch(E){case"value":$=g;break;case"defaultValue":W=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==y&&nt(i,r,E,g,u,y)}ku(i,$,W);return;case"option":for(var fe in a)if($=a[fe],a.hasOwnProperty(fe)&&$!=null&&!u.hasOwnProperty(fe))switch(fe){case"selected":i.selected=!1;break;default:nt(i,r,fe,null,u,$)}for(P in u)if($=u[P],W=a[P],u.hasOwnProperty(P)&&$!==W&&($!=null||W!=null))switch(P){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:nt(i,r,P,$,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)$=a[we],a.hasOwnProperty(we)&&$!=null&&!u.hasOwnProperty(we)&&nt(i,r,we,null,u,$);for(G in u)if($=u[G],W=a[G],u.hasOwnProperty(G)&&$!==W&&($!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:nt(i,r,G,$,u,W)}return;default:if(po(r)){for(var it in a)$=a[it],a.hasOwnProperty(it)&&$!==void 0&&!u.hasOwnProperty(it)&&jf(i,r,it,void 0,u,$);for(Q in u)$=u[Q],W=a[Q],!u.hasOwnProperty(Q)||$===W||$===void 0&&W===void 0||jf(i,r,Q,$,u,W);return}}for(var q in a)$=a[q],a.hasOwnProperty(q)&&$!=null&&!u.hasOwnProperty(q)&&nt(i,r,q,null,u,$);for(te in u)$=u[te],W=a[te],!u.hasOwnProperty(te)||$===W||$==null&&W==null||nt(i,r,te,$,u,W)}function jy(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var g=a[u],y=g.transferSize,E=g.initiatorType,C=g.duration;if(y&&C&&jy(E)){for(E=0,C=g.responseEnd,u+=1;u<a.length;u++){var P=a[u],G=P.startTime;if(G>C)break;var Q=P.transferSize,te=P.initiatorType;Q&&jy(te)&&(P=P.responseEnd,E+=Q*(P<C?1:(C-G)/(P-G)))}if(--u,r+=8*(y+E)/(g.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var qf=null,Vf=null;function Rc(i){return i.nodeType===9?i:i.ownerDocument}function qy(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vy(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Hf(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var zf=null;function MC(){var i=window.event;return i&&i.type==="popstate"?i===zf?!1:(zf=i,!0):(zf=null,!1)}var Hy=typeof setTimeout=="function"?setTimeout:void 0,LC=typeof clearTimeout=="function"?clearTimeout:void 0,zy=typeof Promise=="function"?Promise:void 0,UC=typeof queueMicrotask=="function"?queueMicrotask:typeof zy<"u"?function(i){return zy.resolve(null).then(i).catch(FC)}:Hy;function FC(i){setTimeout(function(){throw i})}function qs(i){return i==="head"}function By(i,r){var a=r,u=0;do{var g=a.nextSibling;if(i.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"||a==="/&"){if(u===0){i.removeChild(g),Wo(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")Cl(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,Cl(a);for(var y=a.firstChild;y;){var E=y.nextSibling,C=y.nodeName;y[hi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}else a==="body"&&Cl(i.ownerDocument.body);a=g}while(a);Wo(r)}function Gy(i,r){var a=i;i=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=u}while(a)}function Bf(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bf(a),co(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function jC(i,r,a,u){for(;i.nodeType===1;){var g=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[hi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence")||y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Ln(i.nextSibling),i===null)break}return null}function qC(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Ln(i.nextSibling),i===null))return null;return i}function $y(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Ln(i.nextSibling),i===null))return null;return i}function Gf(i){return i.data==="$?"||i.data==="$~"}function $f(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function VC(i,r){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Ln(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Kf=null;function Ky(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(r===0)return Ln(i.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}i=i.nextSibling}return null}function Jy(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return i;r--}else a!=="/$"&&a!=="/&"||r++}i=i.previousSibling}return null}function Wy(i,r,a){switch(r=Rc(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Cl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);co(i)}var Un=new Map,Yy=new Set;function Pc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ts=le.d;le.d={f:HC,r:zC,D:BC,C:GC,L:$C,m:KC,X:WC,S:JC,M:YC};function HC(){var i=ts.f(),r=_c();return i||r}function zC(i){var r=An(i);r!==null&&r.tag===5&&r.type==="form"?fv(r):ts.r(i)}var $o=typeof document>"u"?null:document;function Qy(i,r,a){var u=$o;if(u&&typeof r=="string"&&r){var g=yn(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),Yy.has(g)||(Yy.add(g),i={rel:i,crossOrigin:a,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),Wt(r,"link",i),It(r),u.head.appendChild(r)))}}function BC(i){ts.D(i),Qy("dns-prefetch",i,null)}function GC(i,r){ts.C(i,r),Qy("preconnect",i,r)}function $C(i,r,a){ts.L(i,r,a);var u=$o;if(u&&i&&r){var g='link[rel="preload"][as="'+yn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+yn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+yn(a.imageSizes)+'"]')):g+='[href="'+yn(i)+'"]';var y=g;switch(r){case"style":y=Ko(i);break;case"script":y=Jo(i)}Un.has(y)||(i=S({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),Un.set(y,i),u.querySelector(g)!==null||r==="style"&&u.querySelector(Il(y))||r==="script"&&u.querySelector(Al(y))||(r=u.createElement("link"),Wt(r,"link",i),It(r),u.head.appendChild(r)))}}function KC(i,r){ts.m(i,r);var a=$o;if(a&&i){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+yn(u)+'"][href="'+yn(i)+'"]',y=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Jo(i)}if(!Un.has(y)&&(i=S({rel:"modulepreload",href:i},r),Un.set(y,i),a.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(y)))return}u=a.createElement("link"),Wt(u,"link",i),It(u),a.head.appendChild(u)}}}function JC(i,r,a){ts.S(i,r,a);var u=$o;if(u&&i){var g=pi(u).hoistableStyles,y=Ko(i);r=r||"default";var E=g.get(y);if(!E){var C={loading:0,preload:null};if(E=u.querySelector(Il(y)))C.loading=5;else{i=S({rel:"stylesheet",href:i,"data-precedence":r},a),(a=Un.get(y))&&Jf(i,a);var P=E=u.createElement("link");It(P),Wt(P,"link",i),P._p=new Promise(function(G,Q){P.onload=G,P.onerror=Q}),P.addEventListener("load",function(){C.loading|=1}),P.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Dc(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:C},g.set(y,E)}}}function WC(i,r){ts.X(i,r);var a=$o;if(a&&i){var u=pi(a).hoistableScripts,g=Jo(i),y=u.get(g);y||(y=a.querySelector(Al(g)),y||(i=S({src:i,async:!0},r),(r=Un.get(g))&&Wf(i,r),y=a.createElement("script"),It(y),Wt(y,"link",i),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function YC(i,r){ts.M(i,r);var a=$o;if(a&&i){var u=pi(a).hoistableScripts,g=Jo(i),y=u.get(g);y||(y=a.querySelector(Al(g)),y||(i=S({src:i,async:!0,type:"module"},r),(r=Un.get(g))&&Wf(i,r),y=a.createElement("script"),It(y),Wt(y,"link",i),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function Zy(i,r,a,u){var g=(g=Ne.current)?Pc(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ko(a.href),a=pi(g).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Ko(a.href);var y=pi(g).hoistableStyles,E=y.get(i);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,E),(y=g.querySelector(Il(i)))&&!y._p&&(E.instance=y,E.state.loading=5),Un.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(i,a),y||QC(g,i,a,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Jo(a),a=pi(g).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ko(i){return'href="'+yn(i)+'"'}function Il(i){return'link[rel="stylesheet"]['+i+"]"}function Xy(i){return S({},i,{"data-precedence":i.precedence,precedence:null})}function QC(i,r,a,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Wt(r,"link",a),It(r),i.head.appendChild(r))}function Jo(i){return'[src="'+yn(i)+'"]'}function Al(i){return"script[async]"+i}function e0(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+yn(a.href)+'"]');if(u)return r.instance=u,It(u),u;var g=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),It(u),Wt(u,"style",g),Dc(u,a.precedence,i),r.instance=u;case"stylesheet":g=Ko(a.href);var y=i.querySelector(Il(g));if(y)return r.state.loading|=4,r.instance=y,It(y),y;u=Xy(a),(g=Un.get(g))&&Jf(u,g),y=(i.ownerDocument||i).createElement("link"),It(y);var E=y;return E._p=new Promise(function(C,P){E.onload=C,E.onerror=P}),Wt(y,"link",u),r.state.loading|=4,Dc(y,a.precedence,i),r.instance=y;case"script":return y=Jo(a.src),(g=i.querySelector(Al(y)))?(r.instance=g,It(g),g):(u=a,(g=Un.get(y))&&(u=S({},a),Wf(u,g)),i=i.ownerDocument||i,g=i.createElement("script"),It(g),Wt(g,"link",u),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Dc(u,a.precedence,i));return r.instance}function Dc(i,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,y=g,E=0;E<u.length;E++){var C=u[E];if(C.dataset.precedence===r)y=C;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function Jf(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Wf(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Mc=null;function t0(i,r,a){if(Mc===null){var u=new Map,g=Mc=new Map;g.set(a,u)}else g=Mc,u=g.get(a),u||(u=new Map,g.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),g=0;g<a.length;g++){var y=a[g];if(!(y[hi]||y[Ct]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(r)||"";E=i+E;var C=u.get(E);C?C.push(y):u.set(E,[y])}}return u}function n0(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function ZC(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function i0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function XC(i,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=Ko(u.href),y=r.querySelector(Il(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Lc.bind(i),r.then(i,i)),a.state.loading|=4,a.instance=y,It(y);return}y=r.ownerDocument||r,u=Xy(u),(g=Un.get(g))&&Jf(u,g),y=y.createElement("link"),It(y);var E=y;E._p=new Promise(function(C,P){E.onload=C,E.onerror=P}),Wt(y,"link",u),a.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=Lc.bind(i),r.addEventListener("load",a),r.addEventListener("error",a))}}var Yf=0;function eI(i,r){return i.stylesheets&&i.count===0&&Fc(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var u=setTimeout(function(){if(i.stylesheets&&Fc(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+r);0<i.imgBytes&&Yf===0&&(Yf=62500*DC());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Fc(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Yf?50:800)+r);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fc(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Uc=null;function Fc(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Uc=new Map,r.forEach(tI,i),Uc=null,Lc.call(i))}function tI(i,r){if(!(r.state.loading&4)){var a=Uc.get(i);if(a)var u=a.get(null);else{a=new Map,Uc.set(i,a);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var E=g[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),u=E)}u&&a.set(null,u)}g=r.instance,E=g.getAttribute("data-precedence"),y=a.get(E)||u,y===u&&a.set(null,g),a.set(E,g),this.count++,u=Lc.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var Nl={$$typeof:se,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function nI(i,r,a,u,g,y,E,C,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function s0(i,r,a,u,g,y,E,C,P,G,Q,te){return i=new nI(i,r,a,E,P,G,Q,te,C),r=1,y===!0&&(r|=24),y=wn(3,null,null,r),i.current=y,y.stateNode=i,r=Nh(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:a,cache:r},Rh(y),i}function r0(i){return i?(i=Co,i):Co}function o0(i,r,a,u,g,y){g=r0(g),u.context===null?u.context=g:u.pendingContext=g,u=ks(r),u.payload={element:a},y=y===void 0?null:y,y!==null&&(u.callback=y),a=Os(i,u,r),a!==null&&(pn(a,i,r),ol(a,i,r))}function a0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function Qf(i,r){a0(i,r),(i=i.alternate)&&a0(i,r)}function l0(i){if(i.tag===13||i.tag===31){var r=Rr(i,67108864);r!==null&&pn(r,i,67108864),Qf(i,67108864)}}function u0(i){if(i.tag===13||i.tag===31){var r=Cn();r=wr(r);var a=Rr(i,r);a!==null&&pn(a,i,r),Qf(i,r)}}var jc=!0;function iI(i,r,a,u){var g=Y.T;Y.T=null;var y=le.p;try{le.p=2,Zf(i,r,a,u)}finally{le.p=y,Y.T=g}}function sI(i,r,a,u){var g=Y.T;Y.T=null;var y=le.p;try{le.p=8,Zf(i,r,a,u)}finally{le.p=y,Y.T=g}}function Zf(i,r,a,u){if(jc){var g=Xf(u);if(g===null)Ff(i,r,u,qc,a),d0(i,u);else if(oI(g,i,r,a,u))u.stopPropagation();else if(d0(i,u),r&4&&-1<rI.indexOf(i)){for(;g!==null;){var y=An(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=li(y.pendingLanes);if(E!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var P=1<<31-vt(E);C.entanglements[1]|=P,E&=~P}Ii(y),(Ke&6)===0&&(Ec=on()+500,El(0))}}break;case 31:case 13:C=Rr(y,2),C!==null&&pn(C,y,2),_c(),Qf(y,2)}if(y=Xf(u),y===null&&Ff(i,r,u,qc,a),y===g)break;g=y}g!==null&&u.stopPropagation()}else Ff(i,r,u,null,a)}}function Xf(i){return i=Nn(i),ep(i)}var qc=null;function ep(i){if(qc=null,i=fi(i),i!==null){var r=l(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===31){if(i=f(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return qc=i,null}function c0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gr()){case xa:return 2;case Ra:return 8;case ps:case rh:return 32;case yu:return 268435456;default:return 32}default:return 32}}var tp=!1,Vs=null,Hs=null,zs=null,kl=new Map,Ol=new Map,Bs=[],rI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d0(i,r){switch(i){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":kl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(r.pointerId)}}function xl(i,r,a,u,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:y,targetContainers:[g]},r!==null&&(r=An(r),r!==null&&l0(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function oI(i,r,a,u,g){switch(r){case"focusin":return Vs=xl(Vs,i,r,a,u,g),!0;case"dragenter":return Hs=xl(Hs,i,r,a,u,g),!0;case"mouseover":return zs=xl(zs,i,r,a,u,g),!0;case"pointerover":var y=g.pointerId;return kl.set(y,xl(kl.get(y)||null,i,r,a,u,g)),!0;case"gotpointercapture":return y=g.pointerId,Ol.set(y,xl(Ol.get(y)||null,i,r,a,u,g)),!0}return!1}function h0(i){var r=fi(i.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,Bn(i.priority,function(){u0(a)});return}}else if(r===31){if(r=f(a),r!==null){i.blockedOn=r,Bn(i.priority,function(){u0(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Vc(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=Xf(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);Ba=u,a.target.dispatchEvent(u),Ba=null}else return r=An(a),r!==null&&l0(r),i.blockedOn=a,!1;r.shift()}return!0}function f0(i,r,a){Vc(i)&&a.delete(r)}function aI(){tp=!1,Vs!==null&&Vc(Vs)&&(Vs=null),Hs!==null&&Vc(Hs)&&(Hs=null),zs!==null&&Vc(zs)&&(zs=null),kl.forEach(f0),Ol.forEach(f0)}function Hc(i,r){i.blockedOn===r&&(i.blockedOn=null,tp||(tp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,aI)))}var zc=null;function p0(i){zc!==i&&(zc=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){zc===i&&(zc=null);for(var r=0;r<i.length;r+=3){var a=i[r],u=i[r+1],g=i[r+2];if(typeof u!="function"){if(ep(u||a)===null)continue;break}var y=An(a);y!==null&&(i.splice(r,3),r-=3,Zh(y,{pending:!0,data:g,method:a.method,action:u},u,g))}}))}function Wo(i){function r(P){return Hc(P,i)}Vs!==null&&Hc(Vs,i),Hs!==null&&Hc(Hs,i),zs!==null&&Hc(zs,i),kl.forEach(r),Ol.forEach(r);for(var a=0;a<Bs.length;a++){var u=Bs[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Bs.length&&(a=Bs[0],a.blockedOn===null);)h0(a),a.blockedOn===null&&Bs.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var g=a[u],y=a[u+1],E=g[jt]||null;if(typeof y=="function")E||p0(a);else if(E){var C=null;if(y&&y.hasAttribute("formAction")){if(g=y,E=y[jt]||null)C=E.formAction;else if(ep(g)!==null)continue}else C=E.action;typeof C=="function"?a[u+1]=C:(a.splice(u,3),u-=3),p0(a)}}}function m0(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return g=E})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function np(i){this._internalRoot=i}Bc.prototype.render=np.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=Cn();o0(a,u,i,r,null,null)},Bc.prototype.unmount=np.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;o0(i.current,2,null,i,null,null),_c(),r[di]=null}};function Bc(i){this._internalRoot=i}Bc.prototype.unstable_scheduleHydration=function(i){if(i){var r=_u();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Bs.length&&r!==0&&r<Bs[a].priority;a++);Bs.splice(a,0,i),a===0&&h0(i)}};var g0=e.version;if(g0!=="19.2.0")throw Error(s(527,g0,"19.2.0"));le.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=v(r),i=i!==null?b(i):null,i=i===null?null:i.stateNode,i};var lI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{Hn=Gc.inject(lI),Bt=Gc}catch{}}return Pl.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,u="",g=Tv,y=_v,E=Cv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=s0(i,1,!1,null,null,a,u,null,g,y,E,m0),i[di]=r.current,Uf(i),new np(r)},Pl.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var u=!1,g="",y=Tv,E=_v,C=Cv,P=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(P=a.formState)),r=s0(i,1,!0,r,a??null,u,g,P,y,E,C,m0),r.context=r0(null),a=r.current,u=Cn(),u=wr(u),g=ks(u),g.callback=null,Os(a,g,u),a=u,r.current.lanes=a,yr(r,a),Ii(r),i[di]=r.current,Uf(i),new Bc(r)},Pl.version="19.2.0",Pl}var O0;function bI(){if(O0)return ip.exports;O0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ip.exports=yI(),ip.exports}var wI=bI();const SI=PS(wI);var Ks=(n=>(n.CUSTOMER="CUSTOMER",n.ADMIN="ADMIN",n))(Ks||{});/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const EI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TI=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),x0=n=>{const e=TI(n);return e.charAt(0).toUpperCase()+e.slice(1)},DS=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),_I=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var CI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const II=Ve.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...f},m)=>Ve.createElement("svg",{ref:m,...CI,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:DS("lucide",o),...!l&&!_I(f)&&{"aria-hidden":"true"},...f},[...c.map(([v,b])=>Ve.createElement(v,b)),...Array.isArray(l)?l:[l]]));/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Et=(n,e)=>{const t=Ve.forwardRef(({className:s,...o},l)=>Ve.createElement(II,{ref:l,iconNode:e,className:DS(`lucide-${EI(x0(n))}`,`lucide-${n}`,s),...o}));return t.displayName=x0(n),t};/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const AI=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],NI=Et("bot",AI);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const kI=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],OI=Et("circle-play",kI);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const xI=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],R0=Et("database",xI);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const RI=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],PI=Et("layout-grid",RI);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const DI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],MI=Et("loader-circle",DI);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const LI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],UI=Et("log-out",LI);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const FI=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],jI=Et("message-circle",FI);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const qI=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],rp=Et("pencil",qI);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const VI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Dl=Et("plus",VI);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const HI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zI=Et("save",HI);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const BI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],GI=Et("search",BI);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $I=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],KI=Et("send",$I);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const JI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],P0=Et("settings",JI);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const WI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],YI=Et("shield-check",WI);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const QI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ZI=Et("sparkles",QI);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const XI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],op=Et("trash-2",XI);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const eA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tA=Et("user",eA);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const nA=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],iA=Et("video",nA);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const sA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],rA=Et("volume-2",sA);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const oA=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],aA=Et("youtube",oA);/**
* @license lucide-react v0.555.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const lA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],em=Et("x",lA),uA=()=>{};var D0={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const MS=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},cA=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],f=n[t++],m=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},LS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,f=c?n[o+1]:0,m=o+2<n.length,v=m?n[o+2]:0,b=l>>2,S=(l&3)<<4|f>>4;let _=(f&15)<<2|v>>6,k=v&63;m||(k=64,c||(_=64)),s.push(t[b],t[S],t[_],t[k])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(MS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):cA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],c=o<n.length?t[n.charAt(o)]:0;++o;const f=o<n.length?t[n.charAt(o)]:64;++o;const m=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||c==null||f==null||m==null)throw new dA;const v=l<<2|c>>4;if(s.push(v),f!==64){const b=c<<4&240|f>>2;if(s.push(b),m!==64){const S=f<<6&192|m;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class dA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hA=function(n){const e=MS(n);return LS.encodeByteArray(e,!0)},cd=function(n){return hA(n).replace(/\./g,"")},US=function(n){try{return LS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pA=()=>fA().__FIREBASE_DEFAULTS__,mA=()=>{if(typeof process>"u"||typeof D0>"u")return;const n=D0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&US(n[1]);return e&&JSON.parse(e)},Dd=()=>{try{return uA()||pA()||mA()||gA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},FS=n=>{var e,t;return(t=(e=Dd())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},vA=n=>{const e=FS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},jS=()=>{var n;return(n=Dd())==null?void 0:n.config},qS=n=>{var e;return(e=Dd())==null?void 0:e[`_${n}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function va(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VS(n){return(await fetch(n,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[cd(JSON.stringify(t)),cd(JSON.stringify(c)),""].join(".")}const Hl={};function wA(){const n={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?n.emulator.push(e):n.prod.push(e);return n}function SA(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let M0=!1;function HS(n,e){if(typeof window>"u"||typeof document>"u"||!va(window.location.host)||Hl[n]===e||Hl[n]||M0)return;Hl[n]=e;function t(S){return`__firebase__banner__${S}`}const s="__firebase__banner",o=wA().prod.length>0;function l(){const S=document.getElementById(s);S&&S.remove()}function c(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function f(S,_){S.setAttribute("width","24"),S.setAttribute("id",_),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function m(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{M0=!0,l()},S}function v(S,_){S.setAttribute("id",_),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=SA(s),_=t("text"),k=document.getElementById(_)||document.createElement("span"),H=t("learnmore"),L=document.getElementById(H)||document.createElement("a"),V=t("preprendIcon"),K=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const X=S.element;c(X),v(L,H);const se=m();f(K,V),X.append(K,k,L,se),document.body.appendChild(X)}o?(k.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function TA(){var n;const e=(n=Dd())==null?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _A(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function IA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AA(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function NA(){return!TA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kA(){try{return typeof indexedDB=="object"}catch{return!1}}function OA(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xA="FirebaseError";class cs extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=xA,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,au.prototype.create)}}class au{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?RA(l,s):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new cs(o,f,s)}}function RA(n,e){return n.replace(PA,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const PA=/\{\$([^}]+)}/g;function DA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jr(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=n[o],c=e[o];if(L0(l)&&L0(c)){if(!Jr(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function L0(n){return n!==null&&typeof n=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function lu(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ll(n){const e={};return n.replace(/^\?/,"").split("&").forEach(t=>{if(t){const[s,o]=t.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Ul(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function MA(n,e){const t=new LA(n,e);return t.subscribe.bind(t)}class LA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");UA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=ap),o.error===void 0&&(o.error=ap),o.complete===void 0&&(o.complete=ap);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ap(){}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Vn(n){return n&&n._delegate?n._delegate:n}class Wr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Gr="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new yA;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qA(e))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gr){return this.instances.has(e)}getOptions(e=Gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:jA(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Gr){return this.component?this.component.multipleInstances?e:Gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jA(n){return n===Gr?void 0:n}function qA(n){return n.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new FA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const HA={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},zA=Me.INFO,BA={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},GA=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=BA[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tm{constructor(e){this.name=e,this._logLevel=zA,this._logHandler=GA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const $A=(n,e)=>e.some(t=>n instanceof t);let U0,F0;function KA(){return U0||(U0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JA(){return F0||(F0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zS=new WeakMap,bp=new WeakMap,BS=new WeakMap,lp=new WeakMap,nm=new WeakMap;function WA(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(er(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&zS.set(t,n)}).catch(()=>{}),nm.set(e,n),e}function YA(n){if(bp.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});bp.set(n,e)}let wp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return bp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||BS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return er(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function QA(n){wp=n(wp)}function ZA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(up(this),e,...t);return BS.set(s,e.sort?e.sort():[e]),er(s)}:JA().includes(n)?function(...e){return n.apply(up(this),e),er(zS.get(this))}:function(...e){return er(n.apply(up(this),e))}}function XA(n){return typeof n=="function"?ZA(n):(n instanceof IDBTransaction&&YA(n),$A(n,KA())?new Proxy(n,wp):n)}function er(n){if(n instanceof IDBRequest)return WA(n);if(lp.has(n))return lp.get(n);const e=XA(n);return e!==n&&(lp.set(n,e),nm.set(e,n)),e}const up=n=>nm.get(n);function e1(n,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),f=er(c);return s&&c.addEventListener("upgradeneeded",m=>{s(er(c.result),m.oldVersion,m.newVersion,er(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const t1=["get","getKey","getAll","getAllKeys","count"],n1=["put","add","delete","clear"],cp=new Map;function j0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cp.get(e))return cp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=n1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||t1.includes(t)))return;const l=async function(c,...f){const m=this.transaction(c,o?"readwrite":"readonly");let v=m.store;return s&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&m.done]))[0]};return cp.set(e,l),l}QA(n=>({...n,get:(e,t,s)=>j0(e,t)||n.get(e,t,s),has:(e,t)=>!!j0(e,t)||n.has(e,t)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class i1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(s1(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(" ")}}function s1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sp="@firebase/app",q0="0.14.6";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rs=new tm("@firebase/app"),r1="@firebase/app-compat",o1="@firebase/analytics-compat",a1="@firebase/analytics",l1="@firebase/app-check-compat",u1="@firebase/app-check",c1="@firebase/auth",d1="@firebase/auth-compat",h1="@firebase/database",f1="@firebase/data-connect",p1="@firebase/database-compat",m1="@firebase/functions",g1="@firebase/functions-compat",v1="@firebase/installations",y1="@firebase/installations-compat",b1="@firebase/messaging",w1="@firebase/messaging-compat",S1="@firebase/performance",E1="@firebase/performance-compat",T1="@firebase/remote-config",_1="@firebase/remote-config-compat",C1="@firebase/storage",I1="@firebase/storage-compat",A1="@firebase/firestore",N1="@firebase/ai",k1="@firebase/firestore-compat",O1="firebase",x1="12.6.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ep="[DEFAULT]",R1={[Sp]:"fire-core",[r1]:"fire-core-compat",[a1]:"fire-analytics",[o1]:"fire-analytics-compat",[u1]:"fire-app-check",[l1]:"fire-app-check-compat",[c1]:"fire-auth",[d1]:"fire-auth-compat",[h1]:"fire-rtdb",[f1]:"fire-data-connect",[p1]:"fire-rtdb-compat",[m1]:"fire-fn",[g1]:"fire-fn-compat",[v1]:"fire-iid",[y1]:"fire-iid-compat",[b1]:"fire-fcm",[w1]:"fire-fcm-compat",[S1]:"fire-perf",[E1]:"fire-perf-compat",[T1]:"fire-rc",[_1]:"fire-rc-compat",[C1]:"fire-gcs",[I1]:"fire-gcs-compat",[A1]:"fire-fst",[k1]:"fire-fst-compat",[N1]:"fire-vertex","fire-js":"fire-js",[O1]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dd=new Map,P1=new Map,Tp=new Map;function V0(n,e){try{n.container.addComponent(e)}catch(t){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ua(n){const e=n.name;if(Tp.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;Tp.set(e,n);for(const t of dd.values())V0(t,n);for(const t of P1.values())V0(t,n);return!0}function im(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ti(n){return n==null?!1:n.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const D1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tr=new au("app","Firebase",D1);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class M1{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ya=x1;function GS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Ep,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw tr.create("bad-app-name",{appName:String(o)});if(t||(t=jS()),!t)throw tr.create("no-options");const l=dd.get(o);if(l){if(Jr(t,l.options)&&Jr(s,l.config))return l;throw tr.create("duplicate-app",{appName:o})}const c=new VA(o);for(const m of Tp.values())c.addComponent(m);const f=new M1(t,s,c);return dd.set(o,f),f}function $S(n=Ep){const e=dd.get(n);if(!e&&n===Ep&&jS())return GS();if(!e)throw tr.create("no-app",{appName:n});return e}function nr(n,e,t){let s=R1[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(c.join(" "));return}ua(new Wr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const L1="firebase-heartbeat-database",U1=1,Yl="firebase-heartbeat-store";let dp=null;function KS(){return dp||(dp=e1(L1,U1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Yl)}catch(t){console.warn(t)}}}}).catch(n=>{throw tr.create("idb-open",{originalErrorMessage:n.message})})),dp}async function F1(n){try{const e=(await KS()).transaction(Yl),t=await e.objectStore(Yl).get(JS(n));return await e.done,t}catch(e){if(e instanceof cs)rs.warn(e.message);else{const t=tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rs.warn(t.message)}}}async function H0(n,e){try{const t=(await KS()).transaction(Yl,"readwrite");await t.objectStore(Yl).put(e,JS(n)),await t.done}catch(t){if(t instanceof cs)rs.warn(t.message);else{const s=tr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});rs.warn(s.message)}}}function JS(n){return`${n.name}!${n.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const j1=1024,q1=30;class V1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new z1(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=z0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>q1){const l=B1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){rs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=z0(),{heartbeatsToSend:s,unsentEntries:o}=H1(this._heartbeatsCache.heartbeats),l=cd(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return rs.warn(t),""}}}function z0(){return new Date().toISOString().substring(0,10)}function H1(n,e=j1){const t=[];let s=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),B0(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),B0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class z1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kA()?OA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await F1(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return H0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return H0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}else return}}function B0(n){return cd(JSON.stringify({version:2,heartbeats:n})).length}function B1(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function G1(n){ua(new Wr("platform-logger",e=>new i1(e),"PRIVATE")),ua(new Wr("heartbeat",e=>new V1(e),"PRIVATE")),nr(Sp,q0,n),nr(Sp,q0,"esm2020"),nr("fire-js","")}G1("");var G0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ir,WS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function N(){}N.prototype=A.prototype,O.F=A.prototype,O.prototype=new N,O.prototype.constructor=O,O.D=function(M,D,F){for(var x=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)x[$e-2]=arguments[$e];return A.prototype[D].apply(M,x)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,A,N){N||(N=0);const M=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)M[D]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(D=0;D<16;++D)M[D]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=O.g[0],N=O.g[1],D=O.g[2];let F=O.g[3],x;x=A+(F^N&(D^F))+M[0]+3614090360&4294967295,A=N+(x<<7&4294967295|x>>>25),x=F+(D^A&(N^D))+M[1]+3905402710&4294967295,F=A+(x<<12&4294967295|x>>>20),x=D+(N^F&(A^N))+M[2]+606105819&4294967295,D=F+(x<<17&4294967295|x>>>15),x=N+(A^D&(F^A))+M[3]+3250441966&4294967295,N=D+(x<<22&4294967295|x>>>10),x=A+(F^N&(D^F))+M[4]+4118548399&4294967295,A=N+(x<<7&4294967295|x>>>25),x=F+(D^A&(N^D))+M[5]+1200080426&4294967295,F=A+(x<<12&4294967295|x>>>20),x=D+(N^F&(A^N))+M[6]+2821735955&4294967295,D=F+(x<<17&4294967295|x>>>15),x=N+(A^D&(F^A))+M[7]+4249261313&4294967295,N=D+(x<<22&4294967295|x>>>10),x=A+(F^N&(D^F))+M[8]+1770035416&4294967295,A=N+(x<<7&4294967295|x>>>25),x=F+(D^A&(N^D))+M[9]+2336552879&4294967295,F=A+(x<<12&4294967295|x>>>20),x=D+(N^F&(A^N))+M[10]+4294925233&4294967295,D=F+(x<<17&4294967295|x>>>15),x=N+(A^D&(F^A))+M[11]+2304563134&4294967295,N=D+(x<<22&4294967295|x>>>10),x=A+(F^N&(D^F))+M[12]+1804603682&4294967295,A=N+(x<<7&4294967295|x>>>25),x=F+(D^A&(N^D))+M[13]+4254626195&4294967295,F=A+(x<<12&4294967295|x>>>20),x=D+(N^F&(A^N))+M[14]+2792965006&4294967295,D=F+(x<<17&4294967295|x>>>15),x=N+(A^D&(F^A))+M[15]+1236535329&4294967295,N=D+(x<<22&4294967295|x>>>10),x=A+(D^F&(N^D))+M[1]+4129170786&4294967295,A=N+(x<<5&4294967295|x>>>27),x=F+(N^D&(A^N))+M[6]+3225465664&4294967295,F=A+(x<<9&4294967295|x>>>23),x=D+(A^N&(F^A))+M[11]+643717713&4294967295,D=F+(x<<14&4294967295|x>>>18),x=N+(F^A&(D^F))+M[0]+3921069994&4294967295,N=D+(x<<20&4294967295|x>>>12),x=A+(D^F&(N^D))+M[5]+3593408605&4294967295,A=N+(x<<5&4294967295|x>>>27),x=F+(N^D&(A^N))+M[10]+38016083&4294967295,F=A+(x<<9&4294967295|x>>>23),x=D+(A^N&(F^A))+M[15]+3634488961&4294967295,D=F+(x<<14&4294967295|x>>>18),x=N+(F^A&(D^F))+M[4]+3889429448&4294967295,N=D+(x<<20&4294967295|x>>>12),x=A+(D^F&(N^D))+M[9]+568446438&4294967295,A=N+(x<<5&4294967295|x>>>27),x=F+(N^D&(A^N))+M[14]+3275163606&4294967295,F=A+(x<<9&4294967295|x>>>23),x=D+(A^N&(F^A))+M[3]+4107603335&4294967295,D=F+(x<<14&4294967295|x>>>18),x=N+(F^A&(D^F))+M[8]+1163531501&4294967295,N=D+(x<<20&4294967295|x>>>12),x=A+(D^F&(N^D))+M[13]+2850285829&4294967295,A=N+(x<<5&4294967295|x>>>27),x=F+(N^D&(A^N))+M[2]+4243563512&4294967295,F=A+(x<<9&4294967295|x>>>23),x=D+(A^N&(F^A))+M[7]+1735328473&4294967295,D=F+(x<<14&4294967295|x>>>18),x=N+(F^A&(D^F))+M[12]+2368359562&4294967295,N=D+(x<<20&4294967295|x>>>12),x=A+(N^D^F)+M[5]+4294588738&4294967295,A=N+(x<<4&4294967295|x>>>28),x=F+(A^N^D)+M[8]+2272392833&4294967295,F=A+(x<<11&4294967295|x>>>21),x=D+(F^A^N)+M[11]+1839030562&4294967295,D=F+(x<<16&4294967295|x>>>16),x=N+(D^F^A)+M[14]+4259657740&4294967295,N=D+(x<<23&4294967295|x>>>9),x=A+(N^D^F)+M[1]+2763975236&4294967295,A=N+(x<<4&4294967295|x>>>28),x=F+(A^N^D)+M[4]+1272893353&4294967295,F=A+(x<<11&4294967295|x>>>21),x=D+(F^A^N)+M[7]+4139469664&4294967295,D=F+(x<<16&4294967295|x>>>16),x=N+(D^F^A)+M[10]+3200236656&4294967295,N=D+(x<<23&4294967295|x>>>9),x=A+(N^D^F)+M[13]+681279174&4294967295,A=N+(x<<4&4294967295|x>>>28),x=F+(A^N^D)+M[0]+3936430074&4294967295,F=A+(x<<11&4294967295|x>>>21),x=D+(F^A^N)+M[3]+3572445317&4294967295,D=F+(x<<16&4294967295|x>>>16),x=N+(D^F^A)+M[6]+76029189&4294967295,N=D+(x<<23&4294967295|x>>>9),x=A+(N^D^F)+M[9]+3654602809&4294967295,A=N+(x<<4&4294967295|x>>>28),x=F+(A^N^D)+M[12]+3873151461&4294967295,F=A+(x<<11&4294967295|x>>>21),x=D+(F^A^N)+M[15]+530742520&4294967295,D=F+(x<<16&4294967295|x>>>16),x=N+(D^F^A)+M[2]+3299628645&4294967295,N=D+(x<<23&4294967295|x>>>9),x=A+(D^(N|~F))+M[0]+4096336452&4294967295,A=N+(x<<6&4294967295|x>>>26),x=F+(N^(A|~D))+M[7]+1126891415&4294967295,F=A+(x<<10&4294967295|x>>>22),x=D+(A^(F|~N))+M[14]+2878612391&4294967295,D=F+(x<<15&4294967295|x>>>17),x=N+(F^(D|~A))+M[5]+4237533241&4294967295,N=D+(x<<21&4294967295|x>>>11),x=A+(D^(N|~F))+M[12]+1700485571&4294967295,A=N+(x<<6&4294967295|x>>>26),x=F+(N^(A|~D))+M[3]+2399980690&4294967295,F=A+(x<<10&4294967295|x>>>22),x=D+(A^(F|~N))+M[10]+4293915773&4294967295,D=F+(x<<15&4294967295|x>>>17),x=N+(F^(D|~A))+M[1]+2240044497&4294967295,N=D+(x<<21&4294967295|x>>>11),x=A+(D^(N|~F))+M[8]+1873313359&4294967295,A=N+(x<<6&4294967295|x>>>26),x=F+(N^(A|~D))+M[15]+4264355552&4294967295,F=A+(x<<10&4294967295|x>>>22),x=D+(A^(F|~N))+M[6]+2734768916&4294967295,D=F+(x<<15&4294967295|x>>>17),x=N+(F^(D|~A))+M[13]+1309151649&4294967295,N=D+(x<<21&4294967295|x>>>11),x=A+(D^(N|~F))+M[4]+4149444226&4294967295,A=N+(x<<6&4294967295|x>>>26),x=F+(N^(A|~D))+M[11]+3174756917&4294967295,F=A+(x<<10&4294967295|x>>>22),x=D+(A^(F|~N))+M[2]+718787259&4294967295,D=F+(x<<15&4294967295|x>>>17),x=N+(F^(D|~A))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,O.g[2]=O.g[2]+D&4294967295,O.g[3]=O.g[3]+F&4294967295}s.prototype.v=function(O,A){A===void 0&&(A=O.length);const N=A-this.blockSize,M=this.C;let D=this.h,F=0;for(;F<A;){if(D==0)for(;F<=N;)o(this,O,F),F+=this.blockSize;if(typeof O=="string"){for(;F<A;)if(M[D++]=O.charCodeAt(F++),D==this.blockSize){o(this,M),D=0;break}}else for(;F<A;)if(M[D++]=O[F++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=A},s.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;A=this.o*8;for(var N=O.length-8;N<O.length;++N)O[N]=A&255,A/=256;for(this.v(O),O=Array(16),A=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)O[A++]=this.g[N]>>>M&255;return O};function l(O,A){var N=f;return Object.prototype.hasOwnProperty.call(N,O)?N[O]:N[O]=A(O)}function c(O,A){this.h=A;const N=[];let M=!0;for(let D=O.length-1;D>=0;D--){const F=O[D]|0;M&&F==A||(N[D]=F,M=!1)}this.g=N}var f={};function m(O){return-128<=O&&O<128?l(O,function(A){return new c([A|0],A<0?-1:0)}):new c([O|0],O<0?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return S;if(O<0)return V(v(-O));const A=[];let N=1;for(let M=0;O>=N;M++)A[M]=O/N|0,N*=4294967296;return new c(A,0)}function b(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return V(b(O.substring(1),A));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=v(Math.pow(A,8));let M=S;for(let F=0;F<O.length;F+=8){var D=Math.min(8,O.length-F);const x=parseInt(O.substring(F,F+D),A);D<8?(D=v(Math.pow(A,D)),M=M.j(D).add(v(x))):(M=M.j(N),M=M.add(v(x)))}return M}var S=m(0),_=m(1),k=m(16777216);n=c.prototype,n.m=function(){if(L(this))return-V(this).m();let O=0,A=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);O+=(M>=0?M:4294967296+M)*A,A*=4294967296}return O},n.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(H(this))return"0";if(L(this))return"-"+V(this).toString(O);const A=v(Math.pow(O,6));var N=this;let M="";for(;;){const D=oe(N,A).g;N=K(N,D.j(A));let F=((N.g.length>0?N.g[0]:N.h)>>>0).toString(O);if(N=D,H(N))return F+M;for(;F.length<6;)F="0"+F;M=F+M}},n.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function H(O){if(O.h!=0)return!1;for(let A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function L(O){return O.h==-1}n.l=function(O){return O=K(this,O),L(O)?-1:H(O)?0:1};function V(O){const A=O.g.length,N=[];for(let M=0;M<A;M++)N[M]=~O.g[M];return new c(N,~O.h).add(_)}n.abs=function(){return L(this)?V(this):this},n.add=function(O){const A=Math.max(this.g.length,O.g.length),N=[];let M=0;for(let D=0;D<=A;D++){let F=M+(this.i(D)&65535)+(O.i(D)&65535),x=(F>>>16)+(this.i(D)>>>16)+(O.i(D)>>>16);M=x>>>16,F&=65535,x&=65535,N[D]=x<<16|F}return new c(N,N[N.length-1]&-2147483648?-1:0)};function K(O,A){return O.add(V(A))}n.j=function(O){if(H(this)||H(O))return S;if(L(this))return L(O)?V(this).j(V(O)):V(V(this).j(O));if(L(O))return V(this.j(V(O)));if(this.l(k)<0&&O.l(k)<0)return v(this.m()*O.m());const A=this.g.length+O.g.length,N=[];for(var M=0;M<2*A;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<O.g.length;D++){const F=this.i(M)>>>16,x=this.i(M)&65535,$e=O.i(D)>>>16,pt=O.i(D)&65535;N[2*M+2*D]+=x*pt,X(N,2*M+2*D),N[2*M+2*D+1]+=F*pt,X(N,2*M+2*D+1),N[2*M+2*D+1]+=x*$e,X(N,2*M+2*D+1),N[2*M+2*D+2]+=F*$e,X(N,2*M+2*D+2)}for(O=0;O<A;O++)N[O]=N[2*O+1]<<16|N[2*O];for(O=A;O<2*A;O++)N[O]=0;return new c(N,0)};function X(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function se(O,A){this.g=O,this.h=A}function oe(O,A){if(H(A))throw Error("division by zero");if(H(O))return new se(S,S);if(L(O))return A=oe(V(O),A),new se(V(A.g),V(A.h));if(L(A))return A=oe(O,V(A)),new se(V(A.g),A.h);if(O.g.length>30){if(L(O)||L(A))throw Error("slowDivide_ only works with positive integers.");for(var N=_,M=A;M.l(O)<=0;)N=pe(N),M=pe(M);var D=ie(N,1),F=ie(M,1);for(M=ie(M,2),N=ie(N,2);!H(M);){var x=F.add(M);x.l(O)<=0&&(D=D.add(N),F=x),M=ie(M,1),N=ie(N,1)}return A=K(O,D.j(A)),new se(D,A)}for(D=S;O.l(A)>=0;){for(N=Math.max(1,Math.floor(O.m()/A.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),F=v(N),x=F.j(A);L(x)||x.l(O)>0;)N-=M,F=v(N),x=F.j(A);H(F)&&(F=_),D=D.add(F),O=K(O,x)}return new se(D,O)}n.B=function(O){return oe(this,O).h},n.and=function(O){const A=Math.max(this.g.length,O.g.length),N=[];for(let M=0;M<A;M++)N[M]=this.i(M)&O.i(M);return new c(N,this.h&O.h)},n.or=function(O){const A=Math.max(this.g.length,O.g.length),N=[];for(let M=0;M<A;M++)N[M]=this.i(M)|O.i(M);return new c(N,this.h|O.h)},n.xor=function(O){const A=Math.max(this.g.length,O.g.length),N=[];for(let M=0;M<A;M++)N[M]=this.i(M)^O.i(M);return new c(N,this.h^O.h)};function pe(O){const A=O.g.length+1,N=[];for(let M=0;M<A;M++)N[M]=O.i(M)<<1|O.i(M-1)>>>31;return new c(N,O.h)}function ie(O,A){const N=A>>5;A%=32;const M=O.g.length-N,D=[];for(let F=0;F<M;F++)D[F]=A>0?O.i(F+N)>>>A|O.i(F+N+1)<<32-A:O.i(F+N);return new c(D,O.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,WS=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=b,ir=c}).apply(typeof G0<"u"?G0:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YS,Fl,QS,Zc,_p,ZS,XS,eE;(function(){var n,e=Object.defineProperty;function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var w=0;w<p.length;++w){var T=p[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=t(this);function o(p,w){if(w)e:{var T=s;p=p.split(".");for(var I=0;I<p.length-1;I++){var z=p[I];if(!(z in T))break e;T=T[z]}p=p[p.length-1],I=T[p],w=w(I),w!=I&&w!=null&&e(T,p,{configurable:!0,writable:!0,value:w})}}o("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(p){return p||function(w){var T=[],I;for(I in w)Object.prototype.hasOwnProperty.call(w,I)&&T.push([I,w[I]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(p){var w=typeof p;return w=="object"&&p!=null||w=="function"}function m(p,w,T){return p.call.apply(p.bind,arguments)}function v(p,w,T){return v=m,v.apply(null,arguments)}function b(p,w){var T=Array.prototype.slice.call(arguments,1);return function(){var I=T.slice();return I.push.apply(I,arguments),p.apply(this,I)}}function S(p,w){function T(){}T.prototype=w.prototype,p.Z=w.prototype,p.prototype=new T,p.prototype.constructor=p,p.Ob=function(I,z,J){for(var ae=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ae[ke-2]=arguments[ke];return w.prototype[z].apply(I,ae)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function k(p){const w=p.length;if(w>0){const T=Array(w);for(let I=0;I<w;I++)T[I]=p[I];return T}return[]}function H(p,w){for(let I=1;I<arguments.length;I++){const z=arguments[I];var T=typeof z;if(T=T!="object"?T:z?Array.isArray(z)?"array":T:"null",T=="array"||T=="object"&&typeof z.length=="number"){T=p.length||0;const J=z.length||0;p.length=T+J;for(let ae=0;ae<J;ae++)p[T+ae]=z[ae]}else p.push(z)}}class L{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function V(p){c.setTimeout(()=>{throw p},0)}function K(){var p=O;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}class X{constructor(){this.h=this.g=null}add(w,T){const I=se.get();I.set(w,T),this.h?this.h.next=I:this.g=I,this.h=I}}var se=new L(()=>new oe,p=>p.reset());class oe{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,ie=!1,O=new X,A=()=>{const p=Promise.resolve(void 0);pe=()=>{p.then(N)}};function N(){for(var p;p=K();){try{p.h.call(p.g)}catch(T){V(T)}var w=se;w.j(p),w.h<100&&(w.h++,p.next=w.g,w.g=p)}ie=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};c.addEventListener("test",T,w),c.removeEventListener("test",T,w)}catch{}return p})();function x(p){return/^[\s\xa0]*$/.test(p)}function $e(p,w){D.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,w)}S($e,D),$e.prototype.init=function(p,w){const T=this.type=p.type,I=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget,w||(T=="mouseover"?w=p.fromElement:T=="mouseout"&&(w=p.toElement)),this.relatedTarget=w,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&$e.Z.h.call(this)},$e.prototype.h=function(){$e.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var pt="closure_listenable_"+(Math.random()*1e6|0),Y=0;function le(p,w,T,I,z){this.listener=p,this.proxy=null,this.src=w,this.type=T,this.capture=!!I,this.ha=z,this.key=++Y,this.da=this.fa=!1}function ye(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function He(p,w,T){for(const I in p)w.call(T,p[I],I,p)}function We(p,w){for(const T in p)w.call(void 0,p[T],T,p)}function j(p){const w={};for(const T in p)w[T]=p[T];return w}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(p,w){let T,I;for(let z=1;z<arguments.length;z++){I=arguments[z];for(T in I)p[T]=I[T];for(let J=0;J<ee.length;J++)T=ee[J],Object.prototype.hasOwnProperty.call(I,T)&&(p[T]=I[T])}}function he(p){this.src=p,this.g={},this.h=0}he.prototype.add=function(p,w,T,I,z){const J=p.toString();p=this.g[J],p||(p=this.g[J]=[],this.h++);const ae=Ne(p,w,I,z);return ae>-1?(w=p[ae],T||(w.fa=!1)):(w=new le(w,this.src,J,!!I,z),w.fa=T,p.push(w)),w};function Te(p,w){const T=w.type;if(T in p.g){var I=p.g[T],z=Array.prototype.indexOf.call(I,w,void 0),J;(J=z>=0)&&Array.prototype.splice.call(I,z,1),J&&(ye(w),p.g[T].length==0&&(delete p.g[T],p.h--))}}function Ne(p,w,T,I){for(let z=0;z<p.length;++z){const J=p[z];if(!J.da&&J.listener==w&&J.capture==!!T&&J.ha==I)return z}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Dt={};function ut(p,w,T,I,z){if(Array.isArray(w)){for(let J=0;J<w.length;J++)ut(p,w[J],T,I,z);return null}return T=Oa(T),p&&p[pt]?p.J(w,T,f(I)?!!I.capture:!1,z):pr(p,w,T,!1,I,z)}function pr(p,w,T,I,z,J){if(!w)throw Error("Invalid event type");const ae=f(z)?!!z.capture:!!z;let ke=mr(p);if(ke||(p[je]=ke=new he(p)),T=ke.add(w,T,I,ae,J),T.proxy)return T;if(I=ro(),T.proxy=I,I.src=p,I.listener=T,p.addEventListener)F||(z=ae),z===void 0&&(z=!1),p.addEventListener(w.toString(),I,z);else if(p.attachEvent)p.attachEvent(oi(w.toString()),I);else if(p.addListener&&p.removeListener)p.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ro(){function p(T){return w.call(p.src,p.listener,T)}const w=Na;return p}function oo(p,w,T,I,z){if(Array.isArray(w))for(var J=0;J<w.length;J++)oo(p,w[J],T,I,z);else I=f(I)?!!I.capture:!!I,T=Oa(T),p&&p[pt]?(p=p.i,J=String(w).toString(),J in p.g&&(w=p.g[J],T=Ne(w,T,I,z),T>-1&&(ye(w[T]),Array.prototype.splice.call(w,T,1),w.length==0&&(delete p.g[J],p.h--)))):p&&(p=mr(p))&&(w=p.g[w.toString()],p=-1,w&&(p=Ne(w,T,I,z)),(T=p>-1?w[p]:null)&&ao(T))}function ao(p){if(typeof p!="number"&&p&&!p.da){var w=p.src;if(w&&w[pt])Te(w.i,p);else{var T=p.type,I=p.proxy;w.removeEventListener?w.removeEventListener(T,I,p.capture):w.detachEvent?w.detachEvent(oi(T),I):w.addListener&&w.removeListener&&w.removeListener(I),(T=mr(w))?(Te(T,p),T.h==0&&(T.src=null,w[je]=null)):ye(p)}}}function oi(p){return p in Dt?Dt[p]:Dt[p]="on"+p}function Na(p,w){if(p.da)p=!0;else{w=new $e(w,this);const T=p.listener,I=p.ha||p.src;p.fa&&ao(p),p=T.call(I,w)}return p}function mr(p){return p=p[je],p instanceof he?p:null}var ka="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oa(p){return typeof p=="function"?p:(p[ka]||(p[ka]=function(w){return p.handleEvent(w)}),p[ka])}function Tt(){M.call(this),this.i=new he(this),this.M=this,this.G=null}S(Tt,M),Tt.prototype[pt]=!0,Tt.prototype.removeEventListener=function(p,w,T,I){oo(this,p,w,T,I)};function Mt(p,w){var T,I=p.G;if(I)for(T=[];I;I=I.G)T.push(I);if(p=p.M,I=w.type||w,typeof w=="string")w=new D(w,p);else if(w instanceof D)w.target=w.target||p;else{var z=w;w=new D(I,p),ue(w,z)}z=!0;let J,ae;if(T)for(ae=T.length-1;ae>=0;ae--)J=w.g=T[ae],z=fs(J,I,!0,w)&&z;if(J=w.g=p,z=fs(J,I,!0,w)&&z,z=fs(J,I,!1,w)&&z,T)for(ae=0;ae<T.length;ae++)J=w.g=T[ae],z=fs(J,I,!1,w)&&z}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var p=this.i;for(const w in p.g){const T=p.g[w];for(let I=0;I<T.length;I++)ye(T[I]);delete p.g[w],p.h--}}this.G=null},Tt.prototype.J=function(p,w,T,I){return this.i.add(String(p),w,!1,T,I)},Tt.prototype.K=function(p,w,T,I){return this.i.add(String(p),w,!0,T,I)};function fs(p,w,T,I){if(w=p.i.g[String(w)],!w)return!0;w=w.concat();let z=!0;for(let J=0;J<w.length;++J){const ae=w[J];if(ae&&!ae.da&&ae.capture==T){const ke=ae.listener,yt=ae.ha||ae.src;ae.fa&&Te(p.i,ae),z=ke.call(yt,I)!==!1&&z}}return z&&!I.defaultPrevented}function sh(p,w){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:c.setTimeout(p,w||0)}function vu(p){p.g=sh(()=>{p.g=null,p.i&&(p.i=!1,vu(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}class on extends M{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:vu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gr(p){M.call(this),this.h=p,this.g={}}S(gr,M);var xa=[];function Ra(p){He(p.g,function(w,T){this.g.hasOwnProperty(T)&&ao(w)},p),p.g={}}gr.prototype.N=function(){gr.Z.N.call(this),Ra(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ps=c.JSON.stringify,rh=c.JSON.parse,yu=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function bu(){}function wu(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){D.call(this,"d")}S(Bt,D);function In(){D.call(this,"c")}S(In,D);var vt={},Su=null;function lo(){return Su=Su||new Tt}vt.Ia="serverreachability";function Eu(p){D.call(this,vt.Ia,p)}S(Eu,D);function ai(p){const w=lo();Mt(w,new Eu(w))}vt.STAT_EVENT="statevent";function vr(p,w){D.call(this,vt.STAT_EVENT,p),this.stat=w}S(vr,D);function _t(p){const w=lo();Mt(w,new vr(w,p))}vt.Ja="timingevent";function li(p,w){D.call(this,vt.Ja,p),this.size=w}S(li,D);function ui(p,w){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},w)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function oh(p,w,T,I,z,J){p.info(function(){if(p.g)if(J){var ae="",ke=J.split("&");for(let Qe=0;Qe<ke.length;Qe++){var yt=ke[Qe].split("=");if(yt.length>1){const ct=yt[0];yt=yt[1];const On=ct.split("_");ae=On.length>=2&&On[1]=="type"?ae+(ct+"="+yt+"&"):ae+(ct+"=redacted&")}}}else ae=null;else ae=J;return"XMLHTTP REQ ("+I+") [attempt "+z+"]: "+w+`
`+T+`
`+ae})}function Tu(p,w,T,I,z,J,ae){p.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+z+"]: "+w+`
`+T+`
`+J+" "+ae})}function ci(p,w,T,I){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+ah(p,T)+(I?" "+I:"")})}function yr(p,w){p.info(function(){return"TIMEOUT: "+w})}zn.prototype.info=function(){};function ah(p,w){if(!p.g)return w;if(!w)return null;try{const J=JSON.parse(w);if(J){for(p=0;p<J.length;p++)if(Array.isArray(J[p])){var T=J[p];if(!(T.length<2)){var I=T[1];if(Array.isArray(I)&&!(I.length<1)){var z=I[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ae=1;ae<I.length;ae++)I[ae]=""}}}}return ps(J)}catch{return w}}var br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Da;function wr(){}S(wr,bu),wr.prototype.g=function(){return new XMLHttpRequest},Da=new wr;function Li(p){return encodeURIComponent(String(p))}function _u(p){var w=1;p=p.split(":");const T=[];for(;w>0&&p.length;)T.push(p.shift()),w--;return p.length&&T.push(p.join(":")),T}function Bn(p,w,T,I){this.j=p,this.i=w,this.l=T,this.S=I||1,this.V=new gr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Ct={},jt={};function di(p,w,T){p.M=1,p.A=Sr(At(w)),p.u=T,p.R=!0,uo(p,null)}function uo(p,w){p.F=Date.now(),hi(p),p.B=At(p.A);var T=p.B,I=p.S;Array.isArray(I)||(I=[String(I)]),po(T.i,"t",I),p.C=0,T=p.j.L,p.h=new Gn,p.g=ju(p.j,T?w:null,!p.u),p.P>0&&(p.O=new on(v(p.Y,p,p.g),p.P)),w=p.V,T=p.g,I=p.ba;var z="readystatechange";Array.isArray(z)||(z&&(xa[0]=z.toString()),z=xa);for(let J=0;J<z.length;J++){const ae=ut(T,z[J],I||w.handleEvent,!1,w.h||w);if(!ae)break;w.g[ae.key]=ae}w=p.J?j(p.J):{},p.u?(p.v||(p.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,w)):(p.v="GET",p.g.ea(p.B,p.v,null,w)),ai(),oh(p.i,p.v,p.B,p.l,p.S,p.u)}Bn.prototype.ba=function(p){p=p.target;const w=this.O;w&&Jn(p)==3?w.j():this.Y(p)},Bn.prototype.Y=function(p){try{if(p==this.g)e:{const ke=Jn(this.g),yt=this.g.ya(),Qe=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||ke!=4||yt==7||(yt==8||Qe<=0?ai(3):ai(2)),fi(this);var w=this.g.ca();this.X=w;var T=lh(this);if(this.o=w==200,Tu(this.i,this.v,this.B,this.l,this.S,ke,w),this.o){if(this.U&&!this.L){t:{if(this.g){var I,z=this.g;if((I=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(I)){var J=I;break t}}J=null}if(p=J)ci(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,p);else{this.o=!1,this.m=3,_t(12),gn(this),An(this);break e}}if(this.R){p=!0;let ct;for(;!this.K&&this.C<T.length;)if(ct=Iu(this,T),ct==jt){ke==4&&(this.m=4,_t(14),p=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Ct){this.m=4,_t(15),ci(this.i,this.l,T,"[Invalid Chunk]"),p=!1;break}else ci(this.i,this.l,ct,null),pi(this,ct);if(Cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||T.length!=0||this.h.h||(this.m=1,_t(16),p=!1),this.o=this.o&&p,!p)ci(this.i,this.l,T,"[Invalid Chunked Response]"),gn(this),An(this);else if(T.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Wa(ae),ae.P=!0,_t(11))}}else ci(this.i,this.l,T,null),pi(this,T);ke==4&&gn(this),this.o&&!this.K&&(ke==4?Mu(this.j,this):(this.o=!1,hi(this)))}else Fi(this.g),w==400&&T.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),gn(this),An(this)}}}catch{}finally{}};function lh(p){if(!Cu(p))return p.g.la();const w=Gt(p.g);if(w==="")return"";let T="";const I=w.length,z=Jn(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return gn(p),An(p),"";p.h.i=new c.TextDecoder}for(let J=0;J<I;J++)p.h.h=!0,T+=p.h.i.decode(w[J],{stream:!(z&&J==I-1)});return w.length=0,p.h.g+=T,p.C=0,p.h.g}function Cu(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Iu(p,w){var T=p.C,I=w.indexOf(`
`,T);return I==-1?jt:(T=Number(w.substring(T,I)),isNaN(T)?Ct:(I+=1,I+T>w.length?jt:(w=w.slice(I,I+T),p.C=I+T,w)))}Bn.prototype.cancel=function(){this.K=!0,gn(this)};function hi(p){p.T=Date.now()+p.H,co(p,p.H)}function co(p,w){if(p.D!=null)throw Error("WatchDog timer not null");p.D=ui(v(p.aa,p),w)}function fi(p){p.D&&(c.clearTimeout(p.D),p.D=null)}Bn.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(yr(this.i,this.B),this.M!=2&&(ai(),_t(17)),gn(this),this.m=2,An(this)):co(this,this.T-p)};function An(p){p.j.I==0||p.K||Mu(p.j,p)}function gn(p){fi(p);var w=p.O;w&&typeof w.dispose=="function"&&w.dispose(),p.O=null,Ra(p.V),p.g&&(w=p.g,p.g=null,w.abort(),w.dispose())}function pi(p,w){try{var T=p.j;if(T.I!=0&&(T.g==p||gi(T.h,p))){if(!p.L&&gi(T.h,p)&&T.I==3){try{var I=T.Ba.g.parse(w)}catch{I=null}if(Array.isArray(I)&&I.length==3){var z=I;if(z[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<p.F)bo(T),Es(T);else break e;Nr(T),_t(18)}}else T.xa=z[1],0<T.xa-T.K&&z[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=ui(v(T.Va,T),6e3));mi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Ei(T,11)}else if((p.L||T.g==p)&&bo(T),!x(w))for(z=T.Ba.g.parse(w),w=0;w<z.length;w++){let Qe=z[w];const ct=Qe[0];if(!(ct<=T.K))if(T.K=ct,Qe=Qe[1],T.I==2)if(Qe[0]=="c"){T.M=Qe[1],T.ba=Qe[2];const On=Qe[3];On!=null&&(T.ka=On,T.j.info("VER="+T.ka));const qi=Qe[4];qi!=null&&(T.za=qi,T.j.info("SVER="+T.za));const Wn=Qe[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(I=1.5*Wn,T.O=I,T.j.info("backChannelRequestTimeoutMs_="+I)),I=T;const Yn=p.g;if(Yn){const kr=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var J=I.h;J.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ua(J,J.h),J.h=null))}if(I.G){const wo=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(I.wa=wo,Ye(I.J,I.G,wo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-p.F,T.j.info("Handshake RTT: "+T.T+"ms")),I=T;var ae=p;if(I.na=Fu(I,I.L?I.ba:null,I.W),ae.L){Fa(I.h,ae);var ke=ae,yt=I.O;yt&&(ke.H=yt),ke.D&&(fi(ke),hi(ke)),I.g=ae}else Pu(I);T.i.length>0&&Si(T)}else Qe[0]!="stop"&&Qe[0]!="close"||Ei(T,7);else T.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Ei(T,7):Ka(T):Qe[0]!="noop"&&T.l&&T.l.qa(Qe),T.A=0)}}ai(4)}catch{}}var It=class{constructor(p,w){this.g=p,this.map=w}};function Ma(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function La(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function mi(p){return p.h?1:p.g?p.g.size:0}function gi(p,w){return p.h?p.h==w:p.g?p.g.has(w):!1}function Ua(p,w){p.g?p.g.add(w):p.h=w}function Fa(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}Ma.prototype.cancel=function(){if(this.i=ja(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function ja(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let w=p.i;for(const T of p.g.values())w=w.concat(T.G);return w}return k(p.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ho(p,w){if(p){p=p.split("&");for(let T=0;T<p.length;T++){const I=p[T].indexOf("=");let z,J=null;I>=0?(z=p[T].substring(0,I),J=p[T].substring(I+1)):z=p[T],w(z,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function vn(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;p instanceof vn?(this.l=p.l,qt(this,p.j),this.o=p.o,this.g=p.g,ms(this,p.u),this.h=p.h,qa(this,xu(p.i)),this.m=p.m):p&&(w=String(p).match(Au))?(this.l=!1,qt(this,w[1]||"",!0),this.o=vi(w[2]||""),this.g=vi(w[3]||"",!0),ms(this,w[4]),this.h=vi(w[5]||"",!0),qa(this,w[6]||"",!0),this.m=vi(w[7]||"")):(this.l=!1,this.i=new vs(null,this.l))}vn.prototype.toString=function(){const p=[];var w=this.j;w&&p.push(Er(w,fo,!0),":");var T=this.g;return(T||w=="file")&&(p.push("//"),(w=this.o)&&p.push(Er(w,fo,!0),"@"),p.push(Li(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&p.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(Er(T,T.charAt(0)=="/"?Va:Nu,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",Er(T,ku)),p.join("")},vn.prototype.resolve=function(p){const w=At(this);let T=!!p.j;T?qt(w,p.j):T=!!p.o,T?w.o=p.o:T=!!p.g,T?w.g=p.g:T=p.u!=null;var I=p.h;if(T)ms(w,p.u);else if(T=!!p.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var z=w.h.lastIndexOf("/");z!=-1&&(I=w.h.slice(0,z+1)+I)}if(z=I,z==".."||z==".")I="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){I=z.lastIndexOf("/",0)==0,z=z.split("/");const J=[];for(let ae=0;ae<z.length;){const ke=z[ae++];ke=="."?I&&ae==z.length&&J.push(""):ke==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),I&&ae==z.length&&J.push("")):(J.push(ke),I=!0)}I=J.join("/")}else I=z}return T?w.h=I:T=p.i.toString()!=="",T?qa(w,xu(p.i)):T=!!p.m,T&&(w.m=p.m),w};function At(p){return new vn(p)}function qt(p,w,T){p.j=T?vi(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function ms(p,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);p.u=w}else p.u=null}function qa(p,w,T){w instanceof vs?(p.i=w,mo(p.i,p.l)):(T||(w=Er(w,gs)),p.i=new vs(w,p.l))}function Ye(p,w,T){p.i.set(w,T)}function Sr(p){return Ye(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function vi(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Er(p,w,T){return typeof p=="string"?(p=encodeURI(p).replace(w,yn),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function yn(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var fo=/[#\/\?@]/g,Nu=/[#\?:]/g,Va=/[#\?]/g,gs=/[#\?@]/g,ku=/#/g;function vs(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function un(p){p.g||(p.g=new Map,p.h=0,p.i&&ho(p.i,function(w,T){p.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}n=vs.prototype,n.add=function(p,w){un(this),this.i=null,p=ys(this,p);let T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(w),this.h+=1,this};function Ou(p,w){un(p),w=ys(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function Ha(p,w){return un(p),w=ys(p,w),p.g.has(w)}n.forEach=function(p,w){un(this),this.g.forEach(function(T,I){T.forEach(function(z){p.call(w,z,I,this)},this)},this)};function za(p,w){un(p);let T=[];if(typeof w=="string")Ha(p,w)&&(T=T.concat(p.g.get(ys(p,w))));else for(p=Array.from(p.g.values()),w=0;w<p.length;w++)T=T.concat(p[w]);return T}n.set=function(p,w){return un(this),this.i=null,p=ys(this,p),Ha(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},n.get=function(p,w){return p?(p=za(this,p),p.length>0?String(p[0]):w):w};function po(p,w,T){Ou(p,w),T.length>0&&(p.i=null,p.g.set(ys(p,w),k(T)),p.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(let I=0;I<w.length;I++){var T=w[I];const z=Li(T);T=za(this,T);for(let J=0;J<T.length;J++){let ae=z;T[J]!==""&&(ae+="="+Li(T[J])),p.push(ae)}}return this.i=p.join("&")};function xu(p){const w=new vs;return w.i=p.i,p.g&&(w.g=new Map(p.g),w.h=p.h),w}function ys(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function mo(p,w){w&&!p.j&&(un(p),p.i=null,p.g.forEach(function(T,I){const z=I.toLowerCase();I!=z&&(Ou(this,I),po(this,z,T))},p)),p.j=w}function $n(p,w){const T=new zn;if(c.Image){const I=new Image;I.onload=b(Nn,T,"TestLoadImage: loaded",!0,w,I),I.onerror=b(Nn,T,"TestLoadImage: error",!1,w,I),I.onabort=b(Nn,T,"TestLoadImage: abort",!1,w,I),I.ontimeout=b(Nn,T,"TestLoadImage: timeout",!1,w,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=p}else w(!1)}function Ba(p,w){const T=new zn,I=new AbortController,z=setTimeout(()=>{I.abort(),Nn(T,"TestPingServer: timeout",!1,w)},1e4);fetch(p,{signal:I.signal}).then(J=>{clearTimeout(z),J.ok?Nn(T,"TestPingServer: ok",!0,w):Nn(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(z),Nn(T,"TestPingServer: error",!1,w)})}function Nn(p,w,T,I,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),I(T)}catch{}}function bs(){this.g=new yu}function yi(p){this.i=p.Sb||null,this.h=p.ab||!1}S(yi,bu),yi.prototype.g=function(){return new Tr(this.i,this.h)};function Tr(p,w){Tt.call(this),this.H=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Tr,Tt),n=Tr.prototype,n.open=function(p,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=w,this.readyState=1,Kn(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(w.body=p),(this.H||c).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;go(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function go(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?ws(this):Kn(this),this.readyState==3&&go(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,ws(this))},n.Na=function(p){this.g&&(this.response=p,ws(this))},n.ga=function(){this.g&&ws(this)};function ws(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Kn(p)}n.setRequestHeader=function(p,w){this.A.append(p,w)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=w.next();return p.join(`\r
`)};function Kn(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function kn(p){let w="";return He(p,function(T,I){w+=I,w+=":",w+=T,w+=`\r
`}),w}function _r(p,w,T){e:{for(I in T){var I=!1;break e}I=!0}I||(T=kn(T),typeof p=="string"?T!=null&&Li(T):Ye(p,w,T))}function et(p){Tt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(et,Tt);var bi=/^https?$/i,Ga=["POST","PUT"];n=et.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,w,T,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Da.g(),this.g.onreadystatechange=_(v(this.Ca,this));try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(J){Cr(this,J);return}if(p=T||"",T=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var z in I)T.set(z,I[z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())T.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),z=c.FormData&&p instanceof c.FormData,!(Array.prototype.indexOf.call(Ga,w,void 0)>=0)||I||z||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ae]of T)this.g.setRequestHeader(J,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(J){Cr(this,J)}};function Cr(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.o=5,$a(p),Ui(p)}function $a(p){p.A||(p.A=!0,Mt(p,"complete"),Mt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Mt(this,"complete"),Mt(this,"abort"),Ui(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),et.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ir(this):this.Xa())},n.Xa=function(){Ir(this)};function Ir(p){if(p.h&&typeof l<"u"){if(p.v&&Jn(p)==4)setTimeout(p.Ca.bind(p),0);else if(Mt(p,"readystatechange"),Jn(p)==4){p.h=!1;try{const J=p.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var I;if(I=J===0){let ae=String(p.D).match(Au)[1]||null;!ae&&c.self&&c.self.location&&(ae=c.self.location.protocol.slice(0,-1)),I=!bi.test(ae?ae.toLowerCase():"")}T=I}if(T)Mt(p,"complete"),Mt(p,"success");else{p.o=6;try{var z=Jn(p)>2?p.g.statusText:""}catch{z=""}p.l=z+" ["+p.ca()+"]",$a(p)}}finally{Ui(p)}}}}function Ui(p,w){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const T=p.g;p.g=null,w||Mt(p,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Jn(p){return p.g?p.g.readyState:0}n.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var w=this.g.responseText;return p&&w.indexOf(p)==0&&(w=w.substring(p.length)),rh(w)}};function Gt(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(p){const w={};p=(p.g&&Jn(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<p.length;I++){if(x(p[I]))continue;var T=_u(p[I]);const z=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=w[z]||[];w[z]=J,J.push(T)}We(w,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(p,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||w}function Ss(p){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,p),this.Za=wi("retryDelaySeedMs",1e4,p),this.Ta=wi("forwardChannelMaxRetries",2,p),this.va=wi("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Ma(p&&p.concurrentRequestLimit),this.Ba=new bs,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ss.prototype,n.ka=8,n.I=1,n.connect=function(p,w,T,I){_t(0),this.W=p,this.H=w||{},T&&I!==void 0&&(this.H.OSID=T,this.H.OAID=I),this.F=this.X,this.J=Fu(this,null,this.W),Si(this)};function Ka(p){if(vo(p),p.I==3){var w=p.V++,T=At(p.J);if(Ye(T,"SID",p.M),Ye(T,"RID",w),Ye(T,"TYPE","terminate"),Ar(p,T),w=new Bn(p,p.j,w),w.M=2,w.A=Sr(At(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(w.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=w.A,T=!0),T||(w.g=ju(w.j,null),w.g.ea(w.A)),w.F=Date.now(),hi(w)}Uu(p)}function Es(p){p.g&&(Wa(p),p.g.cancel(),p.g=null)}function vo(p){Es(p),p.v&&(c.clearTimeout(p.v),p.v=null),bo(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&c.clearTimeout(p.m),p.m=null)}function Si(p){if(!La(p.h)&&!p.m){p.m=!0;var w=p.Ea;pe||A(),ie||(pe(),ie=!0),O.add(w,p),p.D=0}}function yo(p,w){return mi(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=w.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=ui(v(p.Ea,p,w),Lu(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const z=new Bn(this,this.j,p);let J=this.o;if(this.U&&(J?(J=j(J),ue(J,this.U)):J=this.U),this.u!==null||this.R||(z.J=J,J=null),this.S)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var I=this.i[T];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(w+=I,w>4096){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=Ru(this,z,w),T=At(this.J),Ye(T,"RID",p),Ye(T,"CVER",22),this.G&&Ye(T,"X-HTTP-Session-Id",this.G),Ar(this,T),J&&(this.R?w="headers="+Li(kn(J))+"&"+w:this.u&&_r(T,this.u,J)),Ua(this.h,z),this.Ra&&Ye(T,"TYPE","init"),this.S?(Ye(T,"$req",w),Ye(T,"SID","null"),z.U=!0,di(z,T,null)):di(z,T,w),this.I=2}}else this.I==3&&(p?Ja(this,p):this.i.length==0||La(this.h)||Ja(this))};function Ja(p,w){var T;w?T=w.l:T=p.V++;const I=At(p.J);Ye(I,"SID",p.M),Ye(I,"RID",T),Ye(I,"AID",p.K),Ar(p,I),p.u&&p.o&&_r(I,p.u,p.o),T=new Bn(p,p.j,T,p.D+1),p.u===null&&(T.J=p.o),w&&(p.i=w.G.concat(p.i)),w=Ru(p,T,1e3),T.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Ua(p.h,T),di(T,I,w)}function Ar(p,w){p.H&&He(p.H,function(T,I){Ye(w,I,T)}),p.l&&He({},function(T,I){Ye(w,I,T)})}function Ru(p,w,T){T=Math.min(p.i.length,T);const I=p.l?v(p.l.Ka,p.l,p):null;e:{var z=p.i;let ke=-1;for(;;){const yt=["count="+T];ke==-1?T>0?(ke=z[0].g,yt.push("ofs="+ke)):ke=0:yt.push("ofs="+ke);let Qe=!0;for(let ct=0;ct<T;ct++){var J=z[ct].g;const On=z[ct].map;if(J-=ke,J<0)ke=Math.max(0,z[ct].g-100),Qe=!1;else try{J="req"+J+"_"||"";try{var ae=On instanceof Map?On:Object.entries(On);for(const[qi,Wn]of ae){let Yn=Wn;f(Wn)&&(Yn=ps(Wn)),yt.push(J+qi+"="+encodeURIComponent(Yn))}}catch(qi){throw yt.push(J+"type="+encodeURIComponent("_badmap")),qi}}catch{I&&I(On)}}if(Qe){ae=yt.join("&");break e}}ae=void 0}return p=p.i.splice(0,T),w.G=p,ae}function Pu(p){if(!p.g&&!p.v){p.Y=1;var w=p.Da;pe||A(),ie||(pe(),ie=!0),O.add(w,p),p.A=0}}function Nr(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=ui(v(p.Da,p),Lu(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,Du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=ui(v(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),Es(this),Du(this))};function Wa(p){p.B!=null&&(c.clearTimeout(p.B),p.B=null)}function Du(p){p.g=new Bn(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var w=At(p.na);Ye(w,"RID","rpc"),Ye(w,"SID",p.M),Ye(w,"AID",p.K),Ye(w,"CI",p.F?"0":"1"),!p.F&&p.ia&&Ye(w,"TO",p.ia),Ye(w,"TYPE","xmlhttp"),Ar(p,w),p.u&&p.o&&_r(w,p.u,p.o),p.O&&(p.g.H=p.O);var T=p.g;p=p.ba,T.M=1,T.A=Sr(At(w)),T.u=null,T.R=!0,uo(T,p)}n.Va=function(){this.C!=null&&(this.C=null,Es(this),Nr(this),_t(19))};function bo(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Mu(p,w){var T=null;if(p.g==w){bo(p),Wa(p),p.g=null;var I=2}else if(gi(p.h,w))T=w.G,Fa(p.h,w),I=1;else return;if(p.I!=0){if(w.o)if(I==1){T=w.u?w.u.length:0,w=Date.now()-w.F;var z=p.D;I=lo(),Mt(I,new li(I,T)),Si(p)}else Pu(p);else if(z=w.m,z==3||z==0&&w.X>0||!(I==1&&yo(p,w)||I==2&&Nr(p)))switch(T&&T.length>0&&(w=p.h,w.i=w.i.concat(T)),z){case 1:Ei(p,5);break;case 4:Ei(p,10);break;case 3:Ei(p,6);break;default:Ei(p,2)}}}function Lu(p,w){let T=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(T*=2),T*w}function Ei(p,w){if(p.j.info("Error code "+w),w==2){var T=v(p.bb,p),I=p.Ua;const z=!I;I=new vn(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qt(I,"https"),Sr(I),z?$n(I.toString(),T):Ba(I.toString(),T)}else _t(2);p.I=0,p.l&&p.l.pa(w),Uu(p),vo(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Uu(p){if(p.I=0,p.ja=[],p.l){const w=ja(p.h);(w.length!=0||p.i.length!=0)&&(H(p.ja,w),H(p.ja,p.i),p.h.i.length=0,k(p.i),p.i.length=0),p.l.oa()}}function Fu(p,w,T){var I=T instanceof vn?At(T):new vn(T);if(I.g!="")w&&(I.g=w+"."+I.g),ms(I,I.u);else{var z=c.location;I=z.protocol,w=w?w+"."+z.hostname:z.hostname,z=+z.port;const J=new vn(null);I&&qt(J,I),w&&(J.g=w),z&&ms(J,z),T&&(J.h=T),I=J}return T=p.G,w=p.wa,T&&w&&Ye(I,T,w),Ye(I,"VER",p.ka),Ar(p,I),I}function ju(p,w,T){if(w&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=p.Aa&&!p.ma?new et(new yi({ab:T})):new et(p.ma),w.Fa(p.L),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}n=qu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ts(){}Ts.prototype.g=function(p,w){return new an(p,w)};function an(p,w){Tt.call(this),this.g=new Ss(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(p?p["X-WebChannel-Client-Profile"]=w.sa:p={"X-WebChannel-Client-Profile":w.sa}),this.g.U=p,(p=w&&w.Qb)&&!x(p)&&(this.g.u=p),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!x(w)&&(this.g.G=w,p=this.h,p!==null&&w in p&&(p=this.h,w in p&&delete p[w])),this.j=new ji(this)}S(an,Tt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Ka(this.g)},an.prototype.o=function(p){var w=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.v&&(T={},T.__data__=ps(p),p=T);w.i.push(new It(w.Ya++,p)),w.I==3&&Si(w)},an.prototype.N=function(){this.g.l=null,delete this.j,Ka(this.g),delete this.g,an.Z.N.call(this)};function Vu(p){Bt.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(const T in w){p=T;break e}p=void 0}(this.i=p)&&(p=this.i,w=w!==null&&p in w?w[p]:void 0),this.data=w}else this.data=p}S(Vu,Bt);function Hu(){In.call(this),this.status=1}S(Hu,In);function ji(p){this.g=p}S(ji,qu),ji.prototype.ra=function(){Mt(this.g,"a")},ji.prototype.qa=function(p){Mt(this.g,new Vu(p))},ji.prototype.pa=function(p){Mt(this.g,new Hu)},ji.prototype.oa=function(){Mt(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,eE=function(){return new Ts},XS=function(){return lo()},ZS=vt,_p={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,Zc=br,Pa.COMPLETE="complete",QS=Pa,wu.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Fl=wu,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,YS=et}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const $0="@firebase/firestore",K0="4.9.2";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let ba="12.3.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Yr=new tm("@firebase/firestore");function Yo(){return Yr.logLevel}function de(n,...e){if(Yr.logLevel<=Me.DEBUG){const t=e.map(sm);Yr.debug(`Firestore (${ba}): ${n}`,...t)}}function os(n,...e){if(Yr.logLevel<=Me.ERROR){const t=e.map(sm);Yr.error(`Firestore (${ba}): ${n}`,...t)}}function ca(n,...e){if(Yr.logLevel<=Me.WARN){const t=e.map(sm);Yr.warn(`Firestore (${ba}): ${n}`,...t)}}function sm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ee(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,tE(n,s,t)}function tE(n,e,t){let s=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw os(s),new Error(s)}function Je(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||tE(e,o,s)}function Ie(n,e){return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends cs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(tn.UNAUTHENTICATED)))}shutdown(){}}class K1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class J1{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new sr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},f=m=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new sr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string",31837,{l:s}),new nE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class W1{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Y1{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new W1(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class J0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q1{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0,3512);const s=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new J0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new J0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Z1(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Z1(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function Le(n,e){return n<e?-1:n>e?1:0}function Cp(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),l=e.charAt(s);if(o!==l)return hp(o)===hp(l)?Le(o,l):hp(o)?1:-1}return Le(n.length,e.length)}const X1=55296,eN=57343;function hp(n){const e=n.charCodeAt(0);return e>=X1&&e<=eN}function da(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const W0="__name__";class Ai{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ee(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ai.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ai?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=Ai.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Le(e.length,t.length)}static compareSegments(e,t){const s=Ai.isNumericId(e),o=Ai.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ai.extractNumericId(e).compare(Ai.extractNumericId(t)):Cp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ir.fromString(e.substring(4,e.length-2))}}class ht extends Ai{construct(e,t,s){return new ht(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new ht(t)}static emptyPath(){return new ht([])}}const tN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ai{construct(e,t,s){return new Qt(e,t,s)}static isValidIdentifier(e){return tN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W0}static keyField(){return new Qt([W0])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ge(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ge(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(s+=f,o++):(l(),o++)}if(l(),c)throw new ge(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(t)}static emptyPath(){return new Qt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class be{constructor(e){this.path=e}static fromPath(e){return new be(ht.fromString(e))}static fromName(e){return new be(ht.fromString(e).popFirst(5))}static empty(){return new be(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ht(e.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nN(n,e,t){if(!t)throw new ge(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function iN(n,e,t,s){if(e===!0&&s===!0)throw new ge(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Y0(n){if(!be.isDocumentKey(n))throw new ge(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function iE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function om(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(t){return t.constructor?t.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function Ql(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=om(n);throw new ge(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Pt(n,e){const t={typeString:n};return e&&(t.value=e),t}function uu(n,e){if(!iE(n))throw new ge(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new ge(re.INVALID_ARGUMENT,t);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Q0=-62135596800,Z0=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Z0);return new lt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Q0)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z0}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uu(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Q0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Pt("string",lt._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new lt(0,0))}static max(){return new _e(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zl=-1;function sN(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=_e.fromTimestamp(s===1e9?new lt(t+1,0):new lt(t,s));return new or(o,be.empty(),e)}function rN(n){return new or(n.readTime,n.key,Zl)}class or{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new or(_e.min(),be.empty(),Zl)}static max(){return new or(_e.max(),be.empty(),Zl)}}function oN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const aN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function wa(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==aN)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.reject(t)}static resolve(e){return new ne(((t,s)=>{t(e)}))}static reject(e){return new ne(((t,s)=>{s(e)}))}static waitFor(e){return new ne(((t,s)=>{let o=0,l=0,c=!1;e.forEach((f=>{++o,f.next((()=>{++l,c&&l===o&&t()}),(m=>s(m)))})),c=!0,l===o&&t()}))}static or(e){let t=ne.resolve(!1);for(const s of e)t=t.next((o=>o?ne.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new ne(((s,o)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const v=m;t(e[v]).next((b=>{c[v]=b,++f,f===l&&s(c)}),(b=>o(b)))}}))}static doWhile(e,t){return new ne(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function uN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sa(n){return n.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Md{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Md.ce=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const am=-1;function Ld(n){return n==null}function hd(n){return n===0&&1/n==-1/0}function cN(n){return typeof n=="number"&&Number.isInteger(n)&&!hd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sE="";function dN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=X0(e)),e=hN(n.get(t),e);return X0(e)}function hN(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case sE:t+="";break;default:t+=l}}return t}function X0(n){return n+sE+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function eb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xr(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ft{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=l??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Yt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(n,e,t,s,o){return this}insert(n,e,t){return new Yt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ft{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tb(this.data.getIterator())}getIteratorFrom(e){return new tb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class tb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ni{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new ni([])}unionWith(e){let t=new Ft(Qt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ni(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return da(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new oE("Invalid base64 string: "+o):o}})(e);return new Zt(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o})(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const fN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(n){if(Je(!!n,39018),typeof n=="string"){let e=0;const t=fN.exec(n);if(Je(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function lr(n){return typeof n=="string"?Zt.fromBase64String(n):Zt.fromUint8Array(n)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const aE="server_timestamp",lE="__type__",uE="__previous_value__",cE="__local_write_time__";function lm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[lE])==null?void 0:t.stringValue)===aE}function Ud(n){const e=n.mapValue.fields[uE];return lm(e)?Ud(e):e}function Xl(n){const e=ar(n.mapValue.fields[cE].timestampValue);return new lt(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pN{constructor(e,t,s,o,l,c,f,m,v,b){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=v,this.isUsingEmulator=b}}const fd="(default)";class eu{constructor(e,t){this.projectId=e,this.database=t||fd}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===fd}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dE="__type__",mN="__max__",Jc={mapValue:{}},hE="__vector__",pd="value";function ur(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lm(n)?4:vN(n)?9007199254740991:gN(n)?10:11:Ee(28295,{value:n})}function Di(n,e){if(n===e)return!0;const t=ur(n);if(t!==ur(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xl(n).isEqual(Xl(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=ar(s.timestampValue),c=ar(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return lr(s.bytesValue).isEqual(lr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return St(s.geoPointValue.latitude)===St(o.geoPointValue.latitude)&&St(s.geoPointValue.longitude)===St(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return St(s.integerValue)===St(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=St(s.doubleValue),c=St(o.doubleValue);return l===c?hd(l)===hd(c):isNaN(l)&&isNaN(c)}return!1})(n,e);case 9:return da(n.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return(function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(eb(l)!==eb(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Di(l[f],c[f])))return!1;return!0})(n,e);default:return Ee(52216,{left:n})}}function tu(n,e){return(n.values||[]).find((t=>Di(t,e)))!==void 0}function ha(n,e){if(n===e)return 0;const t=ur(n),s=ur(e);if(t!==s)return Le(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=St(o.integerValue||o.doubleValue),f=St(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(n,e);case 3:return nb(n.timestampValue,e.timestampValue);case 4:return nb(Xl(n),Xl(e));case 5:return Cp(n.stringValue,e.stringValue);case 6:return(function(o,l){const c=lr(o),f=lr(l);return c.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),f=l.split("/");for(let m=0;m<c.length&&m<f.length;m++){const v=Le(c[m],f[m]);if(v!==0)return v}return Le(c.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=Le(St(o.latitude),St(l.latitude));return c!==0?c:Le(St(o.longitude),St(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ib(n.arrayValue,e.arrayValue);case 10:return(function(o,l){var c,f,m,v;const b=o.fields||{},S=l.fields||{},_=(c=b[pd])==null?void 0:c.arrayValue,k=(f=S[pd])==null?void 0:f.arrayValue,H=Le(((m=_==null?void 0:_.values)==null?void 0:m.length)||0,((v=k==null?void 0:k.values)==null?void 0:v.length)||0);return H!==0?H:ib(_,k)})(n.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Jc.mapValue&&l===Jc.mapValue)return 0;if(o===Jc.mapValue)return 1;if(l===Jc.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),m=l.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let b=0;b<f.length&&b<v.length;++b){const S=Cp(f[b],v[b]);if(S!==0)return S;const _=ha(c[f[b]],m[v[b]]);if(_!==0)return _}return Le(f.length,v.length)})(n.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function nb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=ar(n),s=ar(e),o=Le(t.seconds,s.seconds);return o!==0?o:Le(t.nanos,s.nanos)}function ib(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=ha(t[o],s[o]);if(l)return l}return Le(t.length,s.length)}function fa(n){return Ip(n)}function Ip(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const t=ar(e);return`time(${t.seconds},${t.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return lr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return be.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let t="[",s=!0;for(const o of e.values||[])s?s=!1:t+=",",t+=Ip(o);return t+"]"})(n.arrayValue):"mapValue"in n?(function(e){const t=Object.keys(e.fields||{}).sort();let s="{",o=!0;for(const l of t)o?o=!1:s+=",",s+=`${l}:${Ip(e.fields[l])}`;return s+"}"})(n.mapValue):Ee(61005,{value:n})}function Xc(n){switch(ur(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ud(n);return e?16+Xc(e):16;case 5:return 2*n.stringValue.length;case 6:return lr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(t){return(t.values||[]).reduce(((s,o)=>s+Xc(o)),0)})(n.arrayValue);case 10:case 11:return(function(t){let s=0;return Xr(t.fields,((o,l)=>{s+=o.length+Xc(l)})),s})(n.mapValue);default:throw Ee(13486,{value:n})}}function Ap(n){return!!n&&"integerValue"in n}function um(n){return!!n&&"arrayValue"in n}function sb(n){return!!n&&"nullValue"in n}function rb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ed(n){return!!n&&"mapValue"in n}function gN(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[dE])==null?void 0:t.stringValue)===hE}function zl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Xr(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=zl(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zl(n.arrayValue.values[t]);return e}return{...n}}function vN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===mN}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ed(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(t)}setAll(e){let t=Qt.emptyPath(),s={},o=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=f.popLast()}c?s[f.lastSegment()]=zl(c):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());ed(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];ed(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Xr(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new Fn(zl(this.value))}}function fE(n){const e=[];return Xr(n.fields,((t,s)=>{const o=new Qt([t]);if(ed(s)){const l=fE(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new ni(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nn{constructor(e,t,s,o,l,c,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new nn(e,0,_e.min(),_e.min(),_e.min(),Fn.empty(),0)}static newFoundDocument(e,t,s,o){return new nn(e,1,t,_e.min(),s,o,0)}static newNoDocument(e,t){return new nn(e,2,t,_e.min(),_e.min(),Fn.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,_e.min(),_e.min(),Fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class md{constructor(e,t){this.position=e,this.inclusive=t}}function ob(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?s=be.comparator(be.fromName(c.referenceValue),t.key):s=ha(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function ab(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Di(n.position[t],e.position[t]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gd{constructor(e,t="asc"){this.field=e,this.dir=t}}function yN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pE{}class Ut extends pE{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new wN(e,t,s):t==="array-contains"?new TN(e,s):t==="in"?new _N(e,s):t==="not-in"?new CN(e,s):t==="array-contains-any"?new IN(e,s):new Ut(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new SN(e,s):new EN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ha(t,this.value)):t!==null&&ur(this.value)===ur(t)&&this.matchesComparison(ha(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends pE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Mi(e,t)}matches(e){return mE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mE(n){return n.op==="and"}function gE(n){return bN(n)&&mE(n)}function bN(n){for(const e of n.filters)if(e instanceof Mi)return!1;return!0}function Np(n){if(n instanceof Ut)return n.field.canonicalString()+n.op.toString()+fa(n.value);if(gE(n))return n.filters.map((e=>Np(e))).join(",");{const e=n.filters.map((t=>Np(t))).join(",");return`${n.op}(${e})`}}function vE(n,e){return n instanceof Ut?(function(t,s){return s instanceof Ut&&t.op===s.op&&t.field.isEqual(s.field)&&Di(t.value,s.value)})(n,e):n instanceof Mi?(function(t,s){return s instanceof Mi&&t.op===s.op&&t.filters.length===s.filters.length?t.filters.reduce(((o,l,c)=>o&&vE(l,s.filters[c])),!0):!1})(n,e):void Ee(19439)}function yE(n){return n instanceof Ut?(function(e){return`${e.field.canonicalString()} ${e.op} ${fa(e.value)}`})(n):n instanceof Mi?(function(e){return e.op.toString()+" {"+e.getFilters().map(yE).join(" ,")+"}"})(n):"Filter"}class wN extends Ut{constructor(e,t,s){super(e,t,s),this.key=be.fromName(s.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class SN extends Ut{constructor(e,t){super(e,"in",t),this.keys=bE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class EN extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=bE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function bE(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((s=>be.fromName(s.referenceValue)))}class TN extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return um(t)&&tu(t.arrayValue,this.value)}}class _N extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&tu(this.value.arrayValue,t)}}class CN extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!tu(this.value.arrayValue,t)}}class IN extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!um(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>tu(this.value.arrayValue,s)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AN{constructor(e,t=null,s=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function lb(n,e=null,t=[],s=[],o=null,l=null,c=null){return new AN(n,e,t,s,o,l,c)}function cm(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Np(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(o){return o.field.canonicalString()+o.dir})(s))).join(","),Ld(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>fa(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>fa(s))).join(",")),e.Te=t}return e.Te}function dm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!yN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!vE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ab(n.startAt,e.startAt)&&ab(n.endAt,e.endAt)}function kp(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fd{constructor(e,t=null,s=[],o=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NN(n,e,t,s,o,l,c,f){return new Fd(n,e,t,s,o,l,c,f)}function hm(n){return new Fd(n)}function ub(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kN(n){return n.collectionGroup!==null}function Bl(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ft(Qt.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new gd(o,s))})),t.has(Qt.keyField().canonicalString())||e.Ie.push(new gd(Qt.keyField(),s))}return e.Ie}function Ni(n){const e=Ie(n);return e.Ee||(e.Ee=ON(e,Bl(n))),e.Ee}function ON(n,e){if(n.limitType==="F")return lb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new gd(o.field,l)}));const t=n.endAt?new md(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new md(n.startAt.position,n.startAt.inclusive):null;return lb(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Op(n,e,t){return new Fd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jd(n,e){return dm(Ni(n),Ni(e))&&n.limitType===e.limitType}function wE(n){return`${cm(Ni(n))}|lt:${n.limitType}`}function Qo(n){return`Query(target=${(function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((s=>yE(s))).join(", ")}]`),Ld(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>fa(s))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>fa(s))).join(",")),`Target(${t})`})(Ni(n))}; limitType=${n.limitType})`}function qd(n,e){return e.isFoundDocument()&&(function(t,s){const o=s.key.path;return t.collectionGroup!==null?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):be.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)})(n,e)&&(function(t,s){for(const o of Bl(t))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(t,s){for(const o of t.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(t,s){return!(t.startAt&&!(function(o,l,c){const f=ob(o,l,c);return o.inclusive?f<=0:f<0})(t.startAt,Bl(t),s)||t.endAt&&!(function(o,l,c){const f=ob(o,l,c);return o.inclusive?f>=0:f>0})(t.endAt,Bl(t),s))})(n,e)}function xN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function SE(n){return(e,t)=>{let s=!1;for(const o of Bl(n)){const l=RN(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function RN(n,e,t){const s=n.field.isKeyField()?be.comparator(e.key,t.key):(function(o,l,c){const f=l.data.field(o),m=c.data.field(o);return f!==null&&m!==null?ha(f,m):Ee(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:n.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Xr(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return rE(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const PN=new ft(be.comparator);function as(){return PN}const EE=new ft(be.comparator);function jl(...n){let e=EE;for(const t of n)e=e.insert(t.key,t);return e}function TE(n){let e=EE;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function $r(){return Gl()}function _E(){return Gl()}function Gl(){return new eo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const DN=new ft(be.comparator),MN=new Ft(be.comparator);function Ue(...n){let e=MN;for(const t of n)e=e.add(t);return e}const LN=new Ft(Le);function UN(){return LN}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hd(e)?"-0":e}}function CE(n){return{integerValue:""+n}}function FN(n,e){return cN(e)?CE(e):fm(n,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vd{constructor(){this._=void 0}}function jN(n,e,t){return n instanceof vd?(function(s,o){const l={fields:{[lE]:{stringValue:aE},[cE]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&lm(o)&&(o=Ud(o)),o&&(l.fields[uE]=o),{mapValue:l}})(t,e):n instanceof nu?AE(n,e):n instanceof iu?NE(n,e):(function(s,o){const l=IE(s,o),c=cb(l)+cb(s.Ae);return Ap(l)&&Ap(s.Ae)?CE(c):fm(s.serializer,c)})(n,e)}function qN(n,e,t){return n instanceof nu?AE(n,e):n instanceof iu?NE(n,e):t}function IE(n,e){return n instanceof yd?(function(t){return Ap(t)||(function(s){return!!s&&"doubleValue"in s})(t)})(e)?e:{integerValue:0}:null}class vd extends Vd{}class nu extends Vd{constructor(e){super(),this.elements=e}}function AE(n,e){const t=kE(e);for(const s of n.elements)t.some((o=>Di(o,s)))||t.push(s);return{arrayValue:{values:t}}}class iu extends Vd{constructor(e){super(),this.elements=e}}function NE(n,e){let t=kE(e);for(const s of n.elements)t=t.filter((o=>!Di(o,s)));return{arrayValue:{values:t}}}class yd extends Vd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function cb(n){return St(n.integerValue||n.doubleValue)}function kE(n){return um(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function VN(n,e){return n.field.isEqual(e.field)&&(function(t,s){return t instanceof nu&&s instanceof nu||t instanceof iu&&s instanceof iu?da(t.elements,s.elements,Di):t instanceof yd&&s instanceof yd?Di(t.Ae,s.Ae):t instanceof vd&&s instanceof vd})(n.transform,e.transform)}class HN{constructor(e,t){this.version=e,this.transformResults=t}}class ss{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ss}static exists(e){return new ss(void 0,e)}static updateTime(e){return new ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function td(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Hd{}function OE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new RE(n.key,ss.none()):new cu(n.key,n.data,ss.none());{const t=n.data,s=Fn.empty();let o=new Ft(Qt.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new to(n.key,s,new ni(o.toArray()),ss.none())}}function zN(n,e,t){n instanceof cu?(function(s,o,l){const c=s.value.clone(),f=hb(s.fieldTransforms,o,l.transformResults);c.setAll(f),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(n,e,t):n instanceof to?(function(s,o,l){if(!td(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=hb(s.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(xE(s)),f.setAll(c),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(n,e,t):(function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function $l(n,e,t,s){return n instanceof cu?(function(o,l,c,f){if(!td(o.precondition,l))return c;const m=o.value.clone(),v=fb(o.fieldTransforms,f,l);return m.setAll(v),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(n,e,t,s):n instanceof to?(function(o,l,c,f){if(!td(o.precondition,l))return c;const m=fb(o.fieldTransforms,f,l),v=l.data;return v.setAll(xE(o)),v.setAll(m),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(n,e,t,s):(function(o,l,c){return td(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(n,e,t)}function BN(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),l=IE(s.transform,o||null);l!=null&&(t===null&&(t=Fn.empty()),t.set(s.field,l))}return t||null}function db(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(t,s){return t===void 0&&s===void 0||!(!t||!s)&&da(t,s,((o,l)=>VN(o,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class cu extends Hd{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class to extends Hd{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function xE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function hb(n,e,t){const s=new Map;Je(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,f=e.data.field(l.field);s.set(l.field,qN(c,f,t[o]))}return s}function fb(n,e,t){const s=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);s.set(o.field,jN(l,c,e))}return s}class RE extends Hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GN extends Hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $N{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&zN(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=$l(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=$l(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=_E();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(o.key)?null:f;const m=OE(c,f);m!==null&&s.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(_e.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&da(this.mutations,e.mutations,((t,s)=>db(t,s)))&&da(this.baseMutations,e.baseMutations,((t,s)=>db(t,s)))}}class pm{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return DN})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new pm(e,t,s,o)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class KN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class JN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Rt,qe;function WN(n){switch(n){case re.OK:return Ee(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ee(15467,{code:n})}}function PE(n){if(n===void 0)return os("GRPC error has no .code"),re.UNKNOWN;switch(n){case Rt.OK:return re.OK;case Rt.CANCELLED:return re.CANCELLED;case Rt.UNKNOWN:return re.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return re.INTERNAL;case Rt.UNAVAILABLE:return re.UNAVAILABLE;case Rt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Rt.NOT_FOUND:return re.NOT_FOUND;case Rt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Rt.ABORTED:return re.ABORTED;case Rt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Rt.DATA_LOSS:return re.DATA_LOSS;default:return Ee(39323,{code:n})}}(qe=Rt||(Rt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function YN(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const QN=new ir([4294967295,4294967295],0);function pb(n){const e=YN().encode(n),t=new WS;return t.update(e),new Uint8Array(t.digest())}function mb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ir([t,s],0),new ir([o,l],0)]}class mm{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ql(`Invalid padding: ${t}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ql(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ir.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(ir.fromNumber(s)));return o.compare(QN)===1&&(o=new ir([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=pb(e),[s,o]=mb(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);if(!this.we(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new mm(l,o,t);return s.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=pb(e),[s,o]=mb(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zd{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new zd(_e.min(),o,new ft(Le),as(),Ue())}}class du{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new du(s,t,Ue(),Ue(),Ue())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nd{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class DE{constructor(e,t){this.targetId=e,this.Ce=t}}class ME{constructor(e,t,s=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class gb{constructor(){this.ve=0,this.Fe=vb(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),t=Ue(),s=Ue();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:l})}})),new du(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=vb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ZN{constructor(e){this.Ge=e,this.ze=new Map,this.je=as(),this.Je=Wc(),this.He=Wc(),this.Ye=new ft(Le)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(kp(l))if(s===0){const c=new be(l.path);this.et(t,c,nn.newNoDocument(c,_e.min()))}else Je(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(t);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let c,f;try{c=lr(s).toUint8Array()}catch(m){if(m instanceof oE)return ca("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new mm(c,o,l)}catch(m){return ca(m instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&kp(f.target)){const m=new be(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,nn.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let s=Ue();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const v=this.ot(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new zd(e,t,this.Ye,this.je,s);return this.je=as(),this.Je=Wc(),this.He=Wc(),this.Ye=new ft(Le),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new gb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ft(Le),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ft(Le),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Wc(){return new ft(be.comparator)}function vb(){return new ft(be.comparator)}const XN={asc:"ASCENDING",desc:"DESCENDING"},ek={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tk={and:"AND",or:"OR"};class nk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xp(n,e){return n.useProto3Json||Ld(e)?e:{value:e}}function bd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ik(n,e){return bd(n,e.toTimestamp())}function ki(n){return Je(!!n,49232),_e.fromTimestamp((function(e){const t=ar(e);return new lt(t.seconds,t.nanos)})(n))}function gm(n,e){return Rp(n,e).canonicalString()}function Rp(n,e){const t=(function(s){return new ht(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function UE(n){const e=ht.fromString(n);return Je(HE(e),10190,{key:e.toString()}),e}function Pp(n,e){return gm(n.databaseId,e.path)}function fp(n,e){const t=UE(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(jE(t))}function FE(n,e){return gm(n.databaseId,e)}function sk(n){const e=UE(n);return e.length===4?ht.emptyPath():jE(e)}function Dp(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jE(n){return Je(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function yb(n,e,t){return{name:Pp(n,e),fields:t.value.mapValue.fields}}function rk(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ee(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(m,v){return m.useProto3Json?(Je(v===void 0||typeof v=="string",58123),Zt.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Zt.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(m){const v=m.code===void 0?re.UNKNOWN:PE(m.code);return new ge(v,m.message||"")})(c);t=new ME(s,o,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=fp(n,s.document.name),l=ki(s.document.updateTime),c=s.document.createTime?ki(s.document.createTime):_e.min(),f=new Fn({mapValue:{fields:s.document.fields}}),m=nn.newFoundDocument(o,l,c,f),v=s.targetIds||[],b=s.removedTargetIds||[];t=new nd(v,b,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=fp(n,s.document),l=s.readTime?ki(s.readTime):_e.min(),c=nn.newNoDocument(o,l),f=s.removedTargetIds||[];t=new nd([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=fp(n,s.document),l=s.removedTargetIds||[];t=new nd([],l,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new JN(o,l),f=s.targetId;t=new DE(f,c)}}return t}function ok(n,e){let t;if(e instanceof cu)t={update:yb(n,e.key,e.value)};else if(e instanceof RE)t={delete:Pp(n,e.key)};else if(e instanceof to)t={update:yb(n,e.key,e.data),updateMask:mk(e.fieldMask)};else{if(!(e instanceof GN))return Ee(16599,{Vt:e.type});t={verify:Pp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(o,l){const c=l.transform;if(c instanceof vd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof nu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof iu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof yd)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ee(20930,{transform:l.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:ik(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ee(27497)})(n,e.precondition)),t}function ak(n,e){return n&&n.length>0?(Je(e!==void 0,14353),n.map((t=>(function(s,o){let l=s.updateTime?ki(s.updateTime):ki(o);return l.isEqual(_e.min())&&(l=ki(o)),new HN(l,s.transformResults||[])})(t,e)))):[]}function lk(n,e){return{documents:[FE(n,e.path)]}}function uk(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=FE(n,o);const l=(function(m){if(m.length!==0)return VE(Mi.create(m,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((v=>(function(b){return{field:Zo(b.field),direction:hk(b.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=xp(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:o}}function ck(n){let e=sk(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Je(s===1,65062);const b=t.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let l=[];t.where&&(l=(function(b){const S=qE(b);return S instanceof Mi&&gE(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(b){return b.map((S=>(function(_){return new gd(Xo(_.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(S)))})(t.orderBy));let f=null;t.limit&&(f=(function(b){let S;return S=typeof b=="object"?b.value:b,Ld(S)?null:S})(t.limit));let m=null;t.startAt&&(m=(function(b){const S=!!b.before,_=b.values||[];return new md(_,S)})(t.startAt));let v=null;return t.endAt&&(v=(function(b){const S=!b.before,_=b.values||[];return new md(_,S)})(t.endAt)),NN(e,o,c,l,f,"F",m,v)}function dk(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qE(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xo(e.unaryFilter.field);return Ut.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Xo(e.unaryFilter.field);return Ut.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xo(e.unaryFilter.field);return Ut.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Xo(e.unaryFilter.field);return Ut.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ut.create(Xo(e.fieldFilter.field),(function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Mi.create(e.compositeFilter.filters.map((t=>qE(t))),(function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(e.compositeFilter.op))})(n):Ee(30097,{filter:n})}function hk(n){return XN[n]}function fk(n){return ek[n]}function pk(n){return tk[n]}function Zo(n){return{fieldPath:n.canonicalString()}}function Xo(n){return Qt.fromServerFormat(n.fieldPath)}function VE(n){return n instanceof Ut?(function(e){if(e.op==="=="){if(rb(e.value))return{unaryFilter:{field:Zo(e.field),op:"IS_NAN"}};if(sb(e.value))return{unaryFilter:{field:Zo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(rb(e.value))return{unaryFilter:{field:Zo(e.field),op:"IS_NOT_NAN"}};if(sb(e.value))return{unaryFilter:{field:Zo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(e.field),op:fk(e.op),value:e.value}}})(n):n instanceof Mi?(function(e){const t=e.getFilters().map((s=>VE(s)));return t.length===1?t[0]:{compositeFilter:{op:pk(e.op),filters:t}}})(n):Ee(54877,{filter:n})}function mk(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function HE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zs{constructor(e,t,s,o,l=_e.min(),c=_e.min(),f=Zt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gk{constructor(e){this.yt=e}}function vk(n){const e=ck({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Op(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yk{constructor(){this.Cn=new bk}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(or.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(or.min())}updateCollectionGroup(e,t,s){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class bk{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ft(ht.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ft(ht.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zE=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(zE,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new pa(0)}static cr(){return new pa(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wb="LruGarbageCollector",wk=1048576;function Sb([n,e],[t,s]){const o=Le(n,t);return o===0?Le(e,s):o}class Sk{constructor(e){this.Ir=e,this.buffer=new Ft(Sb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Sb(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ek{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(wb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Sa(t)?de(wb,"Ignoring IndexedDB error during garbage collection: ",t):await wa(t)}await this.Vr(3e5)}))}}class Tk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(Md.ce);const s=new Sk(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(bb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,l,c,f,m,v;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,c=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,f=Date.now(),this.removeTargets(e,s,t)))).next((S=>(l=S,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(v=Date.now(),Yo()<=Me.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-b}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${S} documents in `+(v-m)+`ms
Total Duration: ${v-b}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S}))))}}function _k(n,e){return new Tk(n,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ck{constructor(){this.changes=new eo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ne.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ik{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ak{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&$l(s.mutation,o,ni.empty(),lt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Ue()){const o=$r();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let c=jl();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=$r();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Ue())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,s,o){let l=as();const c=Gl(),f=(function(){return Gl()})();return t.forEach(((m,v)=>{const b=s.get(v.key);o.has(v.key)&&(b===void 0||b.mutation instanceof to)?l=l.insert(v.key,v):b!==void 0?(c.set(v.key,b.mutation.getFieldMask()),$l(b.mutation,v,b.mutation.getFieldMask(),lt.now())):c.set(v.key,ni.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((v,b)=>c.set(v,b))),t.forEach(((v,b)=>f.set(v,new Ik(b,c.get(v)??null)))),f)))}recalculateAndSaveOverlays(e,t){const s=Gl();let o=new ft(((c,f)=>c-f)),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((m=>{const v=t.get(m);if(v===null)return;let b=s.get(m)||ni.empty();b=f.applyToLocalView(v,b),s.set(m,b);const S=(o.get(f.batchId)||Ue()).add(m);o=o.insert(f.batchId,S)}))})).next((()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),v=m.key,b=m.value,S=_E();b.forEach((_=>{if(!l.has(_)){const k=OE(t.get(_),s.get(_));k!==null&&S.set(_,k),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,v,S))}return ne.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(l){return be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):ne.resolve($r());let f=Zl,m=l;return c.next((v=>ne.forEach(v,((b,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),l.get(b)?ne.resolve():this.remoteDocumentCache.getEntry(e,b).next((_=>{m=m.insert(b,_)}))))).next((()=>this.populateOverlays(e,v,l))).next((()=>this.computeViews(e,m,v,Ue()))).next((b=>({batchId:f,changes:TE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next((s=>{let o=jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let c=jl();return this.indexManager.getCollectionParents(e,l).next((f=>ne.forEach(f,(m=>{const v=(function(b,S){return new Fd(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((b=>{b.forEach(((S,_)=>{c=c.insert(S,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((c=>{l.forEach(((m,v)=>{const b=v.getKey();c.get(b)===null&&(c=c.insert(b,nn.newInvalidDocument(b)))}));let f=jl();return c.forEach(((m,v)=>{const b=l.get(m);b!==void 0&&$l(b.mutation,v,ni.empty(),lt.now()),qd(t,v)&&(f=f.insert(m,v))})),f}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:ki(s.createTime)}})(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:vk(s.bundledQuery),readTime:ki(s.readTime)}})(t)),ne.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kk{constructor(){this.overlays=new ft(be.comparator),this.qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const s=$r();return ne.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.St(e,t,l)})),ne.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,t,s){const o=$r(),l=t.length+1,c=new be(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new ft(((v,b)=>v-b));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let b=l.get(v.largestBatchId);b===null&&(b=$r(),l=l.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const f=$r(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((v,b)=>f.set(v,b))),!(f.size()>=o)););return ne.resolve(f)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new KN(t,s));let l=this.qr.get(t);l===void 0&&(l=Ue(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ok{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vm{constructor(){this.Qr=new Ft(Ht.$r),this.Ur=new Ft(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Ht(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Ht(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new be(new ht([])),s=new Ht(t,e),o=new Ht(t,e+1),l=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new be(new ht([])),s=new Ht(t,e),o=new Ht(t,e+1);let l=Ue();return this.Ur.forEachInRange([s,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Ht(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return be.comparator(e.key,t.key)||Le(e.Yr,t.Yr)}static Kr(e,t){return Le(e.Yr,t.Yr)||be.comparator(e.key,t.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Ht.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new $N(l,t,s,o);this.mutationQueue.push(c);for(const f of o)this.Zr=this.Zr.add(new Ht(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),l=o<0?0:o;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?am:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(c=>{const f=this.Xr(c.Yr);l.push(f)})),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ft(Le);return t.forEach((o=>{const l=new Ht(o,0),c=new Ht(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{s=s.add(f.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;be.isDocumentKey(l)||(l=l.child(""));const c=new Ht(new be(l),0);let f=new Ft(Le);return this.Zr.forEachWhile((m=>{const v=m.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(f=f.add(m.Yr)),!0)}),c),ne.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Je(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(t.mutations,(o=>{const l=new Ht(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Ht(t,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rk{constructor(e){this.ri=e,this.docs=(function(){return new ft(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ne.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let s=as();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():nn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=as();const c=t.path,f=new be(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:v,value:{document:b}}=m.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||oN(rN(b),s)<=0||(o.has(b.key)||qd(t,b))&&(l=l.insert(b.key,b.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ee(9500)}ii(e,t){return ne.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new Pk(this)}getSize(e){return ne.resolve(this.size)}}class Pk extends Ck{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dk{constructor(e){this.persistence=e,this.si=new eo((t=>cm(t)),dm),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.oi=0,this._i=new vm,this.targetCount=0,this.ai=pa.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ne.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new pa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Pr(t),ne.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),ne.waitFor(l).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ne.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ne.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ne.resolve(s)}containsKey(e,t){return ne.resolve(this._i.containsKey(t))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class BE{constructor(e,t){this.ui={},this.overlays={},this.ci=new Md(0),this.li=!1,this.li=!0,this.hi=new Ok,this.referenceDelegate=e(this),this.Pi=new Dk(this),this.indexManager=new yk,this.remoteDocumentCache=(function(s){return new Rk(s)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new gk(t),this.Ii=new Nk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new xk(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){de("MemoryPersistence","Starting transaction:",e);const o=new Mk(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class Mk extends lN{constructor(e){super(),this.currentSequenceNumber=e}}class ym{constructor(e){this.persistence=e,this.Ri=new vm,this.Vi=null}static mi(e){return new ym(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=be.fromPath(s);return this.gi(e,o).next((l=>{l||t.removeEntry(o,_e.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ne.or([()=>ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class wd{constructor(e,t){this.persistence=e,this.pi=new eo((s=>dN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=_k(this,t)}static mi(e,t){return new wd(e,t)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((l=>l?ne.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((f=>{f||(s++,l.removeEntry(c,_e.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xc(e.data.value)),t}br(e,t,s){return ne.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bm{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Ue(),o=Ue();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new bm(e,t.fromCache,s,o)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Uk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return NA()?8:uN(rn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,o,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Lk;return this.Ss(e,t,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>l.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(Yo()<=Me.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Yo()<=Me.DEBUG&&de("QueryEngine","Query:",Qo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Yo()<=Me.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(t))):ne.resolve())}ys(e,t){if(ub(t))return ne.resolve(null);let s=Ni(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Op(t,null,"F"),s=Ni(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Ue(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const v=this.Ds(t,f);return this.Cs(t,v,c,m.readTime)?this.ys(e,Op(t,null,"F")):this.vs(e,v,t,m)}))))})))))}ws(e,t,s,o){return ub(t)||o.isEqual(_e.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,s,o)?ne.resolve(null):(Yo()<=Me.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qo(t)),this.vs(e,c,t,sN(o,Zl)).next((f=>f)))}))}Ds(e,t){let s=new Ft(SE(e));return t.forEach(((o,l)=>{qd(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,s){return Yo()<=Me.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Qo(t)),this.ps.getDocumentsMatchingQuery(e,t,or.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wm="LocalStore",Fk=3e8;class jk{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ft(Le),this.xs=new eo((l=>cm(l)),dm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ak(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function qk(n,e,t,s){return new jk(n,e,t,s)}async function GE(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],f=[];let m=Ue();for(const v of o){c.push(v.batchId);for(const b of v.mutations)m=m.add(b.key)}for(const v of l){f.push(v.batchId);for(const b of v.mutations)m=m.add(b.key)}return t.localDocuments.getDocuments(s,m).next((v=>({Ls:v,removedBatchIds:c,addedBatchIds:f})))}))}))}function Vk(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,m,v){const b=m.batch,S=b.keys();let _=ne.resolve();return S.forEach((k=>{_=_.next((()=>v.getEntry(f,k))).next((H=>{const L=m.docVersions.get(k);Je(L!==null,48541),H.version.compareTo(L)<0&&(b.applyToRemoteDocument(H,m),H.isValidDocument()&&(H.setReadTime(m.commitVersion),v.addEntry(H)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(f,b)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(c){let f=Ue();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(f=f.add(c.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function $E(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Hk(n,e){const t=Ie(n),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((b,S)=>{const _=o.get(S);if(!_)return;f.push(t.Pi.removeMatchingKeys(l,b.removedDocuments,S).next((()=>t.Pi.addMatchingKeys(l,b.addedDocuments,S))));let k=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?k=k.withResumeToken(Zt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):b.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(b.resumeToken,s)),o=o.insert(S,k),(function(H,L,V){return H.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=Fk?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(_,k,b)&&f.push(t.Pi.updateTargetData(l,k))}));let m=as(),v=Ue();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,b))})),f.push(zk(l,c,e.documentUpdates).next((b=>{m=b.ks,v=b.qs}))),!s.isEqual(_e.min())){const b=t.Pi.getLastRemoteSnapshotVersion(l).next((S=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(b)}return ne.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,v))).next((()=>m))})).then((l=>(t.Ms=o,l)))}function zk(n,e,t){let s=Ue(),o=Ue();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let c=as();return t.forEach(((f,m)=>{const v=l.get(f);m.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),m.isNoDocument()&&m.version.isEqual(_e.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):de(wm,"Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)})),{ks:c,qs:o}}))}function Bk(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=am),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Gk(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((l=>l?(o=l,ne.resolve(o)):t.Pi.allocateTargetId(s).next((c=>(o=new Zs(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Mp(n,e,t){const s=Ie(n),o=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Sa(c))throw c;de(wm,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Eb(n,e,t){const s=Ie(n);let o=_e.min(),l=Ue();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,v){const b=Ie(f),S=b.xs.get(v);return S!==void 0?ne.resolve(b.Ms.get(S)):b.Pi.getTargetData(m,v)})(s,c,Ni(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?o:_e.min(),t?l:Ue()))).next((f=>($k(s,xN(e),f),{documents:f,Qs:l})))))}function $k(n,e,t){let s=n.Os.get(e)||_e.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Os.set(e,s)}class Tb{constructor(){this.activeTargetIds=UN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kk{constructor(){this.Mo=new Tb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Tb,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jk{Oo(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _b="ConnectivityMonitor";class Cb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(_b,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(_b,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Yc=null;function Lp(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pp="RestConnection",Wk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Yk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===fd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,l){const c=Lp(),f=this.zo(e,t.toUriEncodedString());de(pp,`Sending RPC '${e}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,l);const{host:v}=new URL(f),b=va(v);return this.Jo(e,f,m,s,b).then((S=>(de(pp,`Received RPC '${e}' ${c}: `,S),S)),(S=>{throw ca(pp,`RPC '${e}' ${c} failed with error: `,S,"url: ",f,"request:",s),S}))}Ho(e,t,s,o,l,c){return this.Go(e,t,s,o,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ba})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const s=Wk[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const en="WebChannelConnection";class Zk extends Yk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const c=Lp();return new Promise(((f,m)=>{const v=new YS;v.setWithCredentials(!0),v.listenOnce(QS.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Zc.NO_ERROR:const S=v.getResponseJson();de(en,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(S)),f(S);break;case Zc.TIMEOUT:de(en,`RPC '${e}' ${c} timed out`),m(new ge(re.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const _=v.getStatus();if(de(en,`RPC '${e}' ${c} failed with status:`,_,"response text:",v.getResponseText()),_>0){let k=v.getResponseJson();Array.isArray(k)&&(k=k[0]);const H=k==null?void 0:k.error;if(H&&H.status&&H.message){const L=(function(V){const K=V.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(K)>=0?K:re.UNKNOWN})(H.status);m(new ge(L,H.message))}else m(new ge(re.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new ge(re.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:c,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{de(en,`RPC '${e}' ${c} completed.`)}}));const b=JSON.stringify(o);de(en,`RPC '${e}' ${c} sending request:`,o),v.send(t,"POST",b,s,15)}))}T_(e,t,s){const o=Lp(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=eE(),f=XS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const b=l.join("");de(en,`Creating RPC '${e}' stream ${o}: ${b}`,m);const S=c.createWebChannel(b,m);this.I_(S);let _=!1,k=!1;const H=new Qk({Yo:V=>{k?de(en,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(_||(de(en,`Opening RPC '${e}' stream ${o} transport.`),S.open(),_=!0),de(en,`RPC '${e}' stream ${o} sending:`,V),S.send(V))},Zo:()=>S.close()}),L=(V,K,X)=>{V.listen(K,(se=>{try{X(se)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return L(S,Fl.EventType.OPEN,(()=>{k||(de(en,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),L(S,Fl.EventType.CLOSE,(()=>{k||(k=!0,de(en,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(S))})),L(S,Fl.EventType.ERROR,(V=>{k||(k=!0,ca(en,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),H.a_(new ge(re.UNAVAILABLE,"The operation could not be completed")))})),L(S,Fl.EventType.MESSAGE,(V=>{var K;if(!k){const X=V.data[0];Je(!!X,16349);const se=X,oe=(se==null?void 0:se.error)||((K=se[0])==null?void 0:K.error);if(oe){de(en,`RPC '${e}' stream ${o} received error:`,oe);const pe=oe.status;let ie=(function(A){const N=Rt[A];if(N!==void 0)return PE(N)})(pe),O=oe.message;ie===void 0&&(ie=re.INTERNAL,O="Unknown error status: "+pe+" with message "+oe.message),k=!0,H.a_(new ge(ie,O)),S.close()}else de(en,`RPC '${e}' stream ${o} received:`,X),H.u_(X)}})),L(f,ZS.STAT_EVENT,(V=>{V.stat===_p.PROXY?de(en,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===_p.NOPROXY&&de(en,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function mp(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Bd(n){return new nk(n,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class KE{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ib="PersistentStream";class JE{constructor(e,t,s,o,l,c,f,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(os(t.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new ge(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(Ib,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(Ib,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Xk extends JE{constructor(e,t,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=rk(this.serializer,e),s=(function(o){if(!("targetChange"in o))return _e.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?_e.min():l.readTime?ki(l.readTime):_e.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Dp(this.serializer),t.addTarget=(function(o,l){let c;const f=l.target;if(c=kp(f)?{documents:lk(o,f)}:{query:uk(o,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=LE(o,l.resumeToken);const m=xp(o,l.expectedCount);m!==null&&(c.expectedCount=m)}else if(l.snapshotVersion.compareTo(_e.min())>0){c.readTime=bd(o,l.snapshotVersion.toTimestamp());const m=xp(o,l.expectedCount);m!==null&&(c.expectedCount=m)}return c})(this.serializer,e);const s=dk(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Dp(this.serializer),t.removeTarget=e,this.q_(t)}}class eO extends JE{constructor(e,t,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=ak(e.writeResults,e.commitTime),s=ki(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Dp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>ok(this.serializer,s)))};this.q_(t)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tO{}class nO extends tO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Rp(t,s),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(re.UNKNOWN,l.toString())}))}Ho(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,Rp(t,s),o,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(re.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(os(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Qr="RemoteStore";class sO{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{no(this)&&(de(Qr,"Restarting streams for network reachability change."),await(async function(f){const m=Ie(f);m.Ea.add(4),await hu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Gd(m)})(this))}))})),this.Ra=new iO(s,o)}}async function Gd(n){if(no(n))for(const e of n.da)await e(!0)}async function hu(n){for(const e of n.da)await e(!1)}function WE(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),_m(t)?Tm(t):Ea(t).O_()&&Em(t,e))}function Sm(n,e){const t=Ie(n),s=Ea(t);t.Ia.delete(e),s.O_()&&YE(t,e),t.Ia.size===0&&(s.O_()?s.L_():no(t)&&t.Ra.set("Unknown"))}function Em(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ea(n).Y_(e)}function YE(n,e){n.Va.Ue(e),Ea(n).Z_(e)}function Tm(n){n.Va=new ZN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ea(n).start(),n.Ra.ua()}function _m(n){return no(n)&&!Ea(n).x_()&&n.Ia.size>0}function no(n){return Ie(n).Ea.size===0}function QE(n){n.Va=void 0}async function rO(n){n.Ra.set("Online")}async function oO(n){n.Ia.forEach(((e,t)=>{Em(n,e)}))}async function aO(n,e){QE(n),_m(n)?(n.Ra.ha(e),Tm(n)):n.Ra.set("Unknown")}async function lO(n,e,t){if(n.Ra.set("Online"),e instanceof ME&&e.state===2&&e.cause)try{await(async function(s,o){const l=o.cause;for(const c of o.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))})(n,e)}catch(s){de(Qr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sd(n,s)}else if(e instanceof nd?n.Va.Ze(e):e instanceof DE?n.Va.st(e):n.Va.tt(e),!t.isEqual(_e.min()))try{const s=await $E(n.localStore);t.compareTo(s)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.Ia.get(m);v&&o.Ia.set(m,v.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,m)=>{const v=o.Ia.get(f);if(!v)return;o.Ia.set(f,v.withResumeToken(Zt.EMPTY_BYTE_STRING,v.snapshotVersion)),YE(o,f);const b=new Zs(v.target,f,m,v.sequenceNumber);Em(o,b)})),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(s){de(Qr,"Failed to raise snapshot:",s),await Sd(n,s)}}async function Sd(n,e,t){if(!Sa(e))throw e;n.Ea.add(1),await hu(n),n.Ra.set("Offline"),t||(t=()=>$E(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(Qr,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Gd(n)}))}function ZE(n,e){return e().catch((t=>Sd(n,t,e)))}async function $d(n){const e=Ie(n),t=cr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:am;for(;uO(e);)try{const o=await Bk(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,cO(e,o)}catch(o){await Sd(e,o)}XE(e)&&eT(e)}function uO(n){return no(n)&&n.Ta.length<10}function cO(n,e){n.Ta.push(e);const t=cr(n);t.O_()&&t.X_&&t.ea(e.mutations)}function XE(n){return no(n)&&!cr(n).x_()&&n.Ta.length>0}function eT(n){cr(n).start()}async function dO(n){cr(n).ra()}async function hO(n){const e=cr(n);for(const t of n.Ta)e.ea(t.mutations)}async function fO(n,e,t){const s=n.Ta.shift(),o=pm.from(s,e,t);await ZE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await $d(n)}async function pO(n,e){e&&cr(n).X_&&await(async function(t,s){if((function(o){return WN(o)&&o!==re.ABORTED})(s.code)){const o=t.Ta.shift();cr(t).B_(),await ZE(t,(()=>t.remoteSyncer.rejectFailedWrite(o.batchId,s))),await $d(t)}})(n,e),XE(n)&&eT(n)}async function Ab(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),de(Qr,"RemoteStore received new credentials");const s=no(t);t.Ea.add(3),await hu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Gd(t)}async function mO(n,e){const t=Ie(n);e?(t.Ea.delete(2),await Gd(t)):e||(t.Ea.add(2),await hu(t),t.Ra.set("Unknown"))}function Ea(n){return n.ma||(n.ma=(function(e,t,s){const o=Ie(e);return o.sa(),new Xk(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:rO.bind(null,n),t_:oO.bind(null,n),r_:aO.bind(null,n),H_:lO.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),_m(n)?Tm(n):n.Ra.set("Unknown")):(await n.ma.stop(),QE(n))}))),n.ma}function cr(n){return n.fa||(n.fa=(function(e,t,s){const o=Ie(e);return o.sa(),new eO(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:dO.bind(null,n),r_:pO.bind(null,n),ta:hO.bind(null,n),na:fO.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await $d(n)):(await n.fa.stop(),n.Ta.length>0&&(de(Qr,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cm{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const c=Date.now()+s,f=new Cm(e,t,c,o,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Im(n,e){if(os("AsyncQueue",`${e}: ${n}`),Sa(n))return new ge(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class na{static emptySet(e){return new na(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||be.comparator(t.key,s.key):(t,s)=>be.comparator(t.key,s.key),this.keyedMap=jl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new na;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nb{constructor(){this.ga=new ft(be.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class ma{constructor(e,t,s,o,l,c,f,m,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new ma(e,t,na.emptySet(t),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vO{constructor(){this.queries=kb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,t){const s=Ie(e),o=s.queries;s.queries=kb(),o.forEach(((l,c)=>{for(const f of c.Sa)f.onError(t)}))})(this,new ge(re.ABORTED,"Firestore shutting down"))}}function kb(){return new eo((n=>wE(n)),jd)}async function yO(n,e){const t=Ie(n);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new gO,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=Im(c,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Am(t)}async function bO(n,e){const t=Ie(n),s=e.query;let o=3;const l=t.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function wO(n,e){const t=Ie(n);let s=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(o)&&(s=!0);c.wa=o}}s&&Am(t)}function SO(n,e,t){const s=Ie(n),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);s.queries.delete(e)}function Am(n){n.Ca.forEach((e=>{e.next()}))}var Up,Ob;(Ob=Up||(Up={})).Ma="default",Ob.Cache="cache";class EO{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ma(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Up.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tT{constructor(e){this.key=e}}class nT{constructor(e){this.key=e}}class TO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=SE(e),this.tu=new na(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Nb,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,S)=>{const _=o.get(b),k=qd(this.query,S)?S:null,H=!!_&&this.mutatedKeys.has(_.key),L=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let V=!1;_&&k?_.data.isEqual(k.data)?H!==L&&(s.track({type:3,doc:k}),V=!0):this.su(_,k)||(s.track({type:2,doc:k}),V=!0,(m&&this.eu(k,m)>0||v&&this.eu(k,v)<0)&&(f=!0)):!_&&k?(s.track({type:0,doc:k}),V=!0):_&&!k&&(s.track({type:1,doc:_}),V=!0,(m||v)&&(f=!0)),V&&(k?(c=c.add(k),l=L?l.add(b):l.delete(b)):(c=c.delete(b),l=l.delete(b)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const b=this.query.limitType==="F"?c.last():c.first();c=c.delete(b.key),l=l.delete(b.key),s.track({type:1,doc:b})}return{tu:c,iu:s,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((b,S)=>(function(_,k){const H=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:L})}};return H(_)-H(k)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(s),o=o??!1;const f=t&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,v=m!==this.Za;return this.Za=m,c.length!==0||v?{snapshot:new ma(this.query,e.tu,l,c,e.mutatedKeys,m===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Nb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new nT(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new tT(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ue();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ma.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Nm="SyncEngine";class _O{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class CO{constructor(e){this.key=e,this.hu=!1}}class IO{constructor(e,t,s,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new eo((f=>wE(f)),jd),this.Iu=new Map,this.Eu=new Set,this.du=new ft(be.comparator),this.Au=new Map,this.Ru=new vm,this.Vu={},this.mu=new Map,this.fu=pa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AO(n,e,t=!0){const s=lT(n);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await iT(s,e,t,!0),o}async function NO(n,e){const t=lT(n);await iT(t,e,!0,!1)}async function iT(n,e,t,s){const o=await Gk(n.localStore,Ni(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await kO(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&WE(n.remoteStore,o),f}async function kO(n,e,t,s,o){n.pu=(S,_,k)=>(async function(H,L,V,K){let X=L.view.ru(V);X.Cs&&(X=await Eb(H.localStore,L.query,!1).then((({documents:ie})=>L.view.ru(ie,X))));const se=K&&K.targetChanges.get(L.targetId),oe=K&&K.targetMismatches.get(L.targetId)!=null,pe=L.view.applyChanges(X,H.isPrimaryClient,se,oe);return Rb(H,L.targetId,pe.au),pe.snapshot})(n,S,_,k);const l=await Eb(n.localStore,e,!0),c=new TO(e,l.Qs),f=c.ru(l.documents),m=du.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),v=c.applyChanges(f,n.isPrimaryClient,m);Rb(n,t,v.au);const b=new _O(e,t,c);return n.Tu.set(e,b),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),v.snapshot}async function OO(n,e,t){const s=Ie(n),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((c=>!jd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Mp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Sm(s.remoteStore,o.targetId),Fp(s,o.targetId)})).catch(wa)):(Fp(s,o.targetId),await Mp(s.localStore,o.targetId,!0))}async function xO(n,e){const t=Ie(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Sm(t.remoteStore,s.targetId))}async function RO(n,e,t){const s=jO(n);try{const o=await(function(l,c){const f=Ie(l),m=lt.now(),v=c.reduce(((_,k)=>_.add(k.key)),Ue());let b,S;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let k=as(),H=Ue();return f.Ns.getEntries(_,v).next((L=>{k=L,k.forEach(((V,K)=>{K.isValidDocument()||(H=H.add(V))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,k))).next((L=>{b=L;const V=[];for(const K of c){const X=BN(K,b.get(K.key).overlayedDocument);X!=null&&V.push(new to(K.key,X,fE(X.value.mapValue),ss.exists(!0)))}return f.mutationQueue.addMutationBatch(_,m,V,c)})).next((L=>{S=L;const V=L.applyToLocalDocumentSet(b,H);return f.documentOverlayCache.saveOverlays(_,L.batchId,V)}))})).then((()=>({batchId:S.batchId,changes:TE(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(l,c,f){let m=l.Vu[l.currentUser.toKey()];m||(m=new ft(Le)),m=m.insert(c,f),l.Vu[l.currentUser.toKey()]=m})(s,o.batchId,t),await fu(s,o.changes),await $d(s.remoteStore)}catch(o){const l=Im(o,"Failed to persist write");t.reject(l)}}async function sT(n,e){const t=Ie(n);try{const s=await Hk(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Au.get(l);c&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Je(c.hu,14607):o.removedDocuments.size>0&&(Je(c.hu,42227),c.hu=!1))})),await fu(t,s,e)}catch(s){await wa(s)}}function xb(n,e,t){const s=Ie(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(l,c){const f=Ie(l);f.onlineState=c;let m=!1;f.queries.forEach(((v,b)=>{for(const S of b.Sa)S.va(c)&&(m=!0)})),m&&Am(f)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function PO(n,e,t){const s=Ie(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let c=new ft(be.comparator);c=c.insert(l,nn.newNoDocument(l,_e.min()));const f=Ue().add(l),m=new zd(_e.min(),new Map,new ft(Le),c,f);await sT(s,m),s.du=s.du.remove(l),s.Au.delete(e),km(s)}else await Mp(s.localStore,e,!1).then((()=>Fp(s,e,t))).catch(wa)}async function DO(n,e){const t=Ie(n),s=e.batch.batchId;try{const o=await Vk(t.localStore,e);oT(t,s,null),rT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await fu(t,o)}catch(o){await wa(o)}}async function MO(n,e,t){const s=Ie(n);try{const o=await(function(l,c){const f=Ie(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return f.mutationQueue.lookupMutationBatch(m,c).next((b=>(Je(b!==null,37113),v=b.keys(),f.mutationQueue.removeMutationBatch(m,b)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>f.localDocuments.getDocuments(m,v)))}))})(s.localStore,e);oT(s,e,t),rT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await fu(s,o)}catch(o){await wa(o)}}function rT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function oT(n,e,t){const s=Ie(n);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Fp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||aT(n,s)}))}function aT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Sm(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),km(n))}function Rb(n,e,t){for(const s of t)s instanceof tT?(n.Ru.addReference(s.key,e),LO(n,s)):s instanceof nT?(de(Nm,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||aT(n,s.key)):Ee(19791,{wu:s})}function LO(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(de(Nm,"New document in limbo: "+t),n.Eu.add(s),km(n))}function km(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new be(ht.fromString(e)),s=n.fu.next();n.Au.set(s,new CO(t)),n.du=n.du.insert(t,s),WE(n.remoteStore,new Zs(Ni(hm(t.path)),s,"TargetPurposeLimboResolution",Md.ce))}}async function fu(n,e,t){const s=Ie(n),o=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{c.push(s.pu(m,e,t).then((v=>{var b;if((v||t)&&s.isPrimaryClient){const S=v?!v.fromCache:(b=t==null?void 0:t.targetChanges.get(m.targetId))==null?void 0:b.current;s.sharedClientState.updateQueryState(m.targetId,S?"current":"not-current")}if(v){o.push(v);const S=bm.As(m.targetId,v);l.push(S)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(f,m){const v=Ie(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ne.forEach(m,(S=>ne.forEach(S.Es,(_=>v.persistence.referenceDelegate.addReference(b,S.targetId,_))).next((()=>ne.forEach(S.ds,(_=>v.persistence.referenceDelegate.removeReference(b,S.targetId,_)))))))))}catch(b){if(!Sa(b))throw b;de(wm,"Failed to update sequence numbers: "+b)}for(const b of m){const S=b.targetId;if(!b.fromCache){const _=v.Ms.get(S),k=_.snapshotVersion,H=_.withLastLimboFreeSnapshotVersion(k);v.Ms=v.Ms.insert(S,H)}}})(s.localStore,l))}async function UO(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){de(Nm,"User change. New user:",e.toKey());const s=await GE(t.localStore,e);t.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((f=>{f.reject(new ge(re.CANCELLED,l))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fu(t,s.Ls)}}function FO(n,e){const t=Ie(n),s=t.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const f=t.Tu.get(c);o=o.unionWith(f.view.nu)}return o}}function lT(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=sT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PO.bind(null,e),e.Pu.H_=wO.bind(null,e.eventManager),e.Pu.yu=SO.bind(null,e.eventManager),e}function jO(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MO.bind(null,e),e}class Ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return qk(this.persistence,new Uk,e.initialUser,this.serializer)}Cu(e){return new BE(ym.mi,this.serializer)}Du(e){return new Kk}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ed.provider={build:()=>new Ed};class qO extends Ed{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Je(this.persistence.referenceDelegate instanceof wd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ek(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new BE((s=>wd.mi(s,t)),this.serializer)}}class jp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>xb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UO.bind(null,this.syncEngine),await mO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vO})()}createDatastore(e){const t=Bd(e.databaseInfo.databaseId),s=(function(o){return new Zk(o)})(e.databaseInfo);return(function(o,l,c,f){return new nO(o,l,c,f)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(t,s,o,l,c){return new sO(t,s,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>xb(this.syncEngine,t,0)),(function(){return Cb.v()?new Cb:new Jk})())}createSyncEngine(e,t){return(function(s,o,l,c,f,m,v){const b=new IO(s,o,l,c,f,m);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const o=Ie(s);de(Qr,"RemoteStore shutting down."),o.Ea.add(5),await hu(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}jp.provider={build:()=>new jp};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dr="FirestoreClient";class HO{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{de(dr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(de(dr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Im(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function gp(n,e){n.asyncQueue.verifyOperationInProgress(),de(dr,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await GE(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Pb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await zO(n);de(dr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>Ab(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>Ab(e.remoteStore,o))),n._onlineComponents=e}async function zO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(dr,"Using user provided OfflineComponentProvider");try{await gp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;ca("Error using user provided cache. Falling back to memory cache: "+t),await gp(n,new Ed)}}else de(dr,"Using default OfflineComponentProvider"),await gp(n,new qO(void 0));return n._offlineComponents}async function uT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(dr,"Using user provided OnlineComponentProvider"),await Pb(n,n._uninitializedComponentsProvider._online)):(de(dr,"Using default OnlineComponentProvider"),await Pb(n,new jp))),n._onlineComponents}function BO(n){return uT(n).then((e=>e.syncEngine))}async function GO(n){const e=await uT(n),t=e.eventManager;return t.onListen=AO.bind(null,e.syncEngine),t.onUnlisten=OO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=NO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=xO.bind(null,e.syncEngine),t}function $O(n,e,t={}){const s=new sr;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,f,m){const v=new VO({next:S=>{v.Nu(),l.enqueueAndForget((()=>bO(o,b)));const _=S.docs.has(c);!_&&S.fromCache?m.reject(new ge(re.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&S.fromCache&&f&&f.source==="server"?m.reject(new ge(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(S)},error:S=>m.reject(S)}),b=new EO(hm(c.path),v,{includeMetadataChanges:!0,qa:!0});return yO(o,b)})(await GO(n),n.asyncQueue,e,t,s))),s.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function cT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Db=new Map;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dT="firestore.googleapis.com",Mb=!0;class Lb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dT,this.ssl=Mb}else this.host=e.host,this.ssl=e.ssl??Mb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wk)throw new ge(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cT(e.experimentalLongPollingOptions??{}),(function(t){if(t.timeoutSeconds!==void 0){if(isNaN(t.timeoutSeconds))throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<5)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is 5)`);if(t.timeoutSeconds>30)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(t,s){return t.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Om{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(t){if(!t)return new $1;switch(t.type){case"firstParty":return new Y1(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ge(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const t=Db.get(e);t&&(de("ComponentProvider","Removing Datastore"),Db.delete(e),t.terminate())})(this),Promise.resolve()}}function KO(n,e,t,s={}){var o;n=Ql(n,Om);const l=va(e),c=n._getSettings(),f={...c,emulatorOptions:n._getEmulatorOptions()},m=`${e}:${t}`;l&&(VS(`https://${m}`),HS("Firestore",!0)),c.host!==dT&&c.host!==m&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:m,ssl:l,emulatorOptions:s};if(!Jr(v,f)&&(n._setSettings(v),s.mockUserToken)){let b,S;if(typeof s.mockUserToken=="string")b=s.mockUserToken,S=tn.MOCK_USER;else{b=bA(s.mockUserToken,(o=n._app)==null?void 0:o.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ge(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new tn(_)}n._authCredentials=new K1(new nE(b,S))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xm{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xm(this.firestore,e,this._query)}}class zt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new su(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(uu(t,zt._jsonSchema))return new zt(e,s||null,new be(ht.fromString(t.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Pt("string",zt._jsonSchemaVersion),referencePath:Pt("string")};class su extends xm{constructor(e,t,s){super(e,t,hm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new be(e))}withConverter(e){return new su(this.firestore,e,this._path)}}function Kd(n,e,...t){if(n=Vn(n),arguments.length===1&&(e=rm.newId()),nN("doc","path",e),n instanceof Om){const s=ht.fromString(e,...t);return Y0(s),new zt(n,null,new be(s))}{if(!(n instanceof zt||n instanceof su))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ht.fromString(e,...t));return Y0(s),new zt(n.firestore,n instanceof su?n.converter:null,new be(s))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ub="AsyncQueue";class Fb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KE(this,"async_queue_retry"),this._c=()=>{const s=mp();s&&de(Ub,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=mp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=mp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new sr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Sa(e))throw e;de(Ub,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,os("INTERNAL UNHANDLED ERROR: ",jb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Cm.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:jb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function jb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Rm extends Om{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Fb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fb(e),this._firestoreClient=void 0,await e}}}function JO(n,e){const t=typeof n=="object"?n:$S(),s=typeof n=="string"?n:fd,o=im(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=vA("firestore");l&&KO(o,...l)}return o}function hT(n){if(n._terminated)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||WO(n),n._firestoreClient}function WO(n){var e,t,s;const o=n._freezeSettings(),l=(function(c,f,m,v){return new pN(c,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,cT(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(n._databaseId,((e=n._app)==null?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||(t=o.localCache)!=null&&t._offlineComponentProvider&&(s=o.localCache)!=null&&s._onlineComponentProvider&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new HO(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(n._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Zt.fromBase64String(e))}catch(t){throw new ge(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uu(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Pt("string",jn._jsonSchemaVersion),bytes:Pt("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fT{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Oi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(uu(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Pt("string",Oi._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(t,s){if(t.length!==s.length)return!1;for(let o=0;o<t.length;++o)if(t[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uu(e,xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new xi(e.vectorValues);throw new ge(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:Pt("string",xi._jsonSchemaVersion),vectorValues:Pt("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const YO=/^__.*__$/;class QO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new to(e,this.data,this.fieldMask,t,this.fieldTransforms):new cu(e,this.data,t,this.fieldTransforms)}}function pT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:n})}}class Dm{constructor(e,t,s,o,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Dm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const s=(t=this.path)==null?void 0:t.child(e),o=this.Vc({path:s,fc:!1});return o.gc(e),o}yc(e){var t;const s=(t=this.path)==null?void 0:t.child(e),o=this.Vc({path:s,fc:!1});return o.Rc(),o}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Td(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(pT(this.Ac)&&YO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Bd(e)}Cc(e,t,s,o=!1){return new Dm({Ac:e,methodName:t,Dc:s,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XO(n){const e=n._freezeSettings(),t=Bd(n._databaseId);return new ZO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ex(n,e,t,s,o,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);yT("Data must be an object, but it was:",c,s);const f=gT(s,c);let m,v;if(l.merge)m=new ni(c.fieldMask),v=c.fieldTransforms;else if(l.mergeFields){const b=[];for(const S of l.mergeFields){const _=tx(e,S,t);if(!c.contains(_))throw new ge(re.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);ix(b,_)||b.push(_)}m=new ni(b),v=c.fieldTransforms.filter((S=>m.covers(S.field)))}else m=null,v=c.fieldTransforms;return new QO(new Fn(f),m,v)}function mT(n,e){if(vT(n=Vn(n)))return yT("Unsupported field value:",e,n),gT(n,e);if(n instanceof fT)return(function(t,s){if(!pT(s.Ac))throw s.Sc(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(t,s){const o=[];let l=0;for(const c of t){let f=mT(c,s.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}})(n,e)}return(function(t,s){if((t=Vn(t))===null)return{nullValue:"NULL_VALUE"};if(typeof t=="number")return FN(s.serializer,t);if(typeof t=="boolean")return{booleanValue:t};if(typeof t=="string")return{stringValue:t};if(t instanceof Date){const o=lt.fromDate(t);return{timestampValue:bd(s.serializer,o)}}if(t instanceof lt){const o=new lt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:bd(s.serializer,o)}}if(t instanceof Oi)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jn)return{bytesValue:LE(s.serializer,t._byteString)};if(t instanceof zt){const o=s.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gm(t.firestore._databaseId||s.databaseId,t._key.path)}}if(t instanceof xi)return(function(o,l){return{mapValue:{fields:{[dE]:{stringValue:hE},[pd]:{arrayValue:{values:o.toArray().map((c=>{if(typeof c!="number")throw l.Sc("VectorValues must only contain numeric values.");return fm(l.serializer,c)}))}}}}}})(t,s);throw s.Sc(`Unsupported field value: ${om(t)}`)})(n,e)}function gT(n,e){const t={};return rE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xr(n,((s,o)=>{const l=mT(o,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function vT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof lt||n instanceof Oi||n instanceof jn||n instanceof zt||n instanceof fT||n instanceof xi)}function yT(n,e,t){if(!vT(t)||!iE(t)){const s=om(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function tx(n,e,t){if((e=Vn(e))instanceof Pm)return e._internalPath;if(typeof e=="string")return bT(n,e);throw Td("Field path arguments must be of type string or ",n,!1,void 0,t)}const nx=new RegExp("[~\\*/\\[\\]]");function bT(n,e,t){if(e.search(nx)>=0)throw Td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pm(...e.split("."))._internalPath}catch{throw Td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Td(n,e,t,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${o}`),m+=")"),new ge(re.INVALID_ARGUMENT,f+n+m)}function ix(n,e){return n.some((t=>t.isEqual(e)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wT{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ST("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class sx extends wT{data(){return super.data()}}function ST(n,e){return typeof e=="string"?bT(n,e):e instanceof Pm?e._internalPath:e._delegate._internalPath}class rx{convertValue(e,t="none"){switch(ur(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Xr(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)==null?void 0:t[pd].arrayValue)==null?void 0:s.values)==null?void 0:o.map((c=>St(c.doubleValue)));return new xi(l)}convertGeoPoint(e){return new Oi(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Ud(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const t=ar(e);return new lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ht.fromString(e);Je(HE(s),9688,{name:e});const o=new eu(s.get(1),s.get(3)),l=new be(s.popFirst(5));return o.isEqual(t)||os(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ox(n,e,t){let s;return s=n?n.toFirestore(e):e,s}class Vl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kr extends wT{constructor(e,t,s,o,l,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(ST("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Kr._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()||(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),t}}Kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kr._jsonSchema={type:Pt("string",Kr._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class id extends Kr{data(e={}){return super.data(e)}}class Kl{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Vl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new id(this._firestore,this._userDataWriter,s.key,s,new Vl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((c=>{const f=new id(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Vl(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const f=new id(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Vl(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,v=-1;return c.type!==0&&(m=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),v=l.indexOf(c.doc.key)),{type:ax(c.type),doc:f,oldIndex:m,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ax(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ET(n){n=Ql(n,zt);const e=Ql(n.firestore,Rm);return $O(hT(e),n._key).then((t=>cx(e,n,t)))}Kl._jsonSchemaVersion="firestore/querySnapshot/1.0",Kl._jsonSchema={type:Pt("string",Kl._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class lx extends rx{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,t)}}function TT(n,e,t){n=Ql(n,zt);const s=Ql(n.firestore,Rm),o=ox(n.converter,e);return ux(s,[ex(XO(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,ss.none())])}function ux(n,e){return(function(t,s){const o=new sr;return t.asyncQueue.enqueueAndForget((async()=>RO(await BO(t),s,o))),o.promise})(hT(n),e)}function cx(n,e,t){const s=t.docs.get(e._key),o=new lx(n);return new Kr(n,o,e._key,s,new Vl(t.hasPendingWrites,t.fromCache),e.converter)}(function(n,e=!0){(function(t){ba=t})(ya),ua(new Wr("firestore",((t,{instanceIdentifier:s,options:o})=>{const l=t.getProvider("app").getImmediate(),c=new Rm(new J1(t.getProvider("auth-internal")),new Q1(l,t.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ge(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(f.options.projectId,m)})(l,s),l);return o={useFetchStreams:e,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),nr($0,K0,n),nr($0,K0,"esm2020")})();var dx="firebase",hx="12.6.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/nr(dx,hx,"app");function _T(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fx=_T,CT=new au("auth","Firebase",_T());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _d=new tm("@firebase/auth");function px(n,...e){_d.logLevel<=Me.WARN&&_d.warn(`Auth (${ya}): ${n}`,...e)}function sd(n,...e){_d.logLevel<=Me.ERROR&&_d.error(`Auth (${ya}): ${n}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function si(n,...e){throw Mm(n,...e)}function Ri(n,...e){return Mm(n,...e)}function IT(n,e,t){const s={...fx(),[e]:t};return new au("auth","Firebase",s).create(e,{appName:n.name})}function rr(n){return IT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mm(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return CT.create(n,...e)}function Se(n,e,...t){if(!n)throw Mm(e,...t)}function ns(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sd(e),new Error(e)}function ls(n,e){n||ns(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qp(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function mx(){return qb()==="http:"||qb()==="https:"}function qb(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mx()||CA()||"connection"in navigator)?navigator.onLine:!0}function vx(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ls(t>e,"Short delay should be less than long delay!"),this.isMobile=EA()||IA()}get(){return gx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Lm(n,e){ls(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wx=new pu(3e4,6e4);function io(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function hr(n,e,t,s,o={}){return NT(n,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=lu({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const v={method:e,headers:m,...l};return _A()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&va(n.emulatorConfig.host)&&(v.credentials="include"),AT.fetch()(await kT(n,n.config.apiHost,t,f),v)})}async function NT(n,e,t){n._canInitEmulator=!1;const s={...yx,...e};try{const o=new Ex(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Qc(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,v]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qc(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Qc(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Qc(n,"user-disabled",c);const b=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw IT(n,b,v);si(n,b)}}catch(o){if(o instanceof cs)throw o;si(n,"network-request-failed",{message:String(o)})}}async function Jd(n,e,t,s,o={}){const l=await hr(n,e,t,s,o);return"mfaPendingCredential"in l&&si(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function kT(n,e,t,s){const o=`${e}${t}?${s}`,l=n,c=l.config.emulator?Lm(n.config,o):`${n.config.apiScheme}://${o}`;return bx.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function Sx(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ex{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ri(this.auth,"network-request-failed")),wx.get())})}}function Qc(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Ri(n,e,s);return o.customData._tokenResponse=t,o}function Vb(n){return n!==void 0&&n.enterprise!==void 0}class Tx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Sx(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _x(n,e){return hr(n,"GET","/v2/recaptchaConfig",io(n,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Cx(n,e){return hr(n,"POST","/v1/accounts:delete",e)}async function Cd(n,e){return hr(n,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Jl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ix(n,e=!1){const t=Vn(n),s=await t.getIdToken(e),o=Um(s);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:Jl(vp(o.auth_time)),issuedAtTime:Jl(vp(o.iat)),expirationTime:Jl(vp(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function vp(n){return Number(n)*1e3}function Um(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{const o=US(t);return o?JSON.parse(o):(sd("Failed to decode base64 JWT payload"),null)}catch(o){return sd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Hb(n){const e=Um(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ru(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof cs&&Ax(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function Ax({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const t=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,t)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Id(n){var e;const t=n.auth,s=await n.getIdToken(),o=await ru(n,Cd(t,{idToken:s}));Se(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=(e=l.providerUserInfo)!=null&&e.length?OT(l.providerUserInfo):[],f=Ox(n.providerData,c),m=n.isAnonymous,v=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),b=m?v:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Vp(l.createdAt,l.lastLoginAt),isAnonymous:b};Object.assign(n,S)}async function kx(n){const e=Vn(n);await Id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ox(n,e){return[...n.filter(t=>!e.some(s=>s.providerId===t.providerId)),...e]}function OT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function xx(n,e){const t=await NT(n,{},async()=>{const s=lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await kT(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return n.emulatorConfig&&va(n.emulatorConfig.host)&&(m.credentials="include"),AT.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Rx(n,e){return hr(n,"POST","/v2/accounts:revokeToken",io(n,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=Hb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await xx(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,c=new ia;return s&&(Se(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ia,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $s(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Nx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ru(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Ix(this,e)}reload(){return kx(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Id(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(rr(this.auth));const e=await this.getIdToken();return await ru(this,Cx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,m=t._redirectEventId??void 0,v=t.createdAt??void 0,b=t.lastLoginAt??void 0,{uid:S,emailVerified:_,isAnonymous:k,providerData:H,stsTokenManager:L}=t;Se(S&&L,e,"internal-error");const V=ia.fromJSON(this.name,L);Se(typeof S=="string",e,"internal-error"),$s(s,e.name),$s(o,e.name),Se(typeof _=="boolean",e,"internal-error"),Se(typeof k=="boolean",e,"internal-error"),$s(l,e.name),$s(c,e.name),$s(f,e.name),$s(m,e.name),$s(v,e.name),$s(b,e.name);const K=new ii({uid:S,auth:e,email:o,emailVerified:_,displayName:s,isAnonymous:k,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:V,createdAt:v,lastLoginAt:b});return H&&Array.isArray(H)&&(K.providerData=H.map(X=>({...X}))),m&&(K._redirectEventId=m),K}static async _fromIdTokenResponse(e,t,s=!1){const o=new ia;o.updateFromServerResponse(t);const l=new ii({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Id(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?OT(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new ia;f.updateFromIdToken(s);const m=new ii({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,v),m}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zb=new Map;function is(n){ls(n instanceof Function,"Expected a class definition");let e=zb.get(n);return e?(ls(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,zb.set(n,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}xT.type="NONE";const Bb=xT;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function rd(n,e,t){return`firebase:${n}:${e}:${t}`}class sa{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=rd(this.userKey,o.apiKey,l),this.fullPersistenceKey=rd("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Cd(this.auth,{idToken:e}).catch(()=>{});return t?ii._fromGetAccountInfoResponse(this.auth,t,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new sa(is(Bb),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||is(Bb);const c=rd(s,e.config.apiKey,e.name);let f=null;for(const v of t)try{const b=await v._get(c);if(b){let S;if(typeof b=="string"){const _=await Cd(e,{idToken:b}).catch(()=>{});if(!_)break;S=await ii._fromGetAccountInfoResponse(e,_,b)}else S=ii._fromJSON(e,b);v!==l&&(f=S),l=v;break}}catch{}const m=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new sa(l,e,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(c)}catch{}})),new sa(l,e,s))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Gb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UT(e))return"Blackberry";if(FT(e))return"Webos";if(PT(e))return"Safari";if((e.includes("chrome/")||DT(e))&&!e.includes("edge/"))return"Chrome";if(LT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function RT(n=rn()){return/firefox\//i.test(n)}function PT(n=rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DT(n=rn()){return/crios\//i.test(n)}function MT(n=rn()){return/iemobile/i.test(n)}function LT(n=rn()){return/android/i.test(n)}function UT(n=rn()){return/blackberry/i.test(n)}function FT(n=rn()){return/webos/i.test(n)}function Fm(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Px(n=rn()){var e;return Fm(n)&&!!((e=window.navigator)!=null&&e.standalone)}function Dx(){return AA()&&document.documentMode===10}function jT(n=rn()){return Fm(n)||LT(n)||FT(n)||UT(n)||/windows phone/i.test(n)||MT(n)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qT(n,e=[]){let t;switch(n){case"Browser":t=Gb(rn());break;case"Worker":t=`${Gb(rn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ya}/${s}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Lx(n,e={}){return hr(n,"GET","/v2/passwordPolicy",io(n,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ux=6;class Fx{constructor(e){var t;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??Ux,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((t=e.allowedNonAlphanumericCharacters)==null?void 0:t.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jx{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $b(this),this.idTokenSubscription=new $b(this),this.beforeStateQueue=new Mx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=is(t)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await sa.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Cd(this,{idToken:e}),s=await ii._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)==null?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&m!=null&&m.user&&(o=m.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Id(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(rr(this));const t=e?Vn(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Lx(this),t=new Fx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new au("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await Rx(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&is(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await sa.create(this,[is(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return t!=null&&t.error&&px(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ta(n){return Vn(n)}class $b{constructor(e){this.auth=e,this.observer=null,this.addObserver=MA(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qx(n){Wd=n}function VT(n){return Wd.loadJS(n)}function Vx(){return Wd.recaptchaEnterpriseScript}function Hx(){return Wd.gapiScript}function zx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Bx{constructor(){this.enterprise=new Gx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Gx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const $x="recaptcha-enterprise",HT="NO_RECAPTCHA";class Kx{constructor(e){this.type=$x,this.auth=Ta(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{_x(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const v=new Tx(m);return l.tenantId==null?l._agentRecaptchaConfig=v:l._tenantRecaptchaConfigs[l.tenantId]=v,c(v.siteKey)}}).catch(m=>{f(m)})})}function o(l,c,f){const m=window.grecaptcha;Vb(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(v=>{c(v)}).catch(()=>{c(HT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Bx().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!t&&Vb(window.grecaptcha))o(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=Vx();m.length!==0&&(m+=f),VT(m).then(()=>{o(f,l,c)}).catch(v=>{c(v)})}}).catch(f=>{c(f)})})}}async function Kb(n,e,t,s=!1,o=!1){const l=new Kx(n);let c;if(o)c=HT;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,v=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:v,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Jb(n,e,t,s,o){var l;if((l=n._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Kb(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Kb(n,e,t,t==="getOobCode");return s(n,f)}else return Promise.reject(c)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Jx(n,e){const t=im(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Jr(o,e??{}))return s;si(s,"already-initialized")}return t.initialize({options:e})}function Wx(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(is);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Yx(n,e,t){const s=Ta(n);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=zT(e),{host:c,port:f}=Qx(e),m=f===null?"":`:${f}`,v={url:`${l}//${c}${m}/`},b=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(Jr(v,s.config.emulator)&&Jr(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,va(c)?(VS(`${l}//${c}${m}`),HS("Auth",!0)):Zx()}function zT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Qx(n){const e=zT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:Wb(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Wb(c)}}}function Wb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Zx(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,t){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function Xx(n,e){return hr(n,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function eR(n,e){return Jd(n,"POST","/v1/accounts:signInWithPassword",io(n,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function tR(n,e){return Jd(n,"POST","/v1/accounts:signInWithEmailLink",io(n,e))}async function nR(n,e){return Jd(n,"POST","/v1/accounts:signInWithEmailLink",io(n,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ou extends jm{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new ou(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new ou(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&t!=null&&t.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jb(e,t,"signInWithPassword",eR);case"emailLink":return tR(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jb(e,s,"signUpPassword",Xx);case"emailLink":return nR(e,{idToken:t,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ra(n,e){return Jd(n,"POST","/v1/accounts:signInWithIdp",io(n,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const iR="http://localhost";class Zr extends jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):si("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=t;if(!s||!o)return null;const c=new Zr(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ra(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,ra(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ra(e,t)}buildRequest(){const e={requestUri:iR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=lu(t)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function sR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rR(n){const e=Ll(Ul(n)).link,t=e?Ll(Ul(e)).deep_link_id:null,s=Ll(Ul(n)).deep_link_id;return(s?Ll(Ul(s)).link:null)||s||t||e||n}class qm{constructor(e){const t=Ll(Ul(e)),s=t.apiKey??null,o=t.oobCode??null,l=sR(t.mode??null);Se(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=rR(e);try{return new qm(t)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _a{constructor(){this.providerId=_a.PROVIDER_ID}static credential(e,t){return ou._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=qm.parseLink(t);return Se(s,"argument-error"),ou._fromEmailAndCode(e,s.code,s.tenantId)}}_a.PROVIDER_ID="password";_a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class BT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mu extends BT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Js extends mu{constructor(){super("facebook.com")}static credential(e){return Zr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ws extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Ws.credential(t,s)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ys extends mu{constructor(){super("github.com")}static credential(e){return Zr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qs extends mu{constructor(){super("twitter.com")}static credential(e,t){return Zr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Qs.credential(t,s)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await ii._fromIdTokenResponse(e,s,o),c=Yb(s);return new ga({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Yb(s);return new ga({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Yb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ad extends cs{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ad.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Ad(e,t,s,o)}}function GT(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ad._fromErrorAndOperation(n,o,e,s):o})}async function oR(n,e,t=!1){const s=await ru(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ga._forOperation(n,"link",s)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function aR(n,e,t=!1){const{auth:s}=n;if(ti(s.app))return Promise.reject(rr(s));const o="reauthenticate";try{const l=await ru(n,GT(s,o,e,n),t);Se(l.idToken,s,"internal-error");const c=Um(l.idToken);Se(c,s,"internal-error");const{sub:f}=c;return Se(n.uid===f,s,"user-mismatch"),ga._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&si(s,"user-mismatch"),l}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function $T(n,e,t=!1){if(ti(n.app))return Promise.reject(rr(n));const s="signIn",o=await GT(n,s,e),l=await ga._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(l.user),l}async function lR(n,e){return $T(Ta(n),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function uR(n){const e=Ta(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function cR(n,e,t){return ti(n.app)?Promise.reject(rr(n)):lR(Vn(n),_a.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&uR(n),s})}function dR(n,e,t,s){return Vn(n).onIdTokenChanged(e,t,s)}function hR(n,e,t){return Vn(n).beforeAuthStateChanged(e,t)}function fR(n){return Vn(n).signOut()}const Nd="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class KT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nd,"1"),this.storage.removeItem(Nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pR=1e3,mR=10;class JT extends KT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);Dx()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,mR):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},pR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}JT.type="LOCAL";const gR=JT;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WT extends KT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}WT.type="SESSION";const YT=WT;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function vR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Yd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(c).map(async v=>v(t.origin,l)),m=await vR(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yd.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Vm(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const v=Vm("",20);o.port1.start();const b=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(S){const _=S;if(_.data.eventId===v)switch(_.data.status){case"ack":clearTimeout(b),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(_.data.response);break;default:clearTimeout(b),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Pi(){return window}function bR(n){Pi().location.href=n}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function QT(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function wR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function ER(){return QT()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ZT="firebaseLocalStorageDb",TR=1,kd="firebaseLocalStorage",XT="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qd(n,e){return n.transaction([kd],e?"readwrite":"readonly").objectStore(kd)}function _R(){const n=indexedDB.deleteDatabase(ZT);return new gu(n).toPromise()}function Hp(){const n=indexedDB.open(ZT,TR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(kd,{keyPath:XT})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(kd)?e(s):(s.close(),await _R(),e(await Hp()))})})}async function Qb(n,e,t){const s=Qd(n,!0).put({[XT]:e,value:t});return new gu(s).toPromise()}async function CR(n,e){const t=Qd(n,!1).get(e),s=await new gu(t).toPromise();return s===void 0?null:s.value}function Zb(n,e){const t=Qd(n,!0).delete(e);return new gu(t).toPromise()}const IR=800,AR=3;class e_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>AR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yd._getInstance(ER()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await wR(),!this.activeServiceWorker)return;this.sender=new yR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&(e=s[0])!=null&&e.fulfilled&&(t=s[0])!=null&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hp();return await Qb(e,Nd,"1"),await Zb(e,Nd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Qb(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>CR(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Zb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Qd(o,!1).getAll();return new gu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e_.type="LOCAL";const NR=e_;new pu(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kR(n,e){return e?is(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hm extends jm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ra(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ra(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function OR(n){return $T(n.auth,new Hm(n),n.bypassAuthState)}function xR(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),aR(t,new Hm(n),n.bypassAuthState)}async function RR(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),oR(t,new Hm(n),n.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class t_{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OR;case"linkViaPopup":case"linkViaRedirect":return RR;case"reauthViaPopup":case"reauthViaRedirect":return xR;default:si(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const PR=new pu(2e3,1e4);class ea extends t_{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,ea.currentPopupAction&&ea.currentPopupAction.cancel(),ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const e=Vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if((s=(t=this.authWindow)==null?void 0:t.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PR.get())};e()}}ea.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DR="pendingRedirect",od=new Map;class MR extends t_{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=od.get(this.auth._key());if(!e){try{const t=await LR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}od.set(this.auth._key(),e)}return this.bypassAuthState||od.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LR(n,e){const t=jR(e),s=FR(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function UR(n,e){od.set(n._key(),e)}function FR(n){return is(n._redirectPersistence)}function jR(n){return rd(DR,n.config.apiKey,n.name)}async function qR(n,e,t=!1){if(ti(n.app))return Promise.reject(rr(n));const s=Ta(n),o=kR(s,e),l=await new MR(s,o,t).execute();return l&&!t&&(delete l.user._redirectEventId,await s._persistUserIfCurrent(l.user),await s._setRedirectUser(null,e)),l}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const VR=600*1e3;class HR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!n_(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";t.onError(Ri(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xb(e))}saveEventToCache(e){this.cachedEventUids.add(Xb(e)),this.lastProcessedEventTime=Date.now()}}function Xb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function n_({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n_(n);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function BR(n,e={}){return hr(n,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const GR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$R=/^https?/;async function KR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await BR(n);for(const t of e)try{if(JR(t))return}catch{}si(n,"unauthorized-domain")}function JR(n){const e=qp(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===s}if(!$R.test(t))return!1;if(GR.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const WR=new pu(3e4,6e4);function ew(){const n=Pi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function YR(n){return new Promise((e,t)=>{var s,o,l;function c(){ew(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ew(),t(Ri(n,"network-request-failed"))},timeout:WR.get()})}if((o=(s=Pi().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((l=Pi().gapi)!=null&&l.load)c();else{const f=zx("iframefcb");return Pi()[f]=()=>{gapi.load?c():t(Ri(n,"network-request-failed"))},VT(`${Hx()}?onload=${f}`).catch(m=>t(m))}}).catch(e=>{throw ad=null,e})}let ad=null;function QR(n){return ad=ad||YR(n),ad}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ZR=new pu(5e3,15e3),XR="__/auth/iframe",eP="emulator/auth/iframe",tP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iP(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Lm(e,eP):`https://${n.config.authDomain}/${XR}`,s={apiKey:e.apiKey,appName:n.name,v:ya},o=nP.get(n.config.apiHost);o&&(s.eid=o);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${lu(s).slice(1)}`}async function sP(n){const e=await QR(n),t=Pi().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:iP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tP,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=Ri(n,"network-request-failed"),f=Pi().setTimeout(()=>{l(c)},ZR.get());function m(){Pi().clearTimeout(f),o(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oP=500,aP=600,lP="_blank",uP="http://localhost";class tw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cP(n,e,t,s=oP,o=aP){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...rP,width:s.toString(),height:o.toString(),top:l,left:c},v=rn().toLowerCase();t&&(f=DT(v)?lP:t),RT(v)&&(e=e||uP,m.scrollbars="yes");const b=Object.entries(m).reduce((_,[k,H])=>`${_}${k}=${H},`,"");if(Px(v)&&f!=="_self")return dP(e||"",f),new tw(null);const S=window.open(e||"",f,b);Se(S,n,"popup-blocked");try{S.focus()}catch{}return new tw(S)}function dP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hP="__/auth/handler",fP="emulator/auth/handler",pP=encodeURIComponent("fac");async function nw(n,e,t,s,o,l){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:ya,eventId:o};if(e instanceof BT){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",DA(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,S]of Object.entries({}))c[b]=S}if(e instanceof mu){const b=e.getScopes().filter(S=>S!=="");b.length>0&&(c.scopes=b.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const b of Object.keys(f))f[b]===void 0&&delete f[b];const m=await n._getAppCheckToken(),v=m?`#${pP}=${encodeURIComponent(m)}`:"";return`${mP(n)}?${lu(f).slice(1)}${v}`}function mP({config:n}){return n.emulator?Lm(n,fP):`https://${n.authDomain}/${hP}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yp="webStorageSupport";class gP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YT,this._completeRedirectFn=qR,this._overrideRedirectResult=UR}async _openPopup(e,t,s,o){var l;ls((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await nw(e,t,s,qp(),o);return cP(e,c,Vm())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await nw(e,t,s,qp(),o);return bR(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(ls(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await sP(e),s=new HR(e);return t.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yp,{type:yp},s=>{var o;const l=(o=s==null?void 0:s[0])==null?void 0:o[yp];l!==void 0&&t(!!l),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=KR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jT()||PT()||Fm()}}const vP=gP;var iw="@firebase/auth",sw="1.11.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wP(n){ua(new Wr("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qT(n)},v=new jx(s,o,l,m);return Wx(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ua(new Wr("auth-internal",e=>{const t=Ta(e.getProvider("auth").getImmediate());return(s=>new yP(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(iw,sw,bP(n)),nr(iw,sw,"esm2020")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const SP=300,EP=qS("authIdTokenMaxAge")||SP;let rw=null;const TP=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>EP)return;const o=t==null?void 0:t.token;rw!==o&&(rw=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _P(n=$S()){const e=im(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Jx(n,{popupRedirectResolver:vP,persistence:[NR,gR,YT]}),s=qS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=TP(l.toString());hR(t,c,()=>c(t.currentUser)),dR(t,f=>c(f))}}const o=FS("auth");return o&&Yx(t,`http://${o}`),t}function CP(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}qx({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const l=Ri("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",CP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wP("Browser");const IP={apiKey:"AIzaSyBsdPghRmOsLX7JIj-T8IYF4bRp-KxQAPc",authDomain:"cybee-ca5a2.firebaseapp.com",projectId:"cybee-ca5a2",storageBucket:"cybee-ca5a2.firebasestorage.app",messagingSenderId:"215321650697",appId:"1:215321650697:web:d0bbf35f6861a891c9bad8",measurementId:"G-K624Y57R5Q"},i_=GS(IP),Zd=JO(i_),ow=_P(i_),Xd="supportApp",s_="videos",r_="config",AP=async n=>{console.log("Saving videos to Firebase:",n),await TT(Kd(Zd,Xd,s_),{videos:n}),console.log("Videos saved successfully")},NP=async()=>{const n=Kd(Zd,Xd,s_),e=await ET(n);if(e.exists()){const t=e.data();return console.log("Loaded videos from Firebase:",t.videos),t.videos||[]}return console.log("No videos document found in Firebase"),[]},zp=async n=>{await TT(Kd(Zd,Xd,r_),n)},kP=async()=>{const n=Kd(Zd,Xd,r_),e=await ET(n);return e.exists()?e.data():null},OP=({videos:n,setVideos:e,chatConfig:t,setChatConfig:s})=>{const[o,l]=Ve.useState("videos"),[c,f]=Ve.useState({title:"",description:"",url:""}),[m,v]=Ve.useState(null),b=L=>{const V=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,K=L.match(V);return K&&K[2].length===11?K[2]:null},S=L=>{L.preventDefault();const V=b(c.url);if(!V){alert("Invalid YouTube URL");return}if(m)e(K=>K.map(X=>X.id===m?{...X,title:c.title,description:c.description,url:c.url,videoId:V}:X)),v(null);else{const K={id:Date.now().toString(),title:c.title,description:c.description,url:c.url,videoId:V};e(X=>[K,...X])}f({title:"",description:"",url:""})},_=L=>{f({title:L.title,description:L.description,url:L.url}),v(L.id),window.scrollTo({top:0,behavior:"smooth"})},k=()=>{f({title:"",description:"",url:""}),v(null)},H=(L,V)=>{V.stopPropagation(),window.confirm("Are you sure you want to delete this video?")&&(e(K=>K.filter(X=>X.id!==L)),m===L&&k())};return R.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[R.jsxs("div",{className:"mb-8",children:[R.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Admin Dashboard"}),R.jsx("p",{className:"text-slate-500",children:"Manage support content and AI configurations."})]}),R.jsxs("div",{className:"flex gap-4 mb-8 border-b border-slate-200",children:[R.jsxs("button",{onClick:()=>l("videos"),className:`pb-4 px-2 font-medium transition-colors relative ${o==="videos"?"text-blue-600":"text-slate-500 hover:text-slate-800"}`,children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(iA,{size:18}),R.jsx("span",{children:"Video Library"})]}),o==="videos"&&R.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 rounded-t-full"})]}),R.jsxs("button",{onClick:()=>l("ai"),className:`pb-4 px-2 font-medium transition-colors relative ${o==="ai"?"text-blue-600":"text-slate-500 hover:text-slate-800"}`,children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(P0,{size:18}),R.jsx("span",{children:"AI Configuration"})]}),o==="ai"&&R.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 rounded-t-full"})]}),R.jsxs("button",{onClick:()=>l("sql"),className:`pb-4 px-2 font-medium transition-colors relative ${o==="sql"?"text-blue-600":"text-slate-500 hover:text-slate-800"}`,children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(R0,{size:18}),R.jsx("span",{children:"SQL Queries"})]}),o==="sql"&&R.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 rounded-t-full"})]})]}),R.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:o==="videos"?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"lg:col-span-1",children:R.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 sticky top-6",children:[R.jsxs("div",{className:"flex justify-between items-center mb-4",children:[R.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[m?R.jsx(rp,{size:20,className:"text-blue-600"}):R.jsx(Dl,{size:20,className:"text-blue-600"}),m?"Edit Video":"Add New Video"]}),m&&R.jsxs("button",{type:"button",onClick:k,className:"text-xs text-slate-500 hover:text-slate-800 flex items-center gap-1 bg-slate-100 px-2 py-1 rounded-md transition-colors",children:[R.jsx(em,{size:14})," Cancel"]})]}),R.jsxs("form",{onSubmit:S,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Video Title"}),R.jsx("input",{type:"text",required:!0,value:c.title,onChange:L=>f({...c,title:L.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",placeholder:"e.g. How to Reset Password"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"YouTube URL"}),R.jsx("input",{type:"url",required:!0,value:c.url,onChange:L=>f({...c,url:L.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",placeholder:"https://youtube.com/watch?v=..."})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),R.jsx("textarea",{required:!0,value:c.description,onChange:L=>f({...c,description:L.target.value}),rows:4,className:"w-full px-4 py-2 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",placeholder:"Brief summary of the video content..."})]}),R.jsxs("button",{type:"submit",className:`w-full py-2.5 font-medium rounded-xl transition-colors shadow-lg flex items-center justify-center gap-2 text-white ${m?"bg-indigo-600 hover:bg-indigo-700 shadow-indigo-500/20":"bg-blue-600 hover:bg-blue-700 shadow-blue-500/20"}`,children:[m?R.jsx(zI,{size:18}):R.jsx(Dl,{size:18}),m?"Update Video":"Save Video"]})]})]})}),R.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[R.jsxs("h3",{className:"text-lg font-semibold text-slate-800",children:["Published Videos (",n.length,")"]}),n.length===0?R.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-dashed border-slate-300",children:[R.jsx(aA,{size:48,className:"mx-auto text-slate-300 mb-3"}),R.jsx("p",{className:"text-slate-500",children:"No videos added yet."})]}):n.map(L=>R.jsxs("div",{className:`bg-white p-4 rounded-xl border shadow-sm flex gap-4 hover:shadow-md transition-all ${m===L.id?"border-blue-500 ring-2 ring-blue-500/10":"border-slate-100"}`,children:[R.jsx("div",{className:"w-32 h-20 bg-slate-100 rounded-lg overflow-hidden flex-shrink-0 relative group",children:R.jsx("img",{src:`https://img.youtube.com/vi/${L.videoId}/mqdefault.jpg`,alt:L.title,className:"w-full h-full object-cover"})}),R.jsxs("div",{className:"flex-1",children:[R.jsxs("div",{className:"flex justify-between items-start",children:[R.jsx("h4",{className:"font-semibold text-slate-800 line-clamp-1",children:L.title}),R.jsxs("div",{className:"flex gap-1",children:[R.jsx("button",{type:"button",onClick:()=>_(L),className:`p-1.5 rounded-lg transition-colors ${m===L.id?"bg-blue-100 text-blue-600":"text-slate-400 hover:text-blue-600 hover:bg-blue-50"}`,title:"Edit video",children:R.jsx(rp,{size:16})}),R.jsx("button",{type:"button",onClick:V=>H(L.id,V),className:"text-slate-400 hover:text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"Delete video",children:R.jsx(op,{size:16})})]})]}),R.jsx("p",{className:"text-sm text-slate-500 line-clamp-2 mt-1",children:L.description}),R.jsx("a",{href:L.url,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-600 mt-2 inline-block hover:underline",children:"View on YouTube"})]})]},L.id))]})]}):o==="sql"?R.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[R.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100",children:[R.jsx("div",{className:"p-6 cursor-pointer hover:bg-slate-50 transition-colors",onClick:()=>{const L=document.getElementById("sqlForm"),V=(L==null?void 0:L.style.display)==="none";L&&(L.style.display=V?"block":"none")},children:R.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[R.jsx(R0,{size:20,className:"text-green-600"}),"SQL Query Manager",R.jsx("span",{className:"text-sm text-slate-500",children:"(Click to expand)"})]})}),R.jsx("div",{id:"sqlForm",style:{display:"none"},className:"px-6 pb-6",children:R.jsxs("form",{onSubmit:L=>{L.preventDefault();const V=new FormData(L.target),K=V.get("title"),X=V.get("query");if(K.trim()&&X.trim()){const se={id:Date.now().toString(),title:K.trim(),query:X.trim()};s({...t,sqlQueries:[...t.sqlQueries||[],se]}),L.target.reset()}},className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Query Title"}),R.jsx("input",{name:"title",type:"text",required:!0,placeholder:"e.g., Get all users",className:"w-full px-4 py-2 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"SQL Query"}),R.jsx("textarea",{name:"query",required:!0,rows:6,placeholder:"SELECT * FROM users WHERE...;",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-mono text-sm"})]}),R.jsxs("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors flex items-center gap-2",children:[R.jsx(Dl,{size:16})," Save Query"]})]})})]}),R.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[R.jsxs("div",{className:"flex justify-between items-center mb-4",children:[R.jsxs("h4",{className:"font-medium text-slate-800",children:["Saved Queries (",(t.sqlQueries||[]).length,")"]}),R.jsx("input",{type:"text",placeholder:"Search queries...",onChange:L=>{const V=L.target.value.toLowerCase();document.querySelectorAll("[data-query-item]").forEach(K=>{const X=K.querySelector("h5").textContent.toLowerCase(),se=K.querySelector("p").textContent.toLowerCase();K.style.display=X.includes(V)||se.includes(V)?"block":"none"})},className:"px-3 py-2 border border-slate-200 rounded-lg text-sm w-64"})]}),(t.sqlQueries||[]).length===0?R.jsx("p",{className:"text-slate-500 text-sm",children:"No queries saved yet."}):R.jsx("div",{className:"space-y-3",children:(t.sqlQueries||[]).map(L=>R.jsxs("div",{"data-query-item":!0,className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[R.jsxs("div",{className:"flex justify-between items-start mb-2",children:[R.jsx("h5",{className:"font-medium text-slate-800 cursor-pointer hover:text-blue-600",onClick:()=>{const V=document.createElement("div");V.className="fixed inset-0 bg-black/50 flex items-center justify-center z-50",V.innerHTML=`
                                <div class="bg-white p-6 rounded-2xl shadow-xl w-[600px] max-w-[90vw] max-h-[80vh] overflow-auto">
                                  <h3 class="text-lg font-bold mb-4">${L.title}</h3>
                                  <textarea class="w-full h-64 p-3 border rounded-lg font-mono text-sm" readonly>${L.query}</textarea>
                                  <div class="flex gap-3 mt-4">
                                    <button onclick="navigator.clipboard.writeText('${L.query.replace(/'/g,"\\'")}')">Copy</button>
                                    <button onclick="this.closest('.fixed').remove()">Close</button>
                                  </div>
                                </div>
                              `,document.body.appendChild(V),V.onclick=K=>K.target===V&&V.remove()},children:L.title}),R.jsxs("div",{className:"flex gap-1",children:[R.jsx("button",{onClick:()=>{const V=document.createElement("div");V.className="fixed inset-0 bg-black/50 flex items-center justify-center z-50",V.innerHTML=`
                                <div class="bg-white p-6 rounded-2xl shadow-xl w-[600px] max-w-[90vw]">
                                  <h3 class="text-lg font-bold mb-4">Edit Query</h3>
                                  <input id="editTitle" class="w-full p-3 border rounded-lg mb-3" value="${L.title}" placeholder="Query Title">
                                  <textarea id="editQuery" class="w-full h-64 p-3 border rounded-lg font-mono text-sm mb-4">${L.query}</textarea>
                                  <div class="flex gap-3">
                                    <button onclick="
                                      const title = document.getElementById('editTitle').value;
                                      const query = document.getElementById('editQuery').value;
                                      if (title && query) {
                                        window.updateQuery('${L.id}', title, query);
                                        this.closest('.fixed').remove();
                                      }
                                    " class="px-4 py-2 bg-blue-600 text-white rounded-lg">Save</button>
                                    <button onclick="this.closest('.fixed').remove()" class="px-4 py-2 bg-gray-600 text-white rounded-lg">Cancel</button>
                                  </div>
                                </div>
                              `,window.updateQuery=(K,X,se)=>{s({...t,sqlQueries:(t.sqlQueries||[]).map(oe=>oe.id===K?{...oe,title:X,query:se}:oe)})},document.body.appendChild(V)},className:"text-blue-500 hover:text-blue-700 p-1",children:R.jsx(rp,{size:14})}),R.jsx("button",{onClick:()=>s({...t,sqlQueries:(t.sqlQueries||[]).filter(V=>V.id!==L.id)}),className:"text-red-500 hover:text-red-700 p-1",children:R.jsx(op,{size:14})})]})]}),R.jsx("p",{className:"text-slate-600 text-xs font-mono truncate",children:L.query})]},L.id))})]})]}):R.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[R.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[R.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center gap-2",children:[R.jsx(P0,{size:20,className:"text-blue-600"}),"Chat Assistant Settings"]}),R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"System Instructions (Persona)"}),R.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Define how the AI should behave, what it knows, and its tone."}),R.jsx("textarea",{value:t.systemInstruction,onChange:L=>s({...t,systemInstruction:L.target.value}),rows:6,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-mono text-sm"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Welcome Message"}),R.jsx("input",{type:"text",value:t.welcomeMessage,onChange:L=>s({...t,welcomeMessage:L.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"})]})]})]}),R.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[R.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center gap-2",children:[R.jsx(Dl,{size:20,className:"text-green-600"}),"Q&A Training"]}),R.jsxs("form",{onSubmit:async L=>{L.preventDefault();const V=new FormData(L.target),K=V.get("question"),X=V.get("answer");if(K.trim()&&X.trim()){const se={id:Date.now().toString(),question:K.trim(),answer:X.trim()},oe={...t,qaTraining:[...t.qaTraining||[],se]};s(oe),await zp(oe),L.target.reset()}},className:"space-y-4 mb-6",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Question"}),R.jsx("input",{name:"question",type:"text",required:!0,placeholder:"e.g., What is your customer care number?",className:"w-full px-4 py-2 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Answer"}),R.jsx("textarea",{name:"answer",required:!0,rows:3,placeholder:"e.g., You can reach our customer care at +1-800-POLOSYS (765-6797)",className:"w-full px-4 py-2 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"})]}),R.jsxs("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors flex items-center gap-2",children:[R.jsx(Dl,{size:16})," Add Q&A"]})]}),R.jsxs("div",{className:"space-y-3",children:[R.jsxs("h4",{className:"font-medium text-slate-800",children:["Trained Q&As (",(t.qaTraining||[]).length,")"]}),(t.qaTraining||[]).length===0?R.jsx("p",{className:"text-slate-500 text-sm",children:"No Q&A pairs added yet."}):(t.qaTraining||[]).map(L=>R.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[R.jsxs("div",{className:"flex justify-between items-start mb-2",children:[R.jsxs("p",{className:"font-medium text-slate-800",children:["Q: ",L.question]}),R.jsx("button",{onClick:async()=>{if(!confirm("Delete this Q&A?"))return;const V={...t,qaTraining:(t.qaTraining||[]).filter(K=>K.id!==L.id)};try{await zp(V),s(V),console.log("Q&A deleted successfully")}catch(K){console.error("Failed to delete Q&A:",K),alert("Failed to delete. Please try again.")}},className:"text-red-500 hover:text-red-700 p-1",children:R.jsx(op,{size:14})})]}),R.jsxs("p",{className:"text-slate-600 text-sm",children:["A: ",L.answer]})]},L.id))]})]}),R.jsx("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100 text-sm text-blue-800",children:R.jsxs("p",{children:[R.jsx("strong",{children:"Note:"})," Changes take effect for new chat sessions."]})})]})})]})};/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/let xP,RP;function PP(){return{geminiUrl:xP,vertexUrl:RP}}function DP(n,e,t,s){var o,l;if(!(n!=null&&n.baseUrl)){const c=PP();return e?(o=c.vertexUrl)!==null&&o!==void 0?o:t:(l=c.geminiUrl)!==null&&l!==void 0?l:s}return n.baseUrl}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/class ds{}function ce(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(s,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function h(n,e,t){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const f=c.slice(0,-2);if(!(f in n))if(Array.isArray(t))n[f]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(n[f])){const m=n[f];if(Array.isArray(t))for(let v=0;v<m.length;v++){const b=m[v];h(b,e.slice(l+1),t[v])}else for(const v of m)h(v,e.slice(l+1),t)}return}else if(c.endsWith("[0]")){const f=c.slice(0,-3);f in n||(n[f]=[{}]);const m=n[f];h(m[0],e.slice(l+1),t);return}(!n[c]||typeof n[c]!="object")&&(n[c]={}),n=n[c]}const s=e[e.length-1],o=n[s];if(o!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===o)return;if(typeof o=="object"&&typeof t=="object"&&o!==null&&t!==null)Object.assign(o,t);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[s]=t}function d(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let s=0;s<e.length;s++){if(typeof n!="object"||n===null)return t;const o=e[s];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in n){const c=n[l];return Array.isArray(c)?c.map(f=>d(f,e.slice(s+1),t)):t}else return t}else n=n[o]}return n}catch(s){if(s instanceof TypeError)return t;throw s}}function MP(n,e){for(const[t,s]of Object.entries(e)){const o=t.split("."),l=s.split("."),c=new Set;let f=-1;for(let m=0;m<o.length;m++)if(o[m]==="*"){f=m;break}if(f!==-1&&l.length>f)for(let m=f;m<l.length;m++){const v=l[m];v!=="*"&&!v.endsWith("[]")&&!v.endsWith("[0]")&&c.add(v)}Bp(n,o,l,0,c)}}function Bp(n,e,t,s,o){if(s>=e.length||typeof n!="object"||n===null)return;const l=e[s];if(l.endsWith("[]")){const c=l.slice(0,-2),f=n;if(c in f&&Array.isArray(f[c]))for(const m of f[c])Bp(m,e,t,s+1,o)}else if(l==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const c=n,f=Object.keys(c).filter(v=>!v.startsWith("_")&&!o.has(v)),m={};for(const v of f)m[v]=c[v];for(const[v,b]of Object.entries(m)){const S=[];for(const _ of t.slice(s))_==="*"?S.push(v):S.push(_);h(c,S,b)}for(const v of f)delete c[v]}}else{const c=n;l in c&&Bp(c[l],e,t,s+1,o)}}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/function zm(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/function LP(n){const e={},t=d(n,["operationName"]);t!=null&&h(e,["operationName"],t);const s=d(n,["resourceName"]);return s!=null&&h(e,["_url","resourceName"],s),e}function UP(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const s=d(n,["metadata"]);s!=null&&h(e,["metadata"],s);const o=d(n,["done"]);o!=null&&h(e,["done"],o);const l=d(n,["error"]);l!=null&&h(e,["error"],l);const c=d(n,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],jP(c)),e}function FP(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const s=d(n,["metadata"]);s!=null&&h(e,["metadata"],s);const o=d(n,["done"]);o!=null&&h(e,["done"],o);const l=d(n,["error"]);l!=null&&h(e,["error"],l);const c=d(n,["response"]);return c!=null&&h(e,["response"],qP(c)),e}function jP(n){const e={},t=d(n,["generatedSamples"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(c=>VP(c))),h(e,["generatedVideos"],l)}const s=d(n,["raiMediaFilteredCount"]);s!=null&&h(e,["raiMediaFilteredCount"],s);const o=d(n,["raiMediaFilteredReasons"]);return o!=null&&h(e,["raiMediaFilteredReasons"],o),e}function qP(n){const e={},t=d(n,["videos"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(c=>HP(c))),h(e,["generatedVideos"],l)}const s=d(n,["raiMediaFilteredCount"]);s!=null&&h(e,["raiMediaFilteredCount"],s);const o=d(n,["raiMediaFilteredReasons"]);return o!=null&&h(e,["raiMediaFilteredReasons"],o),e}function VP(n){const e={},t=d(n,["video"]);return t!=null&&h(e,["video"],JP(t)),e}function HP(n){const e={},t=d(n,["_self"]);return t!=null&&h(e,["video"],WP(t)),e}function zP(n){const e={},t=d(n,["operationName"]);return t!=null&&h(e,["_url","operationName"],t),e}function BP(n){const e={},t=d(n,["operationName"]);return t!=null&&h(e,["_url","operationName"],t),e}function GP(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const s=d(n,["metadata"]);s!=null&&h(e,["metadata"],s);const o=d(n,["done"]);o!=null&&h(e,["done"],o);const l=d(n,["error"]);l!=null&&h(e,["error"],l);const c=d(n,["response"]);return c!=null&&h(e,["response"],$P(c)),e}function $P(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["parent"]);s!=null&&h(e,["parent"],s);const o=d(n,["documentName"]);return o!=null&&h(e,["documentName"],o),e}function o_(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const s=d(n,["metadata"]);s!=null&&h(e,["metadata"],s);const o=d(n,["done"]);o!=null&&h(e,["done"],o);const l=d(n,["error"]);l!=null&&h(e,["error"],l);const c=d(n,["response"]);return c!=null&&h(e,["response"],KP(c)),e}function KP(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["parent"]);s!=null&&h(e,["parent"],s);const o=d(n,["documentName"]);return o!=null&&h(e,["documentName"],o),e}function JP(n){const e={},t=d(n,["uri"]);t!=null&&h(e,["uri"],t);const s=d(n,["encodedVideo"]);s!=null&&h(e,["videoBytes"],zm(s));const o=d(n,["encoding"]);return o!=null&&h(e,["mimeType"],o),e}function WP(n){const e={},t=d(n,["gcsUri"]);t!=null&&h(e,["uri"],t);const s=d(n,["bytesBase64Encoded"]);s!=null&&h(e,["videoBytes"],zm(s));const o=d(n,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/var aw;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(aw||(aw={}));var lw;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(lw||(lw={}));var uw;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(uw||(uw={}));var Xs;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Xs||(Xs={}));var cw;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(cw||(cw={}));var dw;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(dw||(dw={}));var hw;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(hw||(hw={}));var fw;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(fw||(fw={}));var pw;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(pw||(pw={}));var mw;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(mw||(mw={}));var gw;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(gw||(gw={}));var vw;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(vw||(vw={}));var yw;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(yw||(yw={}));var bw;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(bw||(bw={}));var ww;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(ww||(ww={}));var Sw;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Sw||(Sw={}));var Ew;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Ew||(Ew={}));var Tw;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Tw||(Tw={}));var _w;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(_w||(_w={}));var Od;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Od||(Od={}));var Cw;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Cw||(Cw={}));var Iw;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Iw||(Iw={}));var Aw;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Aw||(Aw={}));var Gp;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Gp||(Gp={}));var Nw;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Nw||(Nw={}));var kw;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(kw||(kw={}));var Ow;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Ow||(Ow={}));var xw;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(xw||(xw={}));var Rw;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Rw||(Rw={}));var Pw;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Pw||(Pw={}));var Dw;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Dw||(Dw={}));var Mw;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Mw||(Mw={}));var Lw;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Lw||(Lw={}));var Uw;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Uw||(Uw={}));var Fw;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Fw||(Fw={}));var jw;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(jw||(jw={}));var qw;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(qw||(qw={}));var Vw;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Vw||(Vw={}));var Hw;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Hw||(Hw={}));var zw;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(zw||(zw={}));var Bw;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Bw||(Bw={}));var Gw;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Gw||(Gw={}));var $w;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})($w||($w={}));var Kw;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Kw||(Kw={}));var Jw;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Jw||(Jw={}));var Ww;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Ww||(Ww={}));var Yw;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Yw||(Yw={}));var Qw;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Qw||(Qw={}));var Zw;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Zw||(Zw={}));var Xw;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Xw||(Xw={}));var eS;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(eS||(eS={}));var tS;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(tS||(tS={}));var nS;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(nS||(nS={}));var iS;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(iS||(iS={}));var ta;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(ta||(ta={}));class $p{constructor(e){const t={};for(const s of e.headers.entries())t[s[0]]=s[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ml{get text(){var e,t,s,o,l,c,f,m;if(((o=(s=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let v="",b=!1;const S=[];for(const _ of(m=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[k,H]of Object.entries(_))k!=="text"&&k!=="thought"&&k!=="thoughtSignature"&&(H!==null||H!==void 0)&&S.push(k);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;b=!0,v+=_.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),b?v:void 0}get data(){var e,t,s,o,l,c,f,m;if(((o=(s=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let v="";const b=[];for(const S of(m=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[_,k]of Object.entries(S))_!=="inlineData"&&(k!==null||k!==void 0)&&b.push(_);S.inlineData&&typeof S.inlineData.data=="string"&&(v+=atob(S.inlineData.data))}return b.length>0&&console.warn(`there are non-data parts ${b} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),v.length>0?btoa(v):void 0}get functionCalls(){var e,t,s,o,l,c,f,m;if(((o=(s=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const v=(m=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(b=>b.functionCall).map(b=>b.functionCall).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return v}get executableCode(){var e,t,s,o,l,c,f,m,v;if(((o=(s=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const b=(m=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((b==null?void 0:b.length)!==0)return(v=b==null?void 0:b[0])===null||v===void 0?void 0:v.code}get codeExecutionResult(){var e,t,s,o,l,c,f,m,v;if(((o=(s=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const b=(m=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((b==null?void 0:b.length)!==0)return(v=b==null?void 0:b[0])===null||v===void 0?void 0:v.output}}class sS{}class rS{}class YP{}class QP{}class ZP{}class XP{}class oS{}class aS{}class lS{}class e2{}class xd{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const s=new xd;let o;const l=e;return t?o=FP(l):o=UP(l),Object.assign(s,o),s}}class uS{}class cS{}class dS{}class t2{}class n2{}class i2{}class Bm{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const s=new Bm,o=GP(e);return Object.assign(s,o),s}}class s2{}class r2{}class o2{}class hS{}class a2{get text(){var e,t,s;let o="",l=!1;const c=[];for(const f of(s=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&s!==void 0?s:[]){for(const[m,v]of Object.entries(f))m!=="text"&&m!=="thought"&&v!==null&&c.push(m);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;l=!0,o+=f.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var e,t,s;let o="";const l=[];for(const c of(s=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&s!==void 0?s:[]){for(const[f,m]of Object.entries(c))f!=="inlineData"&&m!==null&&l.push(f);c.inlineData&&typeof c.inlineData.data=="string"&&(o+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class l2{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Gm{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const s=new Gm,o=o_(e);return Object.assign(s,o),s}}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/function Ge(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function a_(n,e){const t=Ge(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function l_(n){return Array.isArray(n)?n.map(e=>Rd(e)):[Rd(n)]}function Rd(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function u_(n){const e=Rd(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function c_(n){const e=Rd(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function fS(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function d_(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>fS(e)):[fS(n)]}function Kp(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function pS(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function mS(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function sn(n){if(n==null)throw new Error("ContentUnion is required");return Kp(n)?n:{role:"user",parts:d_(n)}}function $m(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const s=sn(t);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(n.isVertexAI()){const t=sn(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>sn(t)):[sn(e)]}function qn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(pS(n)||mS(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[sn(n)]}const e=[],t=[],s=Kp(n[0]);for(const o of n){const l=Kp(o);if(l!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(o);else{if(pS(o)||mS(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(o)}}return s||e.push({role:"user",parts:d_(t)}),e}function u2(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(s=>s!=="null");if(t.length===1)e.type=Object.values(Xs).includes(t[0].toUpperCase())?t[0].toUpperCase():Xs.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of t)e.anyOf.push({type:Object.values(Xs).includes(s.toUpperCase())?s.toUpperCase():Xs.TYPE_UNSPECIFIED})}}function oa(n){const e={},t=["items"],s=["anyOf"],o=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=n.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,n=l[1]):l[1].type==="null"&&(e.nullable=!0,n=l[0])),n.type instanceof Array&&u2(n.type,e);for(const[c,f]of Object.entries(n))if(f!=null)if(c=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(Xs).includes(f.toUpperCase())?f.toUpperCase():Xs.TYPE_UNSPECIFIED}else if(t.includes(c))e[c]=oa(f);else if(s.includes(c)){const m=[];for(const v of f){if(v.type=="null"){e.nullable=!0;continue}m.push(oa(v))}e[c]=m}else if(o.includes(c)){const m={};for(const[v,b]of Object.entries(f))m[v]=oa(b);e[c]=m}else{if(c==="additionalProperties")continue;e[c]=f}return e}function Km(n){return oa(n)}function Jm(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Wm(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Ca(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=oa(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=oa(e.response));return n}function Ia(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function c2(n,e,t,s=1){const o=!e.startsWith(`${t}/`)&&e.split("/").length===s;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:o?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:o?`${t}/${e}`:e}function hs(n,e){if(typeof e!="string")throw new Error("name must be a string");return c2(n,e,"cachedContents")}function h_(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function fr(n){return zm(n)}function d2(n){return n!=null&&typeof n=="object"&&"name"in n}function h2(n){return n!=null&&typeof n=="object"&&"video"in n}function f2(n){return n!=null&&typeof n=="object"&&"uri"in n}function f_(n){var e;let t;if(d2(n)&&(t=n.name),!(f2(n)&&(t=n.uri,t===void 0))&&!(h2(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const s=t.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${t}`);t=s[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function p_(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function m_(n){for(const e of["models","tunedModels","publisherModels"])if(p2(n,e))return n[e];return[]}function p2(n,e){return n!==null&&typeof n=="object"&&e in n}function m2(n,e={}){const t=n,s={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(s.responseJsonSchema=t.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function g2(n,e={}){const t=[],s=new Set;for(const o of n){const l=o.name;if(s.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);s.add(l);const c=m2(o,e);c.functionDeclarations&&t.push(...c.functionDeclarations)}return{functionDeclarations:t}}function g_(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const s=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,o=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(o>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function v2(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function v_(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const s=t.inlinedResponses;if(!Array.isArray(s)||s.length===0)return n;let o=!1;for(const l of s){if(typeof l!="object"||l===null)continue;const c=l.response;if(!(typeof c!="object"||c===null)&&c.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Aa(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function y_(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/function y2(n){const e={},t=d(n,["responsesFile"]);t!=null&&h(e,["fileName"],t);const s=d(n,["inlinedResponses","inlinedResponses"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>Z2(c))),h(e,["inlinedResponses"],l)}const o=d(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["inlinedEmbedContentResponses"],l)}return e}function b2(n){const e={},t=d(n,["predictionsFormat"]);t!=null&&h(e,["format"],t);const s=d(n,["gcsDestination","outputUriPrefix"]);s!=null&&h(e,["gcsUri"],s);const o=d(n,["bigqueryDestination","outputUri"]);return o!=null&&h(e,["bigqueryUri"],o),e}function w2(n){const e={},t=d(n,["format"]);t!=null&&h(e,["predictionsFormat"],t);const s=d(n,["gcsUri"]);s!=null&&h(e,["gcsDestination","outputUriPrefix"],s);const o=d(n,["bigqueryUri"]);if(o!=null&&h(e,["bigqueryDestination","outputUri"],o),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ld(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const s=d(n,["metadata","displayName"]);s!=null&&h(e,["displayName"],s);const o=d(n,["metadata","state"]);o!=null&&h(e,["state"],y_(o));const l=d(n,["metadata","createTime"]);l!=null&&h(e,["createTime"],l);const c=d(n,["metadata","endTime"]);c!=null&&h(e,["endTime"],c);const f=d(n,["metadata","updateTime"]);f!=null&&h(e,["updateTime"],f);const m=d(n,["metadata","model"]);m!=null&&h(e,["model"],m);const v=d(n,["metadata","output"]);return v!=null&&h(e,["dest"],y2(v_(v))),e}function Jp(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const s=d(n,["displayName"]);s!=null&&h(e,["displayName"],s);const o=d(n,["state"]);o!=null&&h(e,["state"],y_(o));const l=d(n,["error"]);l!=null&&h(e,["error"],l);const c=d(n,["createTime"]);c!=null&&h(e,["createTime"],c);const f=d(n,["startTime"]);f!=null&&h(e,["startTime"],f);const m=d(n,["endTime"]);m!=null&&h(e,["endTime"],m);const v=d(n,["updateTime"]);v!=null&&h(e,["updateTime"],v);const b=d(n,["model"]);b!=null&&h(e,["model"],b);const S=d(n,["inputConfig"]);S!=null&&h(e,["src"],S2(S));const _=d(n,["outputConfig"]);_!=null&&h(e,["dest"],b2(v_(_)));const k=d(n,["completionStats"]);return k!=null&&h(e,["completionStats"],k),e}function S2(n){const e={},t=d(n,["instancesFormat"]);t!=null&&h(e,["format"],t);const s=d(n,["gcsSource","uris"]);s!=null&&h(e,["gcsUri"],s);const o=d(n,["bigquerySource","inputUri"]);return o!=null&&h(e,["bigqueryUri"],o),e}function E2(n,e){const t={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=d(e,["fileName"]);s!=null&&h(t,["fileName"],s);const o=d(e,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Q2(n,c))),h(t,["requests","requests"],l)}return t}function T2(n){const e={},t=d(n,["format"]);t!=null&&h(e,["instancesFormat"],t);const s=d(n,["gcsUri"]);s!=null&&h(e,["gcsSource","uris"],s);const o=d(n,["bigqueryUri"]);if(o!=null&&h(e,["bigquerySource","inputUri"],o),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function _2(n){const e={},t=d(n,["data"]);if(t!=null&&h(e,["data"],t),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function C2(n,e){const t={},s=d(e,["name"]);return s!=null&&h(t,["_url","name"],Aa(n,s)),t}function I2(n,e){const t={},s=d(e,["name"]);return s!=null&&h(t,["_url","name"],Aa(n,s)),t}function A2(n){const e={},t=d(n,["content"]);t!=null&&h(e,["content"],t);const s=d(n,["citationMetadata"]);s!=null&&h(e,["citationMetadata"],N2(s));const o=d(n,["tokenCount"]);o!=null&&h(e,["tokenCount"],o);const l=d(n,["finishReason"]);l!=null&&h(e,["finishReason"],l);const c=d(n,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const f=d(n,["groundingMetadata"]);f!=null&&h(e,["groundingMetadata"],f);const m=d(n,["index"]);m!=null&&h(e,["index"],m);const v=d(n,["logprobsResult"]);v!=null&&h(e,["logprobsResult"],v);const b=d(n,["safetyRatings"]);if(b!=null){let _=b;Array.isArray(_)&&(_=_.map(k=>k)),h(e,["safetyRatings"],_)}const S=d(n,["urlContextMetadata"]);return S!=null&&h(e,["urlContextMetadata"],S),e}function N2(n){const e={},t=d(n,["citationSources"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(o=>o)),h(e,["citations"],s)}return e}function b_(n){const e={},t=d(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(l=>rD(l))),h(e,["parts"],o)}const s=d(n,["role"]);return s!=null&&h(e,["role"],s),e}function k2(n,e){const t={},s=d(n,["displayName"]);if(e!==void 0&&s!=null&&h(e,["batch","displayName"],s),d(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function O2(n,e){const t={},s=d(n,["displayName"]);e!==void 0&&s!=null&&h(e,["displayName"],s);const o=d(n,["dest"]);return e!==void 0&&o!=null&&h(e,["outputConfig"],w2(v2(o))),t}function gS(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["_url","model"],Ge(n,s));const o=d(e,["src"]);o!=null&&h(t,["batch","inputConfig"],E2(n,g_(n,o)));const l=d(e,["config"]);return l!=null&&k2(l,t),t}function x2(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["model"],Ge(n,s));const o=d(e,["src"]);o!=null&&h(t,["inputConfig"],T2(g_(n,o)));const l=d(e,["config"]);return l!=null&&O2(l,t),t}function R2(n,e){const t={},s=d(n,["displayName"]);return e!==void 0&&s!=null&&h(e,["batch","displayName"],s),t}function P2(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["_url","model"],Ge(n,s));const o=d(e,["src"]);o!=null&&h(t,["batch","inputConfig"],q2(n,o));const l=d(e,["config"]);return l!=null&&R2(l,t),t}function D2(n,e){const t={},s=d(e,["name"]);return s!=null&&h(t,["_url","name"],Aa(n,s)),t}function M2(n,e){const t={},s=d(e,["name"]);return s!=null&&h(t,["_url","name"],Aa(n,s)),t}function L2(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["name"]);s!=null&&h(e,["name"],s);const o=d(n,["done"]);o!=null&&h(e,["done"],o);const l=d(n,["error"]);return l!=null&&h(e,["error"],l),e}function U2(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["name"]);s!=null&&h(e,["name"],s);const o=d(n,["done"]);o!=null&&h(e,["done"],o);const l=d(n,["error"]);return l!=null&&h(e,["error"],l),e}function F2(n,e){const t={},s=d(e,["contents"]);if(s!=null){let l=$m(n,s);Array.isArray(l)&&(l=l.map(c=>c)),h(t,["requests[]","request","content"],l)}const o=d(e,["config"]);return o!=null&&(h(t,["_self"],j2(o,t)),MP(t,{"requests[].*":"requests[].request.*"})),t}function j2(n,e){const t={},s=d(n,["taskType"]);e!==void 0&&s!=null&&h(e,["requests[]","taskType"],s);const o=d(n,["title"]);e!==void 0&&o!=null&&h(e,["requests[]","title"],o);const l=d(n,["outputDimensionality"]);if(e!==void 0&&l!=null&&h(e,["requests[]","outputDimensionality"],l),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function q2(n,e){const t={},s=d(e,["fileName"]);s!=null&&h(t,["file_name"],s);const o=d(e,["inlinedRequests"]);return o!=null&&h(t,["requests"],F2(n,o)),t}function V2(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=d(n,["fileUri"]);t!=null&&h(e,["fileUri"],t);const s=d(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function H2(n){const e={},t=d(n,["id"]);t!=null&&h(e,["id"],t);const s=d(n,["args"]);s!=null&&h(e,["args"],s);const o=d(n,["name"]);if(o!=null&&h(e,["name"],o),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function z2(n){const e={},t=d(n,["mode"]);t!=null&&h(e,["mode"],t);const s=d(n,["allowedFunctionNames"]);if(s!=null&&h(e,["allowedFunctionNames"],s),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function B2(n,e,t){const s={},o=d(e,["systemInstruction"]);t!==void 0&&o!=null&&h(t,["systemInstruction"],b_(sn(o)));const l=d(e,["temperature"]);l!=null&&h(s,["temperature"],l);const c=d(e,["topP"]);c!=null&&h(s,["topP"],c);const f=d(e,["topK"]);f!=null&&h(s,["topK"],f);const m=d(e,["candidateCount"]);m!=null&&h(s,["candidateCount"],m);const v=d(e,["maxOutputTokens"]);v!=null&&h(s,["maxOutputTokens"],v);const b=d(e,["stopSequences"]);b!=null&&h(s,["stopSequences"],b);const S=d(e,["responseLogprobs"]);S!=null&&h(s,["responseLogprobs"],S);const _=d(e,["logprobs"]);_!=null&&h(s,["logprobs"],_);const k=d(e,["presencePenalty"]);k!=null&&h(s,["presencePenalty"],k);const H=d(e,["frequencyPenalty"]);H!=null&&h(s,["frequencyPenalty"],H);const L=d(e,["seed"]);L!=null&&h(s,["seed"],L);const V=d(e,["responseMimeType"]);V!=null&&h(s,["responseMimeType"],V);const K=d(e,["responseSchema"]);K!=null&&h(s,["responseSchema"],Km(K));const X=d(e,["responseJsonSchema"]);if(X!=null&&h(s,["responseJsonSchema"],X),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const se=d(e,["safetySettings"]);if(t!==void 0&&se!=null){let F=se;Array.isArray(F)&&(F=F.map(x=>oD(x))),h(t,["safetySettings"],F)}const oe=d(e,["tools"]);if(t!==void 0&&oe!=null){let F=Ia(oe);Array.isArray(F)&&(F=F.map(x=>lD(Ca(x)))),h(t,["tools"],F)}const pe=d(e,["toolConfig"]);if(t!==void 0&&pe!=null&&h(t,["toolConfig"],aD(pe)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ie=d(e,["cachedContent"]);t!==void 0&&ie!=null&&h(t,["cachedContent"],hs(n,ie));const O=d(e,["responseModalities"]);O!=null&&h(s,["responseModalities"],O);const A=d(e,["mediaResolution"]);A!=null&&h(s,["mediaResolution"],A);const N=d(e,["speechConfig"]);if(N!=null&&h(s,["speechConfig"],Jm(N)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=d(e,["thinkingConfig"]);M!=null&&h(s,["thinkingConfig"],M);const D=d(e,["imageConfig"]);return D!=null&&h(s,["imageConfig"],Y2(D)),s}function G2(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(v=>A2(v))),h(e,["candidates"],m)}const o=d(n,["modelVersion"]);o!=null&&h(e,["modelVersion"],o);const l=d(n,["promptFeedback"]);l!=null&&h(e,["promptFeedback"],l);const c=d(n,["responseId"]);c!=null&&h(e,["responseId"],c);const f=d(n,["usageMetadata"]);return f!=null&&h(e,["usageMetadata"],f),e}function $2(n,e){const t={},s=d(e,["name"]);return s!=null&&h(t,["_url","name"],Aa(n,s)),t}function K2(n,e){const t={},s=d(e,["name"]);return s!=null&&h(t,["_url","name"],Aa(n,s)),t}function J2(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=d(n,["enableWidget"]);return t!=null&&h(e,["enableWidget"],t),e}function W2(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=d(n,["timeRangeFilter"]);return t!=null&&h(e,["timeRangeFilter"],t),e}function Y2(n){const e={},t=d(n,["aspectRatio"]);t!=null&&h(e,["aspectRatio"],t);const s=d(n,["imageSize"]);if(s!=null&&h(e,["imageSize"],s),d(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Q2(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["request","model"],Ge(n,s));const o=d(e,["contents"]);if(o!=null){let f=qn(o);Array.isArray(f)&&(f=f.map(m=>b_(m))),h(t,["request","contents"],f)}const l=d(e,["metadata"]);l!=null&&h(t,["metadata"],l);const c=d(e,["config"]);return c!=null&&h(t,["request","generationConfig"],B2(n,c,d(t,["request"],{}))),t}function Z2(n){const e={},t=d(n,["response"]);t!=null&&h(e,["response"],G2(t));const s=d(n,["error"]);return s!=null&&h(e,["error"],s),e}function X2(n,e){const t={},s=d(n,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const o=d(n,["pageToken"]);if(e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),d(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function eD(n,e){const t={},s=d(n,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const o=d(n,["pageToken"]);e!==void 0&&o!=null&&h(e,["_query","pageToken"],o);const l=d(n,["filter"]);return e!==void 0&&l!=null&&h(e,["_query","filter"],l),t}function tD(n){const e={},t=d(n,["config"]);return t!=null&&X2(t,e),e}function nD(n){const e={},t=d(n,["config"]);return t!=null&&eD(t,e),e}function iD(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const o=d(n,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>ld(c))),h(e,["batchJobs"],l)}return e}function sD(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const o=d(n,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Jp(c))),h(e,["batchJobs"],l)}return e}function rD(n){const e={},t=d(n,["mediaResolution"]);t!=null&&h(e,["mediaResolution"],t);const s=d(n,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const o=d(n,["executableCode"]);o!=null&&h(e,["executableCode"],o);const l=d(n,["fileData"]);l!=null&&h(e,["fileData"],V2(l));const c=d(n,["functionCall"]);c!=null&&h(e,["functionCall"],H2(c));const f=d(n,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(n,["inlineData"]);m!=null&&h(e,["inlineData"],_2(m));const v=d(n,["text"]);v!=null&&h(e,["text"],v);const b=d(n,["thought"]);b!=null&&h(e,["thought"],b);const S=d(n,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const _=d(n,["videoMetadata"]);return _!=null&&h(e,["videoMetadata"],_),e}function oD(n){const e={},t=d(n,["category"]);if(t!=null&&h(e,["category"],t),d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(n,["threshold"]);return s!=null&&h(e,["threshold"],s),e}function aD(n){const e={},t=d(n,["functionCallingConfig"]);t!=null&&h(e,["functionCallingConfig"],z2(t));const s=d(n,["retrievalConfig"]);return s!=null&&h(e,["retrievalConfig"],s),e}function lD(n){const e={},t=d(n,["functionDeclarations"]);if(t!=null){let b=t;Array.isArray(b)&&(b=b.map(S=>S)),h(e,["functionDeclarations"],b)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=d(n,["googleSearchRetrieval"]);s!=null&&h(e,["googleSearchRetrieval"],s);const o=d(n,["computerUse"]);o!=null&&h(e,["computerUse"],o);const l=d(n,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(n,["googleMaps"]);f!=null&&h(e,["googleMaps"],J2(f));const m=d(n,["googleSearch"]);m!=null&&h(e,["googleSearch"],W2(m));const v=d(n,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/var us;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(us||(us={}));class so{constructor(e,t,s,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,s,o)}init(e,t,s){var o,l;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!s||Object.keys(s).length===0?c={config:{}}:typeof s=="object"?c=Object.assign({},s):c=s,c.config&&(c.config.pageToken=t.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(o=c.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/class uD extends ds{constructor(e){super(),this.apiClient=e,this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)},this.list=async(t={})=>new so(us.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(t),t)}createInlinedGenerateContentRequest(e){const t=gS(this.apiClient,e),s=t._url,o=ce("{model}:batchGenerateContent",s),l=t.batch.inputConfig.requests,c=l.requests,f=[];for(const m of c){const v=Object.assign({},m);if(v.systemInstruction){const b=v.systemInstruction;delete v.systemInstruction;const S=v.request;S.systemInstruction=b,v.request=S}f.push(v)}return l.requests=f,delete t.config,delete t._url,delete t._query,{path:o,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const s=t?Object.assign({},t):{},o=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${o}`),s.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?s.dest=`${l.slice(0,-6)}/dest`:s.dest=`${l}_dest_${o}`;else if(c)s.dest=`${c}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=x2(this.apiClient,e);return f=ce("batchPredictionJobs",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),c.then(b=>Jp(b))}else{const v=gS(this.apiClient,e);return f=ce("{model}:batchGenerateContent",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),c.then(b=>ld(b))}}async createEmbeddingsInternal(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=P2(this.apiClient,e);return l=ce("{model}:asyncBatchEmbedContent",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>ld(m))}}async get(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=K2(this.apiClient,e);return f=ce("batchPredictionJobs/{name}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),c.then(b=>Jp(b))}else{const v=$2(this.apiClient,e);return f=ce("batches/{name}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),c.then(b=>ld(b))}}async cancel(e){var t,s,o,l;let c="",f={};if(this.apiClient.isVertexAI()){const m=I2(this.apiClient,e);c=ce("batchPredictionJobs/{name}:cancel",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const m=C2(this.apiClient,e);c=ce("batches/{name}:cancel",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=nD(e);return f=ce("batchPredictionJobs",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=sD(b),_=new hS;return Object.assign(_,S),_})}else{const v=tD(e);return f=ce("batches",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=iD(b),_=new hS;return Object.assign(_,S),_})}}async delete(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=M2(this.apiClient,e);return f=ce("batchPredictionJobs/{name}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>U2(b))}else{const v=D2(this.apiClient,e);return f=ce("batches/{name}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>L2(b))}}}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/function cD(n){const e={},t=d(n,["data"]);if(t!=null&&h(e,["data"],t),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function vS(n){const e={},t=d(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(l=>PD(l))),h(e,["parts"],o)}const s=d(n,["role"]);return s!=null&&h(e,["role"],s),e}function dD(n,e){const t={},s=d(n,["ttl"]);e!==void 0&&s!=null&&h(e,["ttl"],s);const o=d(n,["expireTime"]);e!==void 0&&o!=null&&h(e,["expireTime"],o);const l=d(n,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const c=d(n,["contents"]);if(e!==void 0&&c!=null){let b=qn(c);Array.isArray(b)&&(b=b.map(S=>vS(S))),h(e,["contents"],b)}const f=d(n,["systemInstruction"]);e!==void 0&&f!=null&&h(e,["systemInstruction"],vS(sn(f)));const m=d(n,["tools"]);if(e!==void 0&&m!=null){let b=m;Array.isArray(b)&&(b=b.map(S=>MD(S))),h(e,["tools"],b)}const v=d(n,["toolConfig"]);if(e!==void 0&&v!=null&&h(e,["toolConfig"],DD(v)),d(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function hD(n,e){const t={},s=d(n,["ttl"]);e!==void 0&&s!=null&&h(e,["ttl"],s);const o=d(n,["expireTime"]);e!==void 0&&o!=null&&h(e,["expireTime"],o);const l=d(n,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const c=d(n,["contents"]);if(e!==void 0&&c!=null){let S=qn(c);Array.isArray(S)&&(S=S.map(_=>_)),h(e,["contents"],S)}const f=d(n,["systemInstruction"]);e!==void 0&&f!=null&&h(e,["systemInstruction"],sn(f));const m=d(n,["tools"]);if(e!==void 0&&m!=null){let S=m;Array.isArray(S)&&(S=S.map(_=>LD(_))),h(e,["tools"],S)}const v=d(n,["toolConfig"]);e!==void 0&&v!=null&&h(e,["toolConfig"],v);const b=d(n,["kmsKeyName"]);return e!==void 0&&b!=null&&h(e,["encryption_spec","kmsKeyName"],b),t}function fD(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["model"],a_(n,s));const o=d(e,["config"]);return o!=null&&dD(o,t),t}function pD(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["model"],a_(n,s));const o=d(e,["config"]);return o!=null&&hD(o,t),t}function mD(n,e){const t={},s=d(e,["name"]);return s!=null&&h(t,["_url","name"],hs(n,s)),t}function gD(n,e){const t={},s=d(e,["name"]);return s!=null&&h(t,["_url","name"],hs(n,s)),t}function vD(n){const e={},t=d(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}function yD(n){const e={},t=d(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}function bD(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=d(n,["fileUri"]);t!=null&&h(e,["fileUri"],t);const s=d(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function wD(n){const e={},t=d(n,["id"]);t!=null&&h(e,["id"],t);const s=d(n,["args"]);s!=null&&h(e,["args"],s);const o=d(n,["name"]);if(o!=null&&h(e,["name"],o),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function SD(n){const e={},t=d(n,["mode"]);t!=null&&h(e,["mode"],t);const s=d(n,["allowedFunctionNames"]);if(s!=null&&h(e,["allowedFunctionNames"],s),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ED(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=d(n,["description"]);t!=null&&h(e,["description"],t);const s=d(n,["name"]);s!=null&&h(e,["name"],s);const o=d(n,["parameters"]);o!=null&&h(e,["parameters"],o);const l=d(n,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&h(e,["response"],c);const f=d(n,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function TD(n,e){const t={},s=d(e,["name"]);return s!=null&&h(t,["_url","name"],hs(n,s)),t}function _D(n,e){const t={},s=d(e,["name"]);return s!=null&&h(t,["_url","name"],hs(n,s)),t}function CD(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=d(n,["enableWidget"]);return t!=null&&h(e,["enableWidget"],t),e}function ID(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=d(n,["timeRangeFilter"]);return t!=null&&h(e,["timeRangeFilter"],t),e}function AD(n,e){const t={},s=d(n,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const o=d(n,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),t}function ND(n,e){const t={},s=d(n,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const o=d(n,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),t}function kD(n){const e={},t=d(n,["config"]);return t!=null&&AD(t,e),e}function OD(n){const e={},t=d(n,["config"]);return t!=null&&ND(t,e),e}function xD(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const o=d(n,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["cachedContents"],l)}return e}function RD(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const o=d(n,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["cachedContents"],l)}return e}function PD(n){const e={},t=d(n,["mediaResolution"]);t!=null&&h(e,["mediaResolution"],t);const s=d(n,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const o=d(n,["executableCode"]);o!=null&&h(e,["executableCode"],o);const l=d(n,["fileData"]);l!=null&&h(e,["fileData"],bD(l));const c=d(n,["functionCall"]);c!=null&&h(e,["functionCall"],wD(c));const f=d(n,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(n,["inlineData"]);m!=null&&h(e,["inlineData"],cD(m));const v=d(n,["text"]);v!=null&&h(e,["text"],v);const b=d(n,["thought"]);b!=null&&h(e,["thought"],b);const S=d(n,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const _=d(n,["videoMetadata"]);return _!=null&&h(e,["videoMetadata"],_),e}function DD(n){const e={},t=d(n,["functionCallingConfig"]);t!=null&&h(e,["functionCallingConfig"],SD(t));const s=d(n,["retrievalConfig"]);return s!=null&&h(e,["retrievalConfig"],s),e}function MD(n){const e={},t=d(n,["functionDeclarations"]);if(t!=null){let b=t;Array.isArray(b)&&(b=b.map(S=>S)),h(e,["functionDeclarations"],b)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=d(n,["googleSearchRetrieval"]);s!=null&&h(e,["googleSearchRetrieval"],s);const o=d(n,["computerUse"]);o!=null&&h(e,["computerUse"],o);const l=d(n,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(n,["googleMaps"]);f!=null&&h(e,["googleMaps"],CD(f));const m=d(n,["googleSearch"]);m!=null&&h(e,["googleSearch"],ID(m));const v=d(n,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}function LD(n){const e={},t=d(n,["functionDeclarations"]);if(t!=null){let S=t;Array.isArray(S)&&(S=S.map(_=>ED(_))),h(e,["functionDeclarations"],S)}const s=d(n,["retrieval"]);s!=null&&h(e,["retrieval"],s);const o=d(n,["googleSearchRetrieval"]);o!=null&&h(e,["googleSearchRetrieval"],o);const l=d(n,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(n,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const f=d(n,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const m=d(n,["googleMaps"]);m!=null&&h(e,["googleMaps"],m);const v=d(n,["googleSearch"]);v!=null&&h(e,["googleSearch"],v);const b=d(n,["urlContext"]);return b!=null&&h(e,["urlContext"],b),e}function UD(n,e){const t={},s=d(n,["ttl"]);e!==void 0&&s!=null&&h(e,["ttl"],s);const o=d(n,["expireTime"]);return e!==void 0&&o!=null&&h(e,["expireTime"],o),t}function FD(n,e){const t={},s=d(n,["ttl"]);e!==void 0&&s!=null&&h(e,["ttl"],s);const o=d(n,["expireTime"]);return e!==void 0&&o!=null&&h(e,["expireTime"],o),t}function jD(n,e){const t={},s=d(e,["name"]);s!=null&&h(t,["_url","name"],hs(n,s));const o=d(e,["config"]);return o!=null&&UD(o,t),t}function qD(n,e){const t={},s=d(e,["name"]);s!=null&&h(t,["_url","name"],hs(n,s));const o=d(e,["config"]);return o!=null&&FD(o,t),t}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/class VD extends ds{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new so(us.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(t),t)}async create(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=pD(this.apiClient,e);return f=ce("cachedContents",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),c.then(b=>b)}else{const v=fD(this.apiClient,e);return f=ce("cachedContents",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),c.then(b=>b)}}async get(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=_D(this.apiClient,e);return f=ce("{name}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),c.then(b=>b)}else{const v=TD(this.apiClient,e);return f=ce("{name}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),c.then(b=>b)}}async delete(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=gD(this.apiClient,e);return f=ce("{name}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=yD(b),_=new cS;return Object.assign(_,S),_})}else{const v=mD(this.apiClient,e);return f=ce("{name}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=vD(b),_=new cS;return Object.assign(_,S),_})}}async update(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=qD(this.apiClient,e);return f=ce("{name}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),c.then(b=>b)}else{const v=jD(this.apiClient,e);return f=ce("{name}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),c.then(b=>b)}}async listInternal(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=OD(e);return f=ce("cachedContents",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=RD(b),_=new dS;return Object.assign(_,S),_})}else{const v=kD(e);return f=ce("cachedContents",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=xD(b),_=new dS;return Object.assign(_,S),_})}}}function yS(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],s=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function at(n){return this instanceof at?(this.v=n,this):new at(n)}function aa(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(n,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(k){return function(H){return Promise.resolve(H).then(k,S)}}function f(k,H){s[k]&&(o[k]=function(L){return new Promise(function(V,K){l.push([k,L,V,K])>1||m(k,L)})},H&&(o[k]=H(o[k])))}function m(k,H){try{v(s[k](H))}catch(L){_(l[0][3],L)}}function v(k){k.value instanceof at?Promise.resolve(k.value.v).then(b,S):_(l[0][2],k)}function b(k){m("next",k)}function S(k){m("throw",k)}function _(k,H){k(H),l.shift(),l.length&&m(l[0][0],l[0][1])}}function Wl(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof yS=="function"?yS(n):n[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(l){t[l]=n[l]&&function(c){return new Promise(function(f,m){c=n[l](c),o(f,m,c.done,c.value)})}}function o(l,c,f,m){Promise.resolve(m).then(function(v){l({value:v,done:f})},c)}}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/function HD(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:w_(t)}function w_(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function zD(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function bS(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let s=0;for(;s<t;)if(n[s].role==="user")e.push(n[s]),s++;else{const o=[];let l=!0;for(;s<t&&n[s].role==="model";)o.push(n[s]),l&&!w_(n[s])&&(l=!1),s++;l?e.push(...o):e.pop()}return e}class BD{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new GD(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class GD{constructor(e,t,s,o={},l=[]){this.apiClient=e,this.modelsModule=t,this.model=s,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),zD(l)}async sendMessage(e){var t;await this.sendPromise;const s=sn(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var l,c,f;const m=await o,v=(c=(l=m.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,b=m.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let _=[];b!=null&&(_=(f=b.slice(S))!==null&&f!==void 0?f:[]);const k=v?[v]:[];this.recordHistory(s,k,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var t;await this.sendPromise;const s=sn(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,s)}getHistory(e=!1){const t=e?bS(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var s,o;return aa(this,arguments,function*(){var l,c,f,m;const v=[];try{for(var b=!0,S=Wl(e),_;_=yield at(S.next()),l=_.done,!l;b=!0){m=_.value,b=!1;const k=m;if(HD(k)){const H=(o=(s=k.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content;H!==void 0&&v.push(H)}yield yield at(k)}}catch(k){c={error:k}}finally{try{!b&&!l&&(f=S.return)&&(yield at(f.call(S)))}finally{if(c)throw c.error}}this.recordHistory(t,v)})}recordHistory(e,t,s){let o=[];t.length>0&&t.every(l=>l.role!==void 0)?o=t:o.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...bS(s)):this.history.push(e),this.history.push(...o)}}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/class eh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,eh.prototype)}}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/function $D(n){const e={},t=d(n,["file"]);return t!=null&&h(e,["file"],t),e}function KD(n){const e={},t=d(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}function JD(n){const e={},t=d(n,["name"]);return t!=null&&h(e,["_url","file"],f_(t)),e}function WD(n){const e={},t=d(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}function YD(n){const e={},t=d(n,["name"]);return t!=null&&h(e,["_url","file"],f_(t)),e}function QD(n,e){const t={},s=d(n,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const o=d(n,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),t}function ZD(n){const e={},t=d(n,["config"]);return t!=null&&QD(t,e),e}function XD(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const o=d(n,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["files"],l)}return e}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/class eM extends ds{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new so(us.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=ZD(e);return l=ce("files",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=XD(m),b=new s2;return Object.assign(b,v),b})}}async createInternal(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=$D(e);return l=ce("upload/v1beta/files",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>{const v=KD(m),b=new r2;return Object.assign(b,v),b})}}async get(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=YD(e);return l=ce("files/{file}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>m)}}async delete(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=JD(e);return l=ce("files/{file}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=WD(m),b=new o2;return Object.assign(b,v),b})}}}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/function ud(n){const e={},t=d(n,["data"]);if(t!=null&&h(e,["data"],t),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function tM(n){const e={},t=d(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(l=>vM(l))),h(e,["parts"],o)}const s=d(n,["role"]);return s!=null&&h(e,["role"],s),e}function nM(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=d(n,["fileUri"]);t!=null&&h(e,["fileUri"],t);const s=d(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function iM(n){const e={},t=d(n,["id"]);t!=null&&h(e,["id"],t);const s=d(n,["args"]);s!=null&&h(e,["args"],s);const o=d(n,["name"]);if(o!=null&&h(e,["name"],o),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sM(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=d(n,["description"]);t!=null&&h(e,["description"],t);const s=d(n,["name"]);s!=null&&h(e,["name"],s);const o=d(n,["parameters"]);o!=null&&h(e,["parameters"],o);const l=d(n,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&h(e,["response"],c);const f=d(n,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function rM(n){const e={},t=d(n,["modelSelectionConfig"]);t!=null&&h(e,["modelConfig"],t);const s=d(n,["responseJsonSchema"]);s!=null&&h(e,["responseJsonSchema"],s);const o=d(n,["audioTimestamp"]);o!=null&&h(e,["audioTimestamp"],o);const l=d(n,["candidateCount"]);l!=null&&h(e,["candidateCount"],l);const c=d(n,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const f=d(n,["frequencyPenalty"]);f!=null&&h(e,["frequencyPenalty"],f);const m=d(n,["logprobs"]);m!=null&&h(e,["logprobs"],m);const v=d(n,["maxOutputTokens"]);v!=null&&h(e,["maxOutputTokens"],v);const b=d(n,["mediaResolution"]);b!=null&&h(e,["mediaResolution"],b);const S=d(n,["presencePenalty"]);S!=null&&h(e,["presencePenalty"],S);const _=d(n,["responseLogprobs"]);_!=null&&h(e,["responseLogprobs"],_);const k=d(n,["responseMimeType"]);k!=null&&h(e,["responseMimeType"],k);const H=d(n,["responseModalities"]);H!=null&&h(e,["responseModalities"],H);const L=d(n,["responseSchema"]);L!=null&&h(e,["responseSchema"],L);const V=d(n,["routingConfig"]);V!=null&&h(e,["routingConfig"],V);const K=d(n,["seed"]);K!=null&&h(e,["seed"],K);const X=d(n,["speechConfig"]);X!=null&&h(e,["speechConfig"],S_(X));const se=d(n,["stopSequences"]);se!=null&&h(e,["stopSequences"],se);const oe=d(n,["temperature"]);oe!=null&&h(e,["temperature"],oe);const pe=d(n,["thinkingConfig"]);pe!=null&&h(e,["thinkingConfig"],pe);const ie=d(n,["topK"]);ie!=null&&h(e,["topK"],ie);const O=d(n,["topP"]);if(O!=null&&h(e,["topP"],O),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function oM(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=d(n,["enableWidget"]);return t!=null&&h(e,["enableWidget"],t),e}function aM(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=d(n,["timeRangeFilter"]);return t!=null&&h(e,["timeRangeFilter"],t),e}function lM(n,e){const t={},s=d(n,["generationConfig"]);e!==void 0&&s!=null&&h(e,["setup","generationConfig"],s);const o=d(n,["responseModalities"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","responseModalities"],o);const l=d(n,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(n,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const m=d(n,["maxOutputTokens"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","maxOutputTokens"],m);const v=d(n,["mediaResolution"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","mediaResolution"],v);const b=d(n,["seed"]);e!==void 0&&b!=null&&h(e,["setup","generationConfig","seed"],b);const S=d(n,["speechConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","speechConfig"],Wm(S));const _=d(n,["thinkingConfig"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","thinkingConfig"],_);const k=d(n,["enableAffectiveDialog"]);e!==void 0&&k!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],k);const H=d(n,["systemInstruction"]);e!==void 0&&H!=null&&h(e,["setup","systemInstruction"],tM(sn(H)));const L=d(n,["tools"]);if(e!==void 0&&L!=null){let ie=Ia(L);Array.isArray(ie)&&(ie=ie.map(O=>bM(Ca(O)))),h(e,["setup","tools"],ie)}const V=d(n,["sessionResumption"]);e!==void 0&&V!=null&&h(e,["setup","sessionResumption"],yM(V));const K=d(n,["inputAudioTranscription"]);e!==void 0&&K!=null&&h(e,["setup","inputAudioTranscription"],K);const X=d(n,["outputAudioTranscription"]);e!==void 0&&X!=null&&h(e,["setup","outputAudioTranscription"],X);const se=d(n,["realtimeInputConfig"]);e!==void 0&&se!=null&&h(e,["setup","realtimeInputConfig"],se);const oe=d(n,["contextWindowCompression"]);e!==void 0&&oe!=null&&h(e,["setup","contextWindowCompression"],oe);const pe=d(n,["proactivity"]);return e!==void 0&&pe!=null&&h(e,["setup","proactivity"],pe),t}function uM(n,e){const t={},s=d(n,["generationConfig"]);e!==void 0&&s!=null&&h(e,["setup","generationConfig"],rM(s));const o=d(n,["responseModalities"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","responseModalities"],o);const l=d(n,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(n,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const m=d(n,["maxOutputTokens"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","maxOutputTokens"],m);const v=d(n,["mediaResolution"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","mediaResolution"],v);const b=d(n,["seed"]);e!==void 0&&b!=null&&h(e,["setup","generationConfig","seed"],b);const S=d(n,["speechConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","speechConfig"],S_(Wm(S)));const _=d(n,["thinkingConfig"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","thinkingConfig"],_);const k=d(n,["enableAffectiveDialog"]);e!==void 0&&k!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],k);const H=d(n,["systemInstruction"]);e!==void 0&&H!=null&&h(e,["setup","systemInstruction"],sn(H));const L=d(n,["tools"]);if(e!==void 0&&L!=null){let ie=Ia(L);Array.isArray(ie)&&(ie=ie.map(O=>wM(Ca(O)))),h(e,["setup","tools"],ie)}const V=d(n,["sessionResumption"]);e!==void 0&&V!=null&&h(e,["setup","sessionResumption"],V);const K=d(n,["inputAudioTranscription"]);e!==void 0&&K!=null&&h(e,["setup","inputAudioTranscription"],K);const X=d(n,["outputAudioTranscription"]);e!==void 0&&X!=null&&h(e,["setup","outputAudioTranscription"],X);const se=d(n,["realtimeInputConfig"]);e!==void 0&&se!=null&&h(e,["setup","realtimeInputConfig"],se);const oe=d(n,["contextWindowCompression"]);e!==void 0&&oe!=null&&h(e,["setup","contextWindowCompression"],oe);const pe=d(n,["proactivity"]);return e!==void 0&&pe!=null&&h(e,["setup","proactivity"],pe),t}function cM(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["setup","model"],Ge(n,s));const o=d(e,["config"]);return o!=null&&h(t,["config"],lM(o,t)),t}function dM(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["setup","model"],Ge(n,s));const o=d(e,["config"]);return o!=null&&h(t,["config"],uM(o,t)),t}function hM(n){const e={},t=d(n,["musicGenerationConfig"]);return t!=null&&h(e,["musicGenerationConfig"],t),e}function fM(n){const e={},t=d(n,["weightedPrompts"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(o=>o)),h(e,["weightedPrompts"],s)}return e}function pM(n){const e={},t=d(n,["media"]);if(t!=null){let v=l_(t);Array.isArray(v)&&(v=v.map(b=>ud(b))),h(e,["mediaChunks"],v)}const s=d(n,["audio"]);s!=null&&h(e,["audio"],ud(c_(s)));const o=d(n,["audioStreamEnd"]);o!=null&&h(e,["audioStreamEnd"],o);const l=d(n,["video"]);l!=null&&h(e,["video"],ud(u_(l)));const c=d(n,["text"]);c!=null&&h(e,["text"],c);const f=d(n,["activityStart"]);f!=null&&h(e,["activityStart"],f);const m=d(n,["activityEnd"]);return m!=null&&h(e,["activityEnd"],m),e}function mM(n){const e={},t=d(n,["media"]);if(t!=null){let v=l_(t);Array.isArray(v)&&(v=v.map(b=>b)),h(e,["mediaChunks"],v)}const s=d(n,["audio"]);s!=null&&h(e,["audio"],c_(s));const o=d(n,["audioStreamEnd"]);o!=null&&h(e,["audioStreamEnd"],o);const l=d(n,["video"]);l!=null&&h(e,["video"],u_(l));const c=d(n,["text"]);c!=null&&h(e,["text"],c);const f=d(n,["activityStart"]);f!=null&&h(e,["activityStart"],f);const m=d(n,["activityEnd"]);return m!=null&&h(e,["activityEnd"],m),e}function gM(n){const e={},t=d(n,["setupComplete"]);t!=null&&h(e,["setupComplete"],t);const s=d(n,["serverContent"]);s!=null&&h(e,["serverContent"],s);const o=d(n,["toolCall"]);o!=null&&h(e,["toolCall"],o);const l=d(n,["toolCallCancellation"]);l!=null&&h(e,["toolCallCancellation"],l);const c=d(n,["usageMetadata"]);c!=null&&h(e,["usageMetadata"],SM(c));const f=d(n,["goAway"]);f!=null&&h(e,["goAway"],f);const m=d(n,["sessionResumptionUpdate"]);return m!=null&&h(e,["sessionResumptionUpdate"],m),e}function vM(n){const e={},t=d(n,["mediaResolution"]);t!=null&&h(e,["mediaResolution"],t);const s=d(n,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const o=d(n,["executableCode"]);o!=null&&h(e,["executableCode"],o);const l=d(n,["fileData"]);l!=null&&h(e,["fileData"],nM(l));const c=d(n,["functionCall"]);c!=null&&h(e,["functionCall"],iM(c));const f=d(n,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(n,["inlineData"]);m!=null&&h(e,["inlineData"],ud(m));const v=d(n,["text"]);v!=null&&h(e,["text"],v);const b=d(n,["thought"]);b!=null&&h(e,["thought"],b);const S=d(n,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const _=d(n,["videoMetadata"]);return _!=null&&h(e,["videoMetadata"],_),e}function yM(n){const e={},t=d(n,["handle"]);if(t!=null&&h(e,["handle"],t),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function S_(n){const e={},t=d(n,["languageCode"]);t!=null&&h(e,["languageCode"],t);const s=d(n,["voiceConfig"]);if(s!=null&&h(e,["voiceConfig"],s),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function bM(n){const e={},t=d(n,["functionDeclarations"]);if(t!=null){let b=t;Array.isArray(b)&&(b=b.map(S=>S)),h(e,["functionDeclarations"],b)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=d(n,["googleSearchRetrieval"]);s!=null&&h(e,["googleSearchRetrieval"],s);const o=d(n,["computerUse"]);o!=null&&h(e,["computerUse"],o);const l=d(n,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(n,["googleMaps"]);f!=null&&h(e,["googleMaps"],oM(f));const m=d(n,["googleSearch"]);m!=null&&h(e,["googleSearch"],aM(m));const v=d(n,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}function wM(n){const e={},t=d(n,["functionDeclarations"]);if(t!=null){let S=t;Array.isArray(S)&&(S=S.map(_=>sM(_))),h(e,["functionDeclarations"],S)}const s=d(n,["retrieval"]);s!=null&&h(e,["retrieval"],s);const o=d(n,["googleSearchRetrieval"]);o!=null&&h(e,["googleSearchRetrieval"],o);const l=d(n,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(n,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const f=d(n,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const m=d(n,["googleMaps"]);m!=null&&h(e,["googleMaps"],m);const v=d(n,["googleSearch"]);v!=null&&h(e,["googleSearch"],v);const b=d(n,["urlContext"]);return b!=null&&h(e,["urlContext"],b),e}function SM(n){const e={},t=d(n,["promptTokenCount"]);t!=null&&h(e,["promptTokenCount"],t);const s=d(n,["cachedContentTokenCount"]);s!=null&&h(e,["cachedContentTokenCount"],s);const o=d(n,["candidatesTokenCount"]);o!=null&&h(e,["responseTokenCount"],o);const l=d(n,["toolUsePromptTokenCount"]);l!=null&&h(e,["toolUsePromptTokenCount"],l);const c=d(n,["thoughtsTokenCount"]);c!=null&&h(e,["thoughtsTokenCount"],c);const f=d(n,["totalTokenCount"]);f!=null&&h(e,["totalTokenCount"],f);const m=d(n,["promptTokensDetails"]);if(m!=null){let k=m;Array.isArray(k)&&(k=k.map(H=>H)),h(e,["promptTokensDetails"],k)}const v=d(n,["cacheTokensDetails"]);if(v!=null){let k=v;Array.isArray(k)&&(k=k.map(H=>H)),h(e,["cacheTokensDetails"],k)}const b=d(n,["candidatesTokensDetails"]);if(b!=null){let k=b;Array.isArray(k)&&(k=k.map(H=>H)),h(e,["responseTokensDetails"],k)}const S=d(n,["toolUsePromptTokensDetails"]);if(S!=null){let k=S;Array.isArray(k)&&(k=k.map(H=>H)),h(e,["toolUsePromptTokensDetails"],k)}const _=d(n,["trafficType"]);return _!=null&&h(e,["trafficType"],_),e}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/function EM(n){const e={},t=d(n,["data"]);if(t!=null&&h(e,["data"],t),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function TM(n){const e={},t=d(n,["content"]);t!=null&&h(e,["content"],t);const s=d(n,["citationMetadata"]);s!=null&&h(e,["citationMetadata"],_M(s));const o=d(n,["tokenCount"]);o!=null&&h(e,["tokenCount"],o);const l=d(n,["finishReason"]);l!=null&&h(e,["finishReason"],l);const c=d(n,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const f=d(n,["groundingMetadata"]);f!=null&&h(e,["groundingMetadata"],f);const m=d(n,["index"]);m!=null&&h(e,["index"],m);const v=d(n,["logprobsResult"]);v!=null&&h(e,["logprobsResult"],v);const b=d(n,["safetyRatings"]);if(b!=null){let _=b;Array.isArray(_)&&(_=_.map(k=>k)),h(e,["safetyRatings"],_)}const S=d(n,["urlContextMetadata"]);return S!=null&&h(e,["urlContextMetadata"],S),e}function _M(n){const e={},t=d(n,["citationSources"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(o=>o)),h(e,["citations"],s)}return e}function CM(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["_url","model"],Ge(n,s));const o=d(e,["contents"]);if(o!=null){let l=qn(o);Array.isArray(l)&&(l=l.map(c=>c)),h(t,["contents"],l)}return t}function IM(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["tokensInfo"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),h(e,["tokensInfo"],o)}return e}function AM(n){const e={},t=d(n,["values"]);t!=null&&h(e,["values"],t);const s=d(n,["statistics"]);return s!=null&&h(e,["statistics"],NM(s)),e}function NM(n){const e={},t=d(n,["truncated"]);t!=null&&h(e,["truncated"],t);const s=d(n,["token_count"]);return s!=null&&h(e,["tokenCount"],s),e}function th(n){const e={},t=d(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(l=>UL(l))),h(e,["parts"],o)}const s=d(n,["role"]);return s!=null&&h(e,["role"],s),e}function kM(n){const e={},t=d(n,["controlType"]);t!=null&&h(e,["controlType"],t);const s=d(n,["enableControlImageComputation"]);return s!=null&&h(e,["computeControl"],s),e}function OM(n){const e={};if(d(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function xM(n,e){const t={},s=d(n,["systemInstruction"]);e!==void 0&&s!=null&&h(e,["systemInstruction"],sn(s));const o=d(n,["tools"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>I_(f))),h(e,["tools"],c)}const l=d(n,["generationConfig"]);return e!==void 0&&l!=null&&h(e,["generationConfig"],EL(l)),t}function RM(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["_url","model"],Ge(n,s));const o=d(e,["contents"]);if(o!=null){let c=qn(o);Array.isArray(c)&&(c=c.map(f=>th(f))),h(t,["contents"],c)}const l=d(e,["config"]);return l!=null&&OM(l),t}function PM(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["_url","model"],Ge(n,s));const o=d(e,["contents"]);if(o!=null){let c=qn(o);Array.isArray(c)&&(c=c.map(f=>f)),h(t,["contents"],c)}const l=d(e,["config"]);return l!=null&&xM(l,t),t}function DM(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["totalTokens"]);s!=null&&h(e,["totalTokens"],s);const o=d(n,["cachedContentTokenCount"]);return o!=null&&h(e,["cachedContentTokenCount"],o),e}function MM(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["totalTokens"]);return s!=null&&h(e,["totalTokens"],s),e}function LM(n,e){const t={},s=d(e,["model"]);return s!=null&&h(t,["_url","name"],Ge(n,s)),t}function UM(n,e){const t={},s=d(e,["model"]);return s!=null&&h(t,["_url","name"],Ge(n,s)),t}function FM(n){const e={},t=d(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}function jM(n){const e={},t=d(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}function qM(n,e){const t={},s=d(n,["outputGcsUri"]);e!==void 0&&s!=null&&h(e,["parameters","storageUri"],s);const o=d(n,["negativePrompt"]);e!==void 0&&o!=null&&h(e,["parameters","negativePrompt"],o);const l=d(n,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const c=d(n,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const f=d(n,["guidanceScale"]);e!==void 0&&f!=null&&h(e,["parameters","guidanceScale"],f);const m=d(n,["seed"]);e!==void 0&&m!=null&&h(e,["parameters","seed"],m);const v=d(n,["safetyFilterLevel"]);e!==void 0&&v!=null&&h(e,["parameters","safetySetting"],v);const b=d(n,["personGeneration"]);e!==void 0&&b!=null&&h(e,["parameters","personGeneration"],b);const S=d(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&h(e,["parameters","includeSafetyAttributes"],S);const _=d(n,["includeRaiReason"]);e!==void 0&&_!=null&&h(e,["parameters","includeRaiReason"],_);const k=d(n,["language"]);e!==void 0&&k!=null&&h(e,["parameters","language"],k);const H=d(n,["outputMimeType"]);e!==void 0&&H!=null&&h(e,["parameters","outputOptions","mimeType"],H);const L=d(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&h(e,["parameters","outputOptions","compressionQuality"],L);const V=d(n,["addWatermark"]);e!==void 0&&V!=null&&h(e,["parameters","addWatermark"],V);const K=d(n,["labels"]);e!==void 0&&K!=null&&h(e,["labels"],K);const X=d(n,["editMode"]);e!==void 0&&X!=null&&h(e,["parameters","editMode"],X);const se=d(n,["baseSteps"]);return e!==void 0&&se!=null&&h(e,["parameters","editConfig","baseSteps"],se),t}function VM(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["_url","model"],Ge(n,s));const o=d(e,["prompt"]);o!=null&&h(t,["instances[0]","prompt"],o);const l=d(e,["referenceImages"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>zL(m))),h(t,["instances[0]","referenceImages"],f)}const c=d(e,["config"]);return c!=null&&qM(c,t),t}function HM(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>nh(l))),h(e,["generatedImages"],o)}return e}function zM(n,e){const t={},s=d(n,["taskType"]);e!==void 0&&s!=null&&h(e,["requests[]","taskType"],s);const o=d(n,["title"]);e!==void 0&&o!=null&&h(e,["requests[]","title"],o);const l=d(n,["outputDimensionality"]);if(e!==void 0&&l!=null&&h(e,["requests[]","outputDimensionality"],l),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function BM(n,e){const t={},s=d(n,["taskType"]);e!==void 0&&s!=null&&h(e,["instances[]","task_type"],s);const o=d(n,["title"]);e!==void 0&&o!=null&&h(e,["instances[]","title"],o);const l=d(n,["outputDimensionality"]);e!==void 0&&l!=null&&h(e,["parameters","outputDimensionality"],l);const c=d(n,["mimeType"]);e!==void 0&&c!=null&&h(e,["instances[]","mimeType"],c);const f=d(n,["autoTruncate"]);return e!==void 0&&f!=null&&h(e,["parameters","autoTruncate"],f),t}function GM(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["_url","model"],Ge(n,s));const o=d(e,["contents"]);if(o!=null){let f=$m(n,o);Array.isArray(f)&&(f=f.map(m=>m)),h(t,["requests[]","content"],f)}const l=d(e,["config"]);l!=null&&zM(l,t);const c=d(e,["model"]);return c!==void 0&&h(t,["requests[]","model"],Ge(n,c)),t}function $M(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["_url","model"],Ge(n,s));const o=d(e,["contents"]);if(o!=null){let c=$m(n,o);Array.isArray(c)&&(c=c.map(f=>f)),h(t,["instances[]","content"],c)}const l=d(e,["config"]);return l!=null&&BM(l,t),t}function KM(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["embeddings"],l)}const o=d(n,["metadata"]);return o!=null&&h(e,["metadata"],o),e}function JM(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["predictions[]","embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>AM(c))),h(e,["embeddings"],l)}const o=d(n,["metadata"]);return o!=null&&h(e,["metadata"],o),e}function WM(n){const e={},t=d(n,["endpoint"]);t!=null&&h(e,["name"],t);const s=d(n,["deployedModelId"]);return s!=null&&h(e,["deployedModelId"],s),e}function YM(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=d(n,["fileUri"]);t!=null&&h(e,["fileUri"],t);const s=d(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function QM(n){const e={},t=d(n,["id"]);t!=null&&h(e,["id"],t);const s=d(n,["args"]);s!=null&&h(e,["args"],s);const o=d(n,["name"]);if(o!=null&&h(e,["name"],o),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ZM(n){const e={},t=d(n,["mode"]);t!=null&&h(e,["mode"],t);const s=d(n,["allowedFunctionNames"]);if(s!=null&&h(e,["allowedFunctionNames"],s),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function XM(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=d(n,["description"]);t!=null&&h(e,["description"],t);const s=d(n,["name"]);s!=null&&h(e,["name"],s);const o=d(n,["parameters"]);o!=null&&h(e,["parameters"],o);const l=d(n,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&h(e,["response"],c);const f=d(n,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function eL(n,e,t){const s={},o=d(e,["systemInstruction"]);t!==void 0&&o!=null&&h(t,["systemInstruction"],th(sn(o)));const l=d(e,["temperature"]);l!=null&&h(s,["temperature"],l);const c=d(e,["topP"]);c!=null&&h(s,["topP"],c);const f=d(e,["topK"]);f!=null&&h(s,["topK"],f);const m=d(e,["candidateCount"]);m!=null&&h(s,["candidateCount"],m);const v=d(e,["maxOutputTokens"]);v!=null&&h(s,["maxOutputTokens"],v);const b=d(e,["stopSequences"]);b!=null&&h(s,["stopSequences"],b);const S=d(e,["responseLogprobs"]);S!=null&&h(s,["responseLogprobs"],S);const _=d(e,["logprobs"]);_!=null&&h(s,["logprobs"],_);const k=d(e,["presencePenalty"]);k!=null&&h(s,["presencePenalty"],k);const H=d(e,["frequencyPenalty"]);H!=null&&h(s,["frequencyPenalty"],H);const L=d(e,["seed"]);L!=null&&h(s,["seed"],L);const V=d(e,["responseMimeType"]);V!=null&&h(s,["responseMimeType"],V);const K=d(e,["responseSchema"]);K!=null&&h(s,["responseSchema"],Km(K));const X=d(e,["responseJsonSchema"]);if(X!=null&&h(s,["responseJsonSchema"],X),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const se=d(e,["safetySettings"]);if(t!==void 0&&se!=null){let F=se;Array.isArray(F)&&(F=F.map(x=>BL(x))),h(t,["safetySettings"],F)}const oe=d(e,["tools"]);if(t!==void 0&&oe!=null){let F=Ia(oe);Array.isArray(F)&&(F=F.map(x=>QL(Ca(x)))),h(t,["tools"],F)}const pe=d(e,["toolConfig"]);if(t!==void 0&&pe!=null&&h(t,["toolConfig"],YL(pe)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ie=d(e,["cachedContent"]);t!==void 0&&ie!=null&&h(t,["cachedContent"],hs(n,ie));const O=d(e,["responseModalities"]);O!=null&&h(s,["responseModalities"],O);const A=d(e,["mediaResolution"]);A!=null&&h(s,["mediaResolution"],A);const N=d(e,["speechConfig"]);if(N!=null&&h(s,["speechConfig"],Jm(N)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=d(e,["thinkingConfig"]);M!=null&&h(s,["thinkingConfig"],M);const D=d(e,["imageConfig"]);return D!=null&&h(s,["imageConfig"],AL(D)),s}function tL(n,e,t){const s={},o=d(e,["systemInstruction"]);t!==void 0&&o!=null&&h(t,["systemInstruction"],sn(o));const l=d(e,["temperature"]);l!=null&&h(s,["temperature"],l);const c=d(e,["topP"]);c!=null&&h(s,["topP"],c);const f=d(e,["topK"]);f!=null&&h(s,["topK"],f);const m=d(e,["candidateCount"]);m!=null&&h(s,["candidateCount"],m);const v=d(e,["maxOutputTokens"]);v!=null&&h(s,["maxOutputTokens"],v);const b=d(e,["stopSequences"]);b!=null&&h(s,["stopSequences"],b);const S=d(e,["responseLogprobs"]);S!=null&&h(s,["responseLogprobs"],S);const _=d(e,["logprobs"]);_!=null&&h(s,["logprobs"],_);const k=d(e,["presencePenalty"]);k!=null&&h(s,["presencePenalty"],k);const H=d(e,["frequencyPenalty"]);H!=null&&h(s,["frequencyPenalty"],H);const L=d(e,["seed"]);L!=null&&h(s,["seed"],L);const V=d(e,["responseMimeType"]);V!=null&&h(s,["responseMimeType"],V);const K=d(e,["responseSchema"]);K!=null&&h(s,["responseSchema"],Km(K));const X=d(e,["responseJsonSchema"]);X!=null&&h(s,["responseJsonSchema"],X);const se=d(e,["routingConfig"]);se!=null&&h(s,["routingConfig"],se);const oe=d(e,["modelSelectionConfig"]);oe!=null&&h(s,["modelConfig"],oe);const pe=d(e,["safetySettings"]);if(t!==void 0&&pe!=null){let Y=pe;Array.isArray(Y)&&(Y=Y.map(le=>le)),h(t,["safetySettings"],Y)}const ie=d(e,["tools"]);if(t!==void 0&&ie!=null){let Y=Ia(ie);Array.isArray(Y)&&(Y=Y.map(le=>I_(Ca(le)))),h(t,["tools"],Y)}const O=d(e,["toolConfig"]);t!==void 0&&O!=null&&h(t,["toolConfig"],O);const A=d(e,["labels"]);t!==void 0&&A!=null&&h(t,["labels"],A);const N=d(e,["cachedContent"]);t!==void 0&&N!=null&&h(t,["cachedContent"],hs(n,N));const M=d(e,["responseModalities"]);M!=null&&h(s,["responseModalities"],M);const D=d(e,["mediaResolution"]);D!=null&&h(s,["mediaResolution"],D);const F=d(e,["speechConfig"]);F!=null&&h(s,["speechConfig"],C_(Jm(F)));const x=d(e,["audioTimestamp"]);x!=null&&h(s,["audioTimestamp"],x);const $e=d(e,["thinkingConfig"]);$e!=null&&h(s,["thinkingConfig"],$e);const pt=d(e,["imageConfig"]);return pt!=null&&h(s,["imageConfig"],NL(pt)),s}function wS(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["_url","model"],Ge(n,s));const o=d(e,["contents"]);if(o!=null){let c=qn(o);Array.isArray(c)&&(c=c.map(f=>th(f))),h(t,["contents"],c)}const l=d(e,["config"]);return l!=null&&h(t,["generationConfig"],eL(n,l,t)),t}function SS(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["_url","model"],Ge(n,s));const o=d(e,["contents"]);if(o!=null){let c=qn(o);Array.isArray(c)&&(c=c.map(f=>f)),h(t,["contents"],c)}const l=d(e,["config"]);return l!=null&&h(t,["generationConfig"],tL(n,l,t)),t}function ES(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(v=>TM(v))),h(e,["candidates"],m)}const o=d(n,["modelVersion"]);o!=null&&h(e,["modelVersion"],o);const l=d(n,["promptFeedback"]);l!=null&&h(e,["promptFeedback"],l);const c=d(n,["responseId"]);c!=null&&h(e,["responseId"],c);const f=d(n,["usageMetadata"]);return f!=null&&h(e,["usageMetadata"],f),e}function TS(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(b=>b)),h(e,["candidates"],v)}const o=d(n,["createTime"]);o!=null&&h(e,["createTime"],o);const l=d(n,["modelVersion"]);l!=null&&h(e,["modelVersion"],l);const c=d(n,["promptFeedback"]);c!=null&&h(e,["promptFeedback"],c);const f=d(n,["responseId"]);f!=null&&h(e,["responseId"],f);const m=d(n,["usageMetadata"]);return m!=null&&h(e,["usageMetadata"],m),e}function nL(n,e){const t={};if(d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=d(n,["numberOfImages"]);e!==void 0&&s!=null&&h(e,["parameters","sampleCount"],s);const o=d(n,["aspectRatio"]);e!==void 0&&o!=null&&h(e,["parameters","aspectRatio"],o);const l=d(n,["guidanceScale"]);if(e!==void 0&&l!=null&&h(e,["parameters","guidanceScale"],l),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&h(e,["parameters","safetySetting"],c);const f=d(n,["personGeneration"]);e!==void 0&&f!=null&&h(e,["parameters","personGeneration"],f);const m=d(n,["includeSafetyAttributes"]);e!==void 0&&m!=null&&h(e,["parameters","includeSafetyAttributes"],m);const v=d(n,["includeRaiReason"]);e!==void 0&&v!=null&&h(e,["parameters","includeRaiReason"],v);const b=d(n,["language"]);e!==void 0&&b!=null&&h(e,["parameters","language"],b);const S=d(n,["outputMimeType"]);e!==void 0&&S!=null&&h(e,["parameters","outputOptions","mimeType"],S);const _=d(n,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&h(e,["parameters","outputOptions","compressionQuality"],_),d(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=d(n,["imageSize"]);if(e!==void 0&&k!=null&&h(e,["parameters","sampleImageSize"],k),d(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function iL(n,e){const t={},s=d(n,["outputGcsUri"]);e!==void 0&&s!=null&&h(e,["parameters","storageUri"],s);const o=d(n,["negativePrompt"]);e!==void 0&&o!=null&&h(e,["parameters","negativePrompt"],o);const l=d(n,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const c=d(n,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const f=d(n,["guidanceScale"]);e!==void 0&&f!=null&&h(e,["parameters","guidanceScale"],f);const m=d(n,["seed"]);e!==void 0&&m!=null&&h(e,["parameters","seed"],m);const v=d(n,["safetyFilterLevel"]);e!==void 0&&v!=null&&h(e,["parameters","safetySetting"],v);const b=d(n,["personGeneration"]);e!==void 0&&b!=null&&h(e,["parameters","personGeneration"],b);const S=d(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&h(e,["parameters","includeSafetyAttributes"],S);const _=d(n,["includeRaiReason"]);e!==void 0&&_!=null&&h(e,["parameters","includeRaiReason"],_);const k=d(n,["language"]);e!==void 0&&k!=null&&h(e,["parameters","language"],k);const H=d(n,["outputMimeType"]);e!==void 0&&H!=null&&h(e,["parameters","outputOptions","mimeType"],H);const L=d(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&h(e,["parameters","outputOptions","compressionQuality"],L);const V=d(n,["addWatermark"]);e!==void 0&&V!=null&&h(e,["parameters","addWatermark"],V);const K=d(n,["labels"]);e!==void 0&&K!=null&&h(e,["labels"],K);const X=d(n,["imageSize"]);e!==void 0&&X!=null&&h(e,["parameters","sampleImageSize"],X);const se=d(n,["enhancePrompt"]);return e!==void 0&&se!=null&&h(e,["parameters","enhancePrompt"],se),t}function sL(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["_url","model"],Ge(n,s));const o=d(e,["prompt"]);o!=null&&h(t,["instances[0]","prompt"],o);const l=d(e,["config"]);return l!=null&&nL(l,t),t}function rL(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["_url","model"],Ge(n,s));const o=d(e,["prompt"]);o!=null&&h(t,["instances[0]","prompt"],o);const l=d(e,["config"]);return l!=null&&iL(l,t),t}function oL(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>yL(c))),h(e,["generatedImages"],l)}const o=d(n,["positivePromptSafetyAttributes"]);return o!=null&&h(e,["positivePromptSafetyAttributes"],T_(o)),e}function aL(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>nh(c))),h(e,["generatedImages"],l)}const o=d(n,["positivePromptSafetyAttributes"]);return o!=null&&h(e,["positivePromptSafetyAttributes"],__(o)),e}function lL(n,e){const t={},s=d(n,["numberOfVideos"]);if(e!==void 0&&s!=null&&h(e,["parameters","sampleCount"],s),d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=d(n,["durationSeconds"]);if(e!==void 0&&o!=null&&h(e,["parameters","durationSeconds"],o),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(n,["aspectRatio"]);e!==void 0&&l!=null&&h(e,["parameters","aspectRatio"],l);const c=d(n,["resolution"]);e!==void 0&&c!=null&&h(e,["parameters","resolution"],c);const f=d(n,["personGeneration"]);if(e!==void 0&&f!=null&&h(e,["parameters","personGeneration"],f),d(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=d(n,["negativePrompt"]);e!==void 0&&m!=null&&h(e,["parameters","negativePrompt"],m);const v=d(n,["enhancePrompt"]);if(e!==void 0&&v!=null&&h(e,["parameters","enhancePrompt"],v),d(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const b=d(n,["lastFrame"]);e!==void 0&&b!=null&&h(e,["instances[0]","lastFrame"],ih(b));const S=d(n,["referenceImages"]);if(e!==void 0&&S!=null){let _=S;Array.isArray(_)&&(_=_.map(k=>c4(k))),h(e,["instances[0]","referenceImages"],_)}if(d(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function uL(n,e){const t={},s=d(n,["numberOfVideos"]);e!==void 0&&s!=null&&h(e,["parameters","sampleCount"],s);const o=d(n,["outputGcsUri"]);e!==void 0&&o!=null&&h(e,["parameters","storageUri"],o);const l=d(n,["fps"]);e!==void 0&&l!=null&&h(e,["parameters","fps"],l);const c=d(n,["durationSeconds"]);e!==void 0&&c!=null&&h(e,["parameters","durationSeconds"],c);const f=d(n,["seed"]);e!==void 0&&f!=null&&h(e,["parameters","seed"],f);const m=d(n,["aspectRatio"]);e!==void 0&&m!=null&&h(e,["parameters","aspectRatio"],m);const v=d(n,["resolution"]);e!==void 0&&v!=null&&h(e,["parameters","resolution"],v);const b=d(n,["personGeneration"]);e!==void 0&&b!=null&&h(e,["parameters","personGeneration"],b);const S=d(n,["pubsubTopic"]);e!==void 0&&S!=null&&h(e,["parameters","pubsubTopic"],S);const _=d(n,["negativePrompt"]);e!==void 0&&_!=null&&h(e,["parameters","negativePrompt"],_);const k=d(n,["enhancePrompt"]);e!==void 0&&k!=null&&h(e,["parameters","enhancePrompt"],k);const H=d(n,["generateAudio"]);e!==void 0&&H!=null&&h(e,["parameters","generateAudio"],H);const L=d(n,["lastFrame"]);e!==void 0&&L!=null&&h(e,["instances[0]","lastFrame"],ri(L));const V=d(n,["referenceImages"]);if(e!==void 0&&V!=null){let se=V;Array.isArray(se)&&(se=se.map(oe=>d4(oe))),h(e,["instances[0]","referenceImages"],se)}const K=d(n,["mask"]);e!==void 0&&K!=null&&h(e,["instances[0]","mask"],u4(K));const X=d(n,["compressionQuality"]);return e!==void 0&&X!=null&&h(e,["parameters","compressionQuality"],X),t}function cL(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const s=d(n,["metadata"]);s!=null&&h(e,["metadata"],s);const o=d(n,["done"]);o!=null&&h(e,["done"],o);const l=d(n,["error"]);l!=null&&h(e,["error"],l);const c=d(n,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],pL(c)),e}function dL(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const s=d(n,["metadata"]);s!=null&&h(e,["metadata"],s);const o=d(n,["done"]);o!=null&&h(e,["done"],o);const l=d(n,["error"]);l!=null&&h(e,["error"],l);const c=d(n,["response"]);return c!=null&&h(e,["response"],mL(c)),e}function hL(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["_url","model"],Ge(n,s));const o=d(e,["prompt"]);o!=null&&h(t,["instances[0]","prompt"],o);const l=d(e,["image"]);l!=null&&h(t,["instances[0]","image"],ih(l));const c=d(e,["video"]);c!=null&&h(t,["instances[0]","video"],A_(c));const f=d(e,["source"]);f!=null&&gL(f,t);const m=d(e,["config"]);return m!=null&&lL(m,t),t}function fL(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["_url","model"],Ge(n,s));const o=d(e,["prompt"]);o!=null&&h(t,["instances[0]","prompt"],o);const l=d(e,["image"]);l!=null&&h(t,["instances[0]","image"],ri(l));const c=d(e,["video"]);c!=null&&h(t,["instances[0]","video"],N_(c));const f=d(e,["source"]);f!=null&&vL(f,t);const m=d(e,["config"]);return m!=null&&uL(m,t),t}function pL(n){const e={},t=d(n,["generatedSamples"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(c=>wL(c))),h(e,["generatedVideos"],l)}const s=d(n,["raiMediaFilteredCount"]);s!=null&&h(e,["raiMediaFilteredCount"],s);const o=d(n,["raiMediaFilteredReasons"]);return o!=null&&h(e,["raiMediaFilteredReasons"],o),e}function mL(n){const e={},t=d(n,["videos"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(c=>SL(c))),h(e,["generatedVideos"],l)}const s=d(n,["raiMediaFilteredCount"]);s!=null&&h(e,["raiMediaFilteredCount"],s);const o=d(n,["raiMediaFilteredReasons"]);return o!=null&&h(e,["raiMediaFilteredReasons"],o),e}function gL(n,e){const t={},s=d(n,["prompt"]);e!==void 0&&s!=null&&h(e,["instances[0]","prompt"],s);const o=d(n,["image"]);e!==void 0&&o!=null&&h(e,["instances[0]","image"],ih(o));const l=d(n,["video"]);return e!==void 0&&l!=null&&h(e,["instances[0]","video"],A_(l)),t}function vL(n,e){const t={},s=d(n,["prompt"]);e!==void 0&&s!=null&&h(e,["instances[0]","prompt"],s);const o=d(n,["image"]);e!==void 0&&o!=null&&h(e,["instances[0]","image"],ri(o));const l=d(n,["video"]);return e!==void 0&&l!=null&&h(e,["instances[0]","video"],N_(l)),t}function yL(n){const e={},t=d(n,["_self"]);t!=null&&h(e,["image"],kL(t));const s=d(n,["raiFilteredReason"]);s!=null&&h(e,["raiFilteredReason"],s);const o=d(n,["_self"]);return o!=null&&h(e,["safetyAttributes"],T_(o)),e}function nh(n){const e={},t=d(n,["_self"]);t!=null&&h(e,["image"],E_(t));const s=d(n,["raiFilteredReason"]);s!=null&&h(e,["raiFilteredReason"],s);const o=d(n,["_self"]);o!=null&&h(e,["safetyAttributes"],__(o));const l=d(n,["prompt"]);return l!=null&&h(e,["enhancedPrompt"],l),e}function bL(n){const e={},t=d(n,["_self"]);t!=null&&h(e,["mask"],E_(t));const s=d(n,["labels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),h(e,["labels"],o)}return e}function wL(n){const e={},t=d(n,["video"]);return t!=null&&h(e,["video"],a4(t)),e}function SL(n){const e={},t=d(n,["_self"]);return t!=null&&h(e,["video"],l4(t)),e}function EL(n){const e={},t=d(n,["modelSelectionConfig"]);t!=null&&h(e,["modelConfig"],t);const s=d(n,["responseJsonSchema"]);s!=null&&h(e,["responseJsonSchema"],s);const o=d(n,["audioTimestamp"]);o!=null&&h(e,["audioTimestamp"],o);const l=d(n,["candidateCount"]);l!=null&&h(e,["candidateCount"],l);const c=d(n,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const f=d(n,["frequencyPenalty"]);f!=null&&h(e,["frequencyPenalty"],f);const m=d(n,["logprobs"]);m!=null&&h(e,["logprobs"],m);const v=d(n,["maxOutputTokens"]);v!=null&&h(e,["maxOutputTokens"],v);const b=d(n,["mediaResolution"]);b!=null&&h(e,["mediaResolution"],b);const S=d(n,["presencePenalty"]);S!=null&&h(e,["presencePenalty"],S);const _=d(n,["responseLogprobs"]);_!=null&&h(e,["responseLogprobs"],_);const k=d(n,["responseMimeType"]);k!=null&&h(e,["responseMimeType"],k);const H=d(n,["responseModalities"]);H!=null&&h(e,["responseModalities"],H);const L=d(n,["responseSchema"]);L!=null&&h(e,["responseSchema"],L);const V=d(n,["routingConfig"]);V!=null&&h(e,["routingConfig"],V);const K=d(n,["seed"]);K!=null&&h(e,["seed"],K);const X=d(n,["speechConfig"]);X!=null&&h(e,["speechConfig"],C_(X));const se=d(n,["stopSequences"]);se!=null&&h(e,["stopSequences"],se);const oe=d(n,["temperature"]);oe!=null&&h(e,["temperature"],oe);const pe=d(n,["thinkingConfig"]);pe!=null&&h(e,["thinkingConfig"],pe);const ie=d(n,["topK"]);ie!=null&&h(e,["topK"],ie);const O=d(n,["topP"]);if(O!=null&&h(e,["topP"],O),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function TL(n,e){const t={},s=d(e,["model"]);return s!=null&&h(t,["_url","name"],Ge(n,s)),t}function _L(n,e){const t={},s=d(e,["model"]);return s!=null&&h(t,["_url","name"],Ge(n,s)),t}function CL(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=d(n,["enableWidget"]);return t!=null&&h(e,["enableWidget"],t),e}function IL(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=d(n,["timeRangeFilter"]);return t!=null&&h(e,["timeRangeFilter"],t),e}function AL(n){const e={},t=d(n,["aspectRatio"]);t!=null&&h(e,["aspectRatio"],t);const s=d(n,["imageSize"]);if(s!=null&&h(e,["imageSize"],s),d(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function NL(n){const e={},t=d(n,["aspectRatio"]);t!=null&&h(e,["aspectRatio"],t);const s=d(n,["imageSize"]);s!=null&&h(e,["imageSize"],s);const o=d(n,["outputMimeType"]);o!=null&&h(e,["imageOutputOptions","mimeType"],o);const l=d(n,["outputCompressionQuality"]);return l!=null&&h(e,["imageOutputOptions","compressionQuality"],l),e}function kL(n){const e={},t=d(n,["bytesBase64Encoded"]);t!=null&&h(e,["imageBytes"],fr(t));const s=d(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function E_(n){const e={},t=d(n,["gcsUri"]);t!=null&&h(e,["gcsUri"],t);const s=d(n,["bytesBase64Encoded"]);s!=null&&h(e,["imageBytes"],fr(s));const o=d(n,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function ih(n){const e={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=d(n,["imageBytes"]);t!=null&&h(e,["bytesBase64Encoded"],fr(t));const s=d(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function ri(n){const e={},t=d(n,["gcsUri"]);t!=null&&h(e,["gcsUri"],t);const s=d(n,["imageBytes"]);s!=null&&h(e,["bytesBase64Encoded"],fr(s));const o=d(n,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function OL(n,e,t){const s={},o=d(e,["pageSize"]);t!==void 0&&o!=null&&h(t,["_query","pageSize"],o);const l=d(e,["pageToken"]);t!==void 0&&l!=null&&h(t,["_query","pageToken"],l);const c=d(e,["filter"]);t!==void 0&&c!=null&&h(t,["_query","filter"],c);const f=d(e,["queryBase"]);return t!==void 0&&f!=null&&h(t,["_url","models_url"],p_(n,f)),s}function xL(n,e,t){const s={},o=d(e,["pageSize"]);t!==void 0&&o!=null&&h(t,["_query","pageSize"],o);const l=d(e,["pageToken"]);t!==void 0&&l!=null&&h(t,["_query","pageToken"],l);const c=d(e,["filter"]);t!==void 0&&c!=null&&h(t,["_query","filter"],c);const f=d(e,["queryBase"]);return t!==void 0&&f!=null&&h(t,["_url","models_url"],p_(n,f)),s}function RL(n,e){const t={},s=d(e,["config"]);return s!=null&&OL(n,s,t),t}function PL(n,e){const t={},s=d(e,["config"]);return s!=null&&xL(n,s,t),t}function DL(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const o=d(n,["_self"]);if(o!=null){let l=m_(o);Array.isArray(l)&&(l=l.map(c=>Wp(c))),h(e,["models"],l)}return e}function ML(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const o=d(n,["_self"]);if(o!=null){let l=m_(o);Array.isArray(l)&&(l=l.map(c=>Yp(c))),h(e,["models"],l)}return e}function LL(n){const e={},t=d(n,["maskMode"]);t!=null&&h(e,["maskMode"],t);const s=d(n,["segmentationClasses"]);s!=null&&h(e,["maskClasses"],s);const o=d(n,["maskDilation"]);return o!=null&&h(e,["dilation"],o),e}function Wp(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const s=d(n,["displayName"]);s!=null&&h(e,["displayName"],s);const o=d(n,["description"]);o!=null&&h(e,["description"],o);const l=d(n,["version"]);l!=null&&h(e,["version"],l);const c=d(n,["_self"]);c!=null&&h(e,["tunedModelInfo"],ZL(c));const f=d(n,["inputTokenLimit"]);f!=null&&h(e,["inputTokenLimit"],f);const m=d(n,["outputTokenLimit"]);m!=null&&h(e,["outputTokenLimit"],m);const v=d(n,["supportedGenerationMethods"]);v!=null&&h(e,["supportedActions"],v);const b=d(n,["temperature"]);b!=null&&h(e,["temperature"],b);const S=d(n,["maxTemperature"]);S!=null&&h(e,["maxTemperature"],S);const _=d(n,["topP"]);_!=null&&h(e,["topP"],_);const k=d(n,["topK"]);k!=null&&h(e,["topK"],k);const H=d(n,["thinking"]);return H!=null&&h(e,["thinking"],H),e}function Yp(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const s=d(n,["displayName"]);s!=null&&h(e,["displayName"],s);const o=d(n,["description"]);o!=null&&h(e,["description"],o);const l=d(n,["versionId"]);l!=null&&h(e,["version"],l);const c=d(n,["deployedModels"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(_=>WM(_))),h(e,["endpoints"],S)}const f=d(n,["labels"]);f!=null&&h(e,["labels"],f);const m=d(n,["_self"]);m!=null&&h(e,["tunedModelInfo"],XL(m));const v=d(n,["defaultCheckpointId"]);v!=null&&h(e,["defaultCheckpointId"],v);const b=d(n,["checkpoints"]);if(b!=null){let S=b;Array.isArray(S)&&(S=S.map(_=>_)),h(e,["checkpoints"],S)}return e}function UL(n){const e={},t=d(n,["mediaResolution"]);t!=null&&h(e,["mediaResolution"],t);const s=d(n,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const o=d(n,["executableCode"]);o!=null&&h(e,["executableCode"],o);const l=d(n,["fileData"]);l!=null&&h(e,["fileData"],YM(l));const c=d(n,["functionCall"]);c!=null&&h(e,["functionCall"],QM(c));const f=d(n,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(n,["inlineData"]);m!=null&&h(e,["inlineData"],EM(m));const v=d(n,["text"]);v!=null&&h(e,["text"],v);const b=d(n,["thought"]);b!=null&&h(e,["thought"],b);const S=d(n,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const _=d(n,["videoMetadata"]);return _!=null&&h(e,["videoMetadata"],_),e}function FL(n){const e={},t=d(n,["productImage"]);return t!=null&&h(e,["image"],ri(t)),e}function jL(n,e){const t={},s=d(n,["numberOfImages"]);e!==void 0&&s!=null&&h(e,["parameters","sampleCount"],s);const o=d(n,["baseSteps"]);e!==void 0&&o!=null&&h(e,["parameters","baseSteps"],o);const l=d(n,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const c=d(n,["seed"]);e!==void 0&&c!=null&&h(e,["parameters","seed"],c);const f=d(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&h(e,["parameters","safetySetting"],f);const m=d(n,["personGeneration"]);e!==void 0&&m!=null&&h(e,["parameters","personGeneration"],m);const v=d(n,["addWatermark"]);e!==void 0&&v!=null&&h(e,["parameters","addWatermark"],v);const b=d(n,["outputMimeType"]);e!==void 0&&b!=null&&h(e,["parameters","outputOptions","mimeType"],b);const S=d(n,["outputCompressionQuality"]);e!==void 0&&S!=null&&h(e,["parameters","outputOptions","compressionQuality"],S);const _=d(n,["enhancePrompt"]);e!==void 0&&_!=null&&h(e,["parameters","enhancePrompt"],_);const k=d(n,["labels"]);return e!==void 0&&k!=null&&h(e,["labels"],k),t}function qL(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["_url","model"],Ge(n,s));const o=d(e,["source"]);o!=null&&HL(o,t);const l=d(e,["config"]);return l!=null&&jL(l,t),t}function VL(n){const e={},t=d(n,["predictions"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(o=>nh(o))),h(e,["generatedImages"],s)}return e}function HL(n,e){const t={},s=d(n,["prompt"]);e!==void 0&&s!=null&&h(e,["instances[0]","prompt"],s);const o=d(n,["personImage"]);e!==void 0&&o!=null&&h(e,["instances[0]","personImage","image"],ri(o));const l=d(n,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>FL(f))),h(e,["instances[0]","productImages"],c)}return t}function zL(n){const e={},t=d(n,["referenceImage"]);t!=null&&h(e,["referenceImage"],ri(t));const s=d(n,["referenceId"]);s!=null&&h(e,["referenceId"],s);const o=d(n,["referenceType"]);o!=null&&h(e,["referenceType"],o);const l=d(n,["maskImageConfig"]);l!=null&&h(e,["maskImageConfig"],LL(l));const c=d(n,["controlImageConfig"]);c!=null&&h(e,["controlImageConfig"],kM(c));const f=d(n,["styleImageConfig"]);f!=null&&h(e,["styleImageConfig"],f);const m=d(n,["subjectImageConfig"]);return m!=null&&h(e,["subjectImageConfig"],m),e}function T_(n){const e={},t=d(n,["safetyAttributes","categories"]);t!=null&&h(e,["categories"],t);const s=d(n,["safetyAttributes","scores"]);s!=null&&h(e,["scores"],s);const o=d(n,["contentType"]);return o!=null&&h(e,["contentType"],o),e}function __(n){const e={},t=d(n,["safetyAttributes","categories"]);t!=null&&h(e,["categories"],t);const s=d(n,["safetyAttributes","scores"]);s!=null&&h(e,["scores"],s);const o=d(n,["contentType"]);return o!=null&&h(e,["contentType"],o),e}function BL(n){const e={},t=d(n,["category"]);if(t!=null&&h(e,["category"],t),d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(n,["threshold"]);return s!=null&&h(e,["threshold"],s),e}function GL(n){const e={},t=d(n,["image"]);return t!=null&&h(e,["image"],ri(t)),e}function $L(n,e){const t={},s=d(n,["mode"]);e!==void 0&&s!=null&&h(e,["parameters","mode"],s);const o=d(n,["maxPredictions"]);e!==void 0&&o!=null&&h(e,["parameters","maxPredictions"],o);const l=d(n,["confidenceThreshold"]);e!==void 0&&l!=null&&h(e,["parameters","confidenceThreshold"],l);const c=d(n,["maskDilation"]);e!==void 0&&c!=null&&h(e,["parameters","maskDilation"],c);const f=d(n,["binaryColorThreshold"]);e!==void 0&&f!=null&&h(e,["parameters","binaryColorThreshold"],f);const m=d(n,["labels"]);return e!==void 0&&m!=null&&h(e,["labels"],m),t}function KL(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["_url","model"],Ge(n,s));const o=d(e,["source"]);o!=null&&WL(o,t);const l=d(e,["config"]);return l!=null&&$L(l,t),t}function JL(n){const e={},t=d(n,["predictions"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(o=>bL(o))),h(e,["generatedMasks"],s)}return e}function WL(n,e){const t={},s=d(n,["prompt"]);e!==void 0&&s!=null&&h(e,["instances[0]","prompt"],s);const o=d(n,["image"]);e!==void 0&&o!=null&&h(e,["instances[0]","image"],ri(o));const l=d(n,["scribbleImage"]);return e!==void 0&&l!=null&&h(e,["instances[0]","scribble"],GL(l)),t}function C_(n){const e={},t=d(n,["languageCode"]);t!=null&&h(e,["languageCode"],t);const s=d(n,["voiceConfig"]);if(s!=null&&h(e,["voiceConfig"],s),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function YL(n){const e={},t=d(n,["functionCallingConfig"]);t!=null&&h(e,["functionCallingConfig"],ZM(t));const s=d(n,["retrievalConfig"]);return s!=null&&h(e,["retrievalConfig"],s),e}function QL(n){const e={},t=d(n,["functionDeclarations"]);if(t!=null){let b=t;Array.isArray(b)&&(b=b.map(S=>S)),h(e,["functionDeclarations"],b)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=d(n,["googleSearchRetrieval"]);s!=null&&h(e,["googleSearchRetrieval"],s);const o=d(n,["computerUse"]);o!=null&&h(e,["computerUse"],o);const l=d(n,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(n,["googleMaps"]);f!=null&&h(e,["googleMaps"],CL(f));const m=d(n,["googleSearch"]);m!=null&&h(e,["googleSearch"],IL(m));const v=d(n,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}function I_(n){const e={},t=d(n,["functionDeclarations"]);if(t!=null){let S=t;Array.isArray(S)&&(S=S.map(_=>XM(_))),h(e,["functionDeclarations"],S)}const s=d(n,["retrieval"]);s!=null&&h(e,["retrieval"],s);const o=d(n,["googleSearchRetrieval"]);o!=null&&h(e,["googleSearchRetrieval"],o);const l=d(n,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(n,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const f=d(n,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const m=d(n,["googleMaps"]);m!=null&&h(e,["googleMaps"],m);const v=d(n,["googleSearch"]);v!=null&&h(e,["googleSearch"],v);const b=d(n,["urlContext"]);return b!=null&&h(e,["urlContext"],b),e}function ZL(n){const e={},t=d(n,["baseModel"]);t!=null&&h(e,["baseModel"],t);const s=d(n,["createTime"]);s!=null&&h(e,["createTime"],s);const o=d(n,["updateTime"]);return o!=null&&h(e,["updateTime"],o),e}function XL(n){const e={},t=d(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&h(e,["baseModel"],t);const s=d(n,["createTime"]);s!=null&&h(e,["createTime"],s);const o=d(n,["updateTime"]);return o!=null&&h(e,["updateTime"],o),e}function e4(n,e){const t={},s=d(n,["displayName"]);e!==void 0&&s!=null&&h(e,["displayName"],s);const o=d(n,["description"]);e!==void 0&&o!=null&&h(e,["description"],o);const l=d(n,["defaultCheckpointId"]);return e!==void 0&&l!=null&&h(e,["defaultCheckpointId"],l),t}function t4(n,e){const t={},s=d(n,["displayName"]);e!==void 0&&s!=null&&h(e,["displayName"],s);const o=d(n,["description"]);e!==void 0&&o!=null&&h(e,["description"],o);const l=d(n,["defaultCheckpointId"]);return e!==void 0&&l!=null&&h(e,["defaultCheckpointId"],l),t}function n4(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["_url","name"],Ge(n,s));const o=d(e,["config"]);return o!=null&&e4(o,t),t}function i4(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["_url","model"],Ge(n,s));const o=d(e,["config"]);return o!=null&&t4(o,t),t}function s4(n,e){const t={},s=d(n,["outputGcsUri"]);e!==void 0&&s!=null&&h(e,["parameters","storageUri"],s);const o=d(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&h(e,["parameters","safetySetting"],o);const l=d(n,["personGeneration"]);e!==void 0&&l!=null&&h(e,["parameters","personGeneration"],l);const c=d(n,["includeRaiReason"]);e!==void 0&&c!=null&&h(e,["parameters","includeRaiReason"],c);const f=d(n,["outputMimeType"]);e!==void 0&&f!=null&&h(e,["parameters","outputOptions","mimeType"],f);const m=d(n,["outputCompressionQuality"]);e!==void 0&&m!=null&&h(e,["parameters","outputOptions","compressionQuality"],m);const v=d(n,["enhanceInputImage"]);e!==void 0&&v!=null&&h(e,["parameters","upscaleConfig","enhanceInputImage"],v);const b=d(n,["imagePreservationFactor"]);e!==void 0&&b!=null&&h(e,["parameters","upscaleConfig","imagePreservationFactor"],b);const S=d(n,["labels"]);e!==void 0&&S!=null&&h(e,["labels"],S);const _=d(n,["numberOfImages"]);e!==void 0&&_!=null&&h(e,["parameters","sampleCount"],_);const k=d(n,["mode"]);return e!==void 0&&k!=null&&h(e,["parameters","mode"],k),t}function r4(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["_url","model"],Ge(n,s));const o=d(e,["image"]);o!=null&&h(t,["instances[0]","image"],ri(o));const l=d(e,["upscaleFactor"]);l!=null&&h(t,["parameters","upscaleConfig","upscaleFactor"],l);const c=d(e,["config"]);return c!=null&&s4(c,t),t}function o4(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>nh(l))),h(e,["generatedImages"],o)}return e}function a4(n){const e={},t=d(n,["uri"]);t!=null&&h(e,["uri"],t);const s=d(n,["encodedVideo"]);s!=null&&h(e,["videoBytes"],fr(s));const o=d(n,["encoding"]);return o!=null&&h(e,["mimeType"],o),e}function l4(n){const e={},t=d(n,["gcsUri"]);t!=null&&h(e,["uri"],t);const s=d(n,["bytesBase64Encoded"]);s!=null&&h(e,["videoBytes"],fr(s));const o=d(n,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function u4(n){const e={},t=d(n,["image"]);t!=null&&h(e,["_self"],ri(t));const s=d(n,["maskMode"]);return s!=null&&h(e,["maskMode"],s),e}function c4(n){const e={},t=d(n,["image"]);t!=null&&h(e,["image"],ih(t));const s=d(n,["referenceType"]);return s!=null&&h(e,["referenceType"],s),e}function d4(n){const e={},t=d(n,["image"]);t!=null&&h(e,["image"],ri(t));const s=d(n,["referenceType"]);return s!=null&&h(e,["referenceType"],s),e}function A_(n){const e={},t=d(n,["uri"]);t!=null&&h(e,["uri"],t);const s=d(n,["videoBytes"]);s!=null&&h(e,["encodedVideo"],fr(s));const o=d(n,["mimeType"]);return o!=null&&h(e,["encoding"],o),e}function N_(n){const e={},t=d(n,["uri"]);t!=null&&h(e,["gcsUri"],t);const s=d(n,["videoBytes"]);s!=null&&h(e,["bytesBase64Encoded"],fr(s));const o=d(n,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/const h4="Content-Type",f4="X-Server-Timeout",p4="User-Agent",Qp="x-goog-api-client",m4="1.30.0",g4=`google-genai-sdk/${m4}`,v4="v1beta1",y4="v1beta",_S=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class b4{constructor(e){var t,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:v4,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:y4,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,s){const o=[this.getRequestUrlInternal(t)];return s&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,s);if(e.queryParams)for(const[c,f]of Object.entries(e.queryParams))o.searchParams.append(c,String(f));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,t,o.toString(),e.abortSignal),this.unaryApiCall(o,l,e.httpMethod)}patchHttpOptions(e,t){const s=JSON.parse(JSON.stringify(e));for(const[o,l]of Object.entries(t))typeof l=="object"?s[o]=Object.assign(Object.assign({},s[o]),l):l!==void 0&&(s[o]=l);return s}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,s);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,t,o.toString(),e.abortSignal),this.streamApiCall(o,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,s,o){if(t&&t.timeout||o){const l=new AbortController,c=l.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const f=setTimeout(()=>l.abort(),t.timeout);f&&typeof f.unref=="function"&&f.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),e.signal=c}return t&&t.extraBody!==null&&w4(e,t.extraBody),e.headers=await this.getHeadersInternal(t,s),e}async unaryApiCall(e,t,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:s})).then(async o=>(await CS(o),new $p(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,t,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:s})).then(async o=>(await CS(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var t;return aa(this,arguments,function*(){const s=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let l="";for(;;){const{done:c,value:f}=yield at(s.read());if(c){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=o.decode(f,{stream:!0});try{const b=JSON.parse(m);if("error"in b){const S=JSON.parse(JSON.stringify(b.error)),_=S.status,k=S.code,H=`got status: ${_}. ${JSON.stringify(b)}`;if(k>=400&&k<600)throw new eh({message:H,status:k})}}catch(b){if(b.name==="ApiError")throw b}l+=m;let v=l.match(_S);for(;v;){const b=v[1];try{const S=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield at(new $p(S)),l=l.slice(v[0].length),v=l.match(_S)}catch(S){throw new Error(`exception parsing stream chunk ${b}. ${S}`)}}}}finally{s.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},t=g4+" "+this.clientOptions.userAgentExtra;return e[p4]=t,e[Qp]=t,e[h4]="application/json",e}async getHeadersInternal(e,t){const s=new Headers;if(e&&e.headers){for(const[o,l]of Object.entries(e.headers))s.append(o,l);e.timeout&&e.timeout>0&&s.append(f4,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,t),s}getFileName(e){var t;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(t=s.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),s}async uploadFile(e,t){var s;const o={};t!=null&&(o.mimeType=t.mimeType,o.name=t.name,o.displayName=t.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);o.sizeBytes=String(c.size);const f=(s=t==null?void 0:t.mimeType)!==null&&s!==void 0?s:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=f;const m={file:o},v=this.getFileName(e),b=ce("upload/v1beta/files",m._url),S=await this.fetchUploadUrl(b,o.sizeBytes,o.mimeType,v,m,t==null?void 0:t.httpOptions);return l.upload(e,S,this)}async uploadFileToFileSearchStore(e,t,s){var o;const l=this.clientOptions.uploader,c=await l.stat(t),f=String(c.size),m=(o=s==null?void 0:s.mimeType)!==null&&o!==void 0?o:c.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const v=`upload/v1beta/${e}:uploadToFileSearchStore`,b=this.getFileName(t),S={};s!=null&&s.customMetadata&&(S.customMetadata=s.customMetadata),s!=null&&s.chunkingConfig&&(S.chunkingConfig=s.chunkingConfig);const _=await this.fetchUploadUrl(v,f,m,b,S,s==null?void 0:s.httpOptions);return l.uploadToFileSearchStore(t,_,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,s,o,l,c){var f;let m={};c?m=c:m={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${s}`},o?{"X-Goog-Upload-File-Name":o}:{})};const v=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:m});if(!v||!(v!=null&&v.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const b=(f=v==null?void 0:v.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(b===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return b}}async function CS(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let s;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await n.json():s={error:{message:await n.text(),code:n.status,status:n.statusText}};const o=JSON.stringify(s);throw t>=400&&t<600?new eh({message:o,status:t}):new Error(o)}}function w4(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const l=JSON.parse(n.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))t=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(l,c){const f=Object.assign({},l);for(const m in c)if(Object.prototype.hasOwnProperty.call(c,m)){const v=c[m],b=f[m];v&&typeof v=="object"&&!Array.isArray(v)&&b&&typeof b=="object"&&!Array.isArray(b)?f[m]=s(b,v):(b&&v&&typeof b!=typeof v&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${m}". Original type: ${typeof b}, New type: ${typeof v}. Overwriting.`),f[m]=v)}return f}const o=s(t,e);n.body=JSON.stringify(o)}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/const S4="mcp_used/unknown";let E4=!1;function k_(n){for(const e of n)if(T4(e)||typeof e=="object"&&"inputSchema"in e)return!0;return E4}function O_(n){var e;const t=(e=n[Qp])!==null&&e!==void 0?e:"";n[Qp]=(t+` ${S4}`).trimStart()}function T4(n){return n!==null&&typeof n=="object"&&n instanceof Ym}function _4(n,e=100){return aa(this,arguments,function*(){let t,s=0;for(;s<e;){const o=yield at(n.listTools({cursor:t}));for(const l of o.tools)yield yield at(l),s++;if(!o.nextCursor)break;t=o.nextCursor}})}class Ym{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Ym(e,t)}async initialize(){var e,t,s,o;if(this.mcpTools.length>0)return;const l={},c=[];for(const b of this.mcpClients)try{for(var f=!0,m=(t=void 0,Wl(_4(b))),v;v=await m.next(),e=v.done,!e;f=!0){o=v.value,f=!1;const S=o;c.push(S);const _=S.name;if(l[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);l[_]=b}}catch(S){t={error:S}}finally{try{!f&&!e&&(s=m.return)&&await s.call(m)}finally{if(t)throw t.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),g2(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[s.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await o.callTool({name:s.name,arguments:s.args},void 0,l);t.push({functionResponse:{name:s.name,response:c.isError?{error:c}:c}})}return t}}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/async function C4(n,e,t){const s=new l2;let o;t.data instanceof Blob?o=JSON.parse(await t.data.text()):o=JSON.parse(t.data),Object.assign(s,o),e(s)}class I4{constructor(e,t,s){this.apiClient=e,this.auth=t,this.webSocketFactory=s}async connect(e){var t,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=k4(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),m=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${f}`;let v=()=>{};const b=new Promise(K=>{v=K}),S=e.callbacks,_=function(){v({})},k=this.apiClient,H={onopen:_,onmessage:K=>{C4(k,S.onmessage,K)},onerror:(t=S==null?void 0:S.onerror)!==null&&t!==void 0?t:function(K){},onclose:(s=S==null?void 0:S.onclose)!==null&&s!==void 0?s:function(K){}},L=this.webSocketFactory.create(m,N4(c),H);L.connect(),await b;const V={setup:{model:Ge(this.apiClient,e.model)}};return L.send(JSON.stringify(V)),new A4(L,this.apiClient)}}class A4{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=fM(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=hM(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(ta.PLAY)}pause(){this.sendPlaybackControl(ta.PAUSE)}stop(){this.sendPlaybackControl(ta.STOP)}resetContext(){this.sendPlaybackControl(ta.RESET_CONTEXT)}close(){this.conn.close()}}function N4(n){const e={};return n.forEach((t,s)=>{e[s]=t}),e}function k4(n){const e=new Headers;for(const[t,s]of Object.entries(n))e.append(t,s);return e}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/const O4="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function x4(n,e,t){const s=new a2;let o;t.data instanceof Blob?o=await t.data.text():t.data instanceof ArrayBuffer?o=new TextDecoder().decode(t.data):o=t.data;const l=JSON.parse(o);if(n.isVertexAI()){const c=gM(l);Object.assign(s,c)}else Object.assign(s,l);e(s)}class R4{constructor(e,t,s){this.apiClient=e,this.auth=t,this.webSocketFactory=s,this.music=new I4(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,s,o,l,c,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const m=this.apiClient.getWebsocketBaseUrl(),v=this.apiClient.getApiVersion();let b;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&k_(e.config.tools)&&O_(S);const _=L4(S);if(this.apiClient.isVertexAI())b=`${m}/ws/google.cloud.aiplatform.${v}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,b);else{const N=this.apiClient.getApiKey();let M="BidiGenerateContent",D="key";N!=null&&N.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),v!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),M="BidiGenerateContentConstrained",D="access_token"),b=`${m}/ws/google.ai.generativelanguage.${v}.GenerativeService.${M}?${D}=${N}`}let k=()=>{};const H=new Promise(N=>{k=N}),L=e.callbacks,V=function(){var N;(N=L==null?void 0:L.onopen)===null||N===void 0||N.call(L),k({})},K=this.apiClient,X={onopen:V,onmessage:N=>{x4(K,L.onmessage,N)},onerror:(t=L==null?void 0:L.onerror)!==null&&t!==void 0?t:function(N){},onclose:(s=L==null?void 0:L.onclose)!==null&&s!==void 0?s:function(N){}},se=this.webSocketFactory.create(b,M4(_),X);se.connect(),await H;let oe=Ge(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&oe.startsWith("publishers/")){const N=this.apiClient.getProject(),M=this.apiClient.getLocation();oe=`projects/${N}/locations/${M}/`+oe}let pe={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Od.AUDIO]}:e.config.responseModalities=[Od.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ie=(f=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[],O=[];for(const N of ie)if(this.isCallableTool(N)){const M=N;O.push(await M.tool())}else O.push(N);O.length>0&&(e.config.tools=O);const A={model:oe,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?pe=dM(this.apiClient,A):pe=cM(this.apiClient,A),delete pe.config,se.send(JSON.stringify(pe)),new D4(se,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const P4={turnComplete:!0};class D4{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let s=[];try{s=qn(t.turns),e.isVertexAI()||(s=s.map(o=>th(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:s,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let s=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?s=t.functionResponses:s=[t.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const o of s){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(O4)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},P4),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:mM(e)}:t={realtimeInput:pM(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function M4(n){const e={};return n.forEach((t,s)=>{e[s]=t}),e}function L4(n){const e=new Headers;for(const[t,s]of Object.entries(n))e.append(t,s);return e}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/const IS=10;function AS(n){var e,t,s;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const c of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(la(c)){o=!0;break}if(!o)return!0;const l=(s=n==null?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function la(n){return"callTool"in n&&typeof n.callTool=="function"}function U4(n){var e,t,s;return(s=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(o=>la(o)))!==null&&s!==void 0?s:!1}function NS(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((s,o)=>{if(la(s))return;const l=s;l.functionDeclarations&&l.functionDeclarations.length>0&&t.push(o)}),t}function kS(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/class F4 extends ds{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var s,o,l,c,f;const m=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!U4(t)||AS(t.config))return await this.generateContentInternal(m);const v=NS(t);if(v.length>0){const L=v.map(V=>`tools[${V}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${L}.`)}let b,S;const _=qn(m.contents),k=(l=(o=(s=m.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:IS;let H=0;for(;H<k&&(b=await this.generateContentInternal(m),!(!b.functionCalls||b.functionCalls.length===0));){const L=b.candidates[0].content,V=[];for(const K of(f=(c=t.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[])if(la(K)){const X=await K.callTool(b.functionCalls);V.push(...X)}H++,S={role:"user",parts:V},m.contents=qn(m.contents),m.contents.push(L),m.contents.push(S),kS(m.config)&&(_.push(L),_.push(S))}return kS(m.config)&&(b.automaticFunctionCallingHistory=_),b},this.generateContentStream=async t=>{var s,o,l,c,f;if(this.maybeMoveToResponseJsonSchem(t),AS(t.config)){const S=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(S)}const m=NS(t);if(m.length>0){const S=m.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const v=(l=(o=(s=t==null?void 0:t.config)===null||s===void 0?void 0:s.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,b=(f=(c=t==null?void 0:t.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(v&&!b)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(s=>{var o;let l;const c=[];if(s!=null&&s.generatedImages)for(const m of s.generatedImages)m&&m!=null&&m.safetyAttributes&&((o=m==null?void 0:m.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=m==null?void 0:m.safetyAttributes:c.push(m);let f;return l?f={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:s.sdkHttpResponse}:f={generatedImages:c,sdkHttpResponse:s.sdkHttpResponse},f}),this.list=async t=>{var s;const o={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((s=o.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new so(us.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async t=>{const s={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(s.referenceImages=t.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async t=>{let s={numberOfImages:1,mode:"upscale"};t.config&&(s=Object.assign(Object.assign({},s),t.config));const o={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:s};return await this.upscaleImageInternal(o)},this.generateVideos=async t=>{var s,o,l,c,f,m;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=t.video)===null||s===void 0)&&s.uri&&!((o=t.video)===null||o===void 0)&&o.videoBytes?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((c=(l=t.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&!((m=(f=t.source)===null||f===void 0?void 0:f.video)===null||m===void 0)&&m.videoBytes&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,s,o;const l=(t=e.config)===null||t===void 0?void 0:t.tools;if(!l)return e;const c=await Promise.all(l.map(async m=>la(m)?await m.tool():m)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(f.config.tools=c,e.config&&e.config.tools&&k_(e.config.tools)){const m=(o=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&o!==void 0?o:{};let v=Object.assign({},m);Object.keys(v).length===0&&(v=this.apiClient.getDefaultHeaders()),O_(v),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:v})}return f}async initAfcToolsMap(e){var t,s,o;const l=new Map;for(const c of(s=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&s!==void 0?s:[])if(la(c)){const f=c,m=await f.tool();for(const v of(o=m.functionDeclarations)!==null&&o!==void 0?o:[]){if(!v.name)throw new Error("Function declaration name is required.");if(l.has(v.name))throw new Error(`Duplicate tool declaration name: ${v.name}`);l.set(v.name,f)}}return l}async processAfcStream(e){var t,s,o;const l=(o=(s=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&o!==void 0?o:IS;let c=!1,f=0;const m=await this.initAfcToolsMap(e);return(function(v,b,S){var _,k;return aa(this,arguments,function*(){for(var H,L,V,K;f<l;){c&&(f++,c=!1);const pe=yield at(v.processParamsMaybeAddMcpUsage(S)),ie=yield at(v.generateContentStreamInternal(pe)),O=[],A=[];try{for(var X=!0,se=(L=void 0,Wl(ie)),oe;oe=yield at(se.next()),H=oe.done,!H;X=!0){K=oe.value,X=!1;const N=K;if(yield yield at(N),N.candidates&&!((_=N.candidates[0])===null||_===void 0)&&_.content){A.push(N.candidates[0].content);for(const M of(k=N.candidates[0].content.parts)!==null&&k!==void 0?k:[])if(f<l&&M.functionCall){if(!M.functionCall.name)throw new Error("Function call name was not returned by the model.");if(b.has(M.functionCall.name)){const D=yield at(b.get(M.functionCall.name).callTool([M.functionCall]));O.push(...D)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${b.keys()}, mising tool: ${M.functionCall.name}`)}}}}catch(N){L={error:N}}finally{try{!X&&!H&&(V=se.return)&&(yield at(V.call(se)))}finally{if(L)throw L.error}}if(O.length>0){c=!0;const N=new Ml;N.candidates=[{content:{role:"user",parts:O}}],yield yield at(N);const M=[];M.push(...A),M.push({role:"user",parts:O});const D=qn(S.contents).concat(M);S.contents=D}else break}})})(this,m,e)}async generateContentInternal(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=SS(this.apiClient,e);return f=ce("{model}:generateContent",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=TS(b),_=new Ml;return Object.assign(_,S),_})}else{const v=wS(this.apiClient,e);return f=ce("{model}:generateContent",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=ES(b),_=new Ml;return Object.assign(_,S),_})}}async generateContentStreamInternal(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=SS(this.apiClient,e);return f=ce("{model}:streamGenerateContent?alt=sse",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.requestStream({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(b){return aa(this,arguments,function*(){var S,_,k,H;try{for(var L=!0,V=Wl(b),K;K=yield at(V.next()),S=K.done,!S;L=!0){H=K.value,L=!1;const X=H,se=TS(yield at(X.json()));se.sdkHttpResponse={headers:X.headers};const oe=new Ml;Object.assign(oe,se),yield yield at(oe)}}catch(X){_={error:X}}finally{try{!L&&!S&&(k=V.return)&&(yield at(k.call(V)))}finally{if(_)throw _.error}}})})}else{const v=wS(this.apiClient,e);return f=ce("{model}:streamGenerateContent?alt=sse",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.requestStream({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(b){return aa(this,arguments,function*(){var S,_,k,H;try{for(var L=!0,V=Wl(b),K;K=yield at(V.next()),S=K.done,!S;L=!0){H=K.value,L=!1;const X=H,se=ES(yield at(X.json()));se.sdkHttpResponse={headers:X.headers};const oe=new Ml;Object.assign(oe,se),yield yield at(oe)}}catch(X){_={error:X}}finally{try{!L&&!S&&(k=V.return)&&(yield at(k.call(V)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=$M(this.apiClient,e);return f=ce("{model}:predict",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=JM(b),_=new sS;return Object.assign(_,S),_})}else{const v=GM(this.apiClient,e);return f=ce("{model}:batchEmbedContents",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=KM(b),_=new sS;return Object.assign(_,S),_})}}async generateImagesInternal(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=rL(this.apiClient,e);return f=ce("{model}:predict",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=aL(b),_=new rS;return Object.assign(_,S),_})}else{const v=sL(this.apiClient,e);return f=ce("{model}:predict",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=oL(b),_=new rS;return Object.assign(_,S),_})}}async editImageInternal(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=VM(this.apiClient,e);return l=ce("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=HM(m),b=new YP;return Object.assign(b,v),b})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=r4(this.apiClient,e);return l=ce("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=o4(m),b=new QP;return Object.assign(b,v),b})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=qL(this.apiClient,e);return l=ce("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>{const v=VL(m),b=new ZP;return Object.assign(b,v),b})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=KL(this.apiClient,e);return l=ce("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>{const v=JL(m),b=new XP;return Object.assign(b,v),b})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=_L(this.apiClient,e);return f=ce("{name}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),c.then(b=>Yp(b))}else{const v=TL(this.apiClient,e);return f=ce("{name}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),c.then(b=>Wp(b))}}async listInternal(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=PL(this.apiClient,e);return f=ce("{models_url}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=ML(b),_=new oS;return Object.assign(_,S),_})}else{const v=RL(this.apiClient,e);return f=ce("{models_url}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=DL(b),_=new oS;return Object.assign(_,S),_})}}async update(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=i4(this.apiClient,e);return f=ce("{model}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),c.then(b=>Yp(b))}else{const v=n4(this.apiClient,e);return f=ce("{name}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),c.then(b=>Wp(b))}}async delete(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=UM(this.apiClient,e);return f=ce("{name}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=jM(b),_=new aS;return Object.assign(_,S),_})}else{const v=LM(this.apiClient,e);return f=ce("{name}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=FM(b),_=new aS;return Object.assign(_,S),_})}}async countTokens(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=PM(this.apiClient,e);return f=ce("{model}:countTokens",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=MM(b),_=new lS;return Object.assign(_,S),_})}else{const v=RM(this.apiClient,e);return f=ce("{model}:countTokens",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=DM(b),_=new lS;return Object.assign(_,S),_})}}async computeTokens(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=CM(this.apiClient,e);return l=ce("{model}:computeTokens",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const v=IM(m),b=new e2;return Object.assign(b,v),b})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=fL(this.apiClient,e);return f=ce("{model}:predictLongRunning",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),c.then(b=>{const S=dL(b),_=new xd;return Object.assign(_,S),_})}else{const v=hL(this.apiClient,e);return f=ce("{model}:predictLongRunning",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),c.then(b=>{const S=cL(b),_=new xd;return Object.assign(_,S),_})}}}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/class j4 extends ds{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,s=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=t.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:o,config:{httpOptions:l}});return t._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:t.name,config:s});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const t=e.operation,s=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=t.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:o,config:{httpOptions:l}});return t._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:t.name,config:s});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=BP(e);return f=ce("{operationName}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),c}else{const v=zP(e);return f=ce("{operationName}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),c}}async fetchPredictVideosOperationInternal(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=LP(e);return l=ce("{resourceName}:fetchPredictOperation",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/function q4(n){const e={},t=d(n,["data"]);if(t!=null&&h(e,["data"],t),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function V4(n){const e={},t=d(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(l=>Y4(l))),h(e,["parts"],o)}const s=d(n,["role"]);return s!=null&&h(e,["role"],s),e}function H4(n,e,t){const s={},o=d(e,["expireTime"]);t!==void 0&&o!=null&&h(t,["expireTime"],o);const l=d(e,["newSessionExpireTime"]);t!==void 0&&l!=null&&h(t,["newSessionExpireTime"],l);const c=d(e,["uses"]);t!==void 0&&c!=null&&h(t,["uses"],c);const f=d(e,["liveConnectConstraints"]);t!==void 0&&f!=null&&h(t,["bidiGenerateContentSetup"],W4(n,f));const m=d(e,["lockAdditionalFields"]);return t!==void 0&&m!=null&&h(t,["fieldMask"],m),s}function z4(n,e){const t={},s=d(e,["config"]);return s!=null&&h(t,["config"],H4(n,s,t)),t}function B4(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=d(n,["fileUri"]);t!=null&&h(e,["fileUri"],t);const s=d(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function G4(n){const e={},t=d(n,["id"]);t!=null&&h(e,["id"],t);const s=d(n,["args"]);s!=null&&h(e,["args"],s);const o=d(n,["name"]);if(o!=null&&h(e,["name"],o),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $4(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=d(n,["enableWidget"]);return t!=null&&h(e,["enableWidget"],t),e}function K4(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=d(n,["timeRangeFilter"]);return t!=null&&h(e,["timeRangeFilter"],t),e}function J4(n,e){const t={},s=d(n,["generationConfig"]);e!==void 0&&s!=null&&h(e,["setup","generationConfig"],s);const o=d(n,["responseModalities"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","responseModalities"],o);const l=d(n,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(n,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const m=d(n,["maxOutputTokens"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","maxOutputTokens"],m);const v=d(n,["mediaResolution"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","mediaResolution"],v);const b=d(n,["seed"]);e!==void 0&&b!=null&&h(e,["setup","generationConfig","seed"],b);const S=d(n,["speechConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","speechConfig"],Wm(S));const _=d(n,["thinkingConfig"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","thinkingConfig"],_);const k=d(n,["enableAffectiveDialog"]);e!==void 0&&k!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],k);const H=d(n,["systemInstruction"]);e!==void 0&&H!=null&&h(e,["setup","systemInstruction"],V4(sn(H)));const L=d(n,["tools"]);if(e!==void 0&&L!=null){let ie=Ia(L);Array.isArray(ie)&&(ie=ie.map(O=>Z4(Ca(O)))),h(e,["setup","tools"],ie)}const V=d(n,["sessionResumption"]);e!==void 0&&V!=null&&h(e,["setup","sessionResumption"],Q4(V));const K=d(n,["inputAudioTranscription"]);e!==void 0&&K!=null&&h(e,["setup","inputAudioTranscription"],K);const X=d(n,["outputAudioTranscription"]);e!==void 0&&X!=null&&h(e,["setup","outputAudioTranscription"],X);const se=d(n,["realtimeInputConfig"]);e!==void 0&&se!=null&&h(e,["setup","realtimeInputConfig"],se);const oe=d(n,["contextWindowCompression"]);e!==void 0&&oe!=null&&h(e,["setup","contextWindowCompression"],oe);const pe=d(n,["proactivity"]);return e!==void 0&&pe!=null&&h(e,["setup","proactivity"],pe),t}function W4(n,e){const t={},s=d(e,["model"]);s!=null&&h(t,["setup","model"],Ge(n,s));const o=d(e,["config"]);return o!=null&&h(t,["config"],J4(o,t)),t}function Y4(n){const e={},t=d(n,["mediaResolution"]);t!=null&&h(e,["mediaResolution"],t);const s=d(n,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const o=d(n,["executableCode"]);o!=null&&h(e,["executableCode"],o);const l=d(n,["fileData"]);l!=null&&h(e,["fileData"],B4(l));const c=d(n,["functionCall"]);c!=null&&h(e,["functionCall"],G4(c));const f=d(n,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(n,["inlineData"]);m!=null&&h(e,["inlineData"],q4(m));const v=d(n,["text"]);v!=null&&h(e,["text"],v);const b=d(n,["thought"]);b!=null&&h(e,["thought"],b);const S=d(n,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const _=d(n,["videoMetadata"]);return _!=null&&h(e,["videoMetadata"],_),e}function Q4(n){const e={},t=d(n,["handle"]);if(t!=null&&h(e,["handle"],t),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Z4(n){const e={},t=d(n,["functionDeclarations"]);if(t!=null){let b=t;Array.isArray(b)&&(b=b.map(S=>S)),h(e,["functionDeclarations"],b)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=d(n,["googleSearchRetrieval"]);s!=null&&h(e,["googleSearchRetrieval"],s);const o=d(n,["computerUse"]);o!=null&&h(e,["computerUse"],o);const l=d(n,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(n,["googleMaps"]);f!=null&&h(e,["googleMaps"],$4(f));const m=d(n,["googleSearch"]);m!=null&&h(e,["googleSearch"],K4(m));const v=d(n,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/function X4(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const s=n[t];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const o=Object.keys(s).map(l=>`${t}.${l}`);e.push(...o)}else e.push(t)}return e.join(",")}function eU(n,e){let t=null;const s=n.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const l=s.setup;typeof l=="object"&&l!==null?(n.bidiGenerateContentSetup=l,t=l):delete n.bidiGenerateContentSetup}else s!==void 0&&delete n.bidiGenerateContentSetup;const o=n.fieldMask;if(t){const l=X4(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?n.fieldMask=l:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];o.length>0&&(f=o.map(v=>c.includes(v)?`generationConfig.${v}`:v));const m=[];l&&m.push(l),f.length>0&&m.push(...f),m.length>0?n.fieldMask=m.join(","):delete n.fieldMask}else delete n.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?n.fieldMask=o.join(","):delete n.fieldMask;return n}class tU extends ds{constructor(e){super(),this.apiClient=e}async create(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=z4(this.apiClient,e);l=ce("auth_tokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const m=eU(f,e.config);return o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),o.then(v=>v)}}}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/function nU(n,e){const t={},s=d(n,["displayName"]);return e!==void 0&&s!=null&&h(e,["displayName"],s),t}function iU(n){const e={},t=d(n,["config"]);return t!=null&&nU(t,e),e}function sU(n,e){const t={},s=d(n,["force"]);return e!==void 0&&s!=null&&h(e,["_query","force"],s),t}function rU(n){const e={},t=d(n,["name"]);t!=null&&h(e,["_url","name"],t);const s=d(n,["config"]);return s!=null&&sU(s,e),e}function oU(n){const e={},t=d(n,["name"]);return t!=null&&h(e,["_url","name"],t),e}function aU(n,e){const t={},s=d(n,["customMetadata"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["customMetadata"],l)}const o=d(n,["chunkingConfig"]);return e!==void 0&&o!=null&&h(e,["chunkingConfig"],o),t}function lU(n){const e={},t=d(n,["name"]);t!=null&&h(e,["name"],t);const s=d(n,["metadata"]);s!=null&&h(e,["metadata"],s);const o=d(n,["done"]);o!=null&&h(e,["done"],o);const l=d(n,["error"]);l!=null&&h(e,["error"],l);const c=d(n,["response"]);return c!=null&&h(e,["response"],cU(c)),e}function uU(n){const e={},t=d(n,["fileSearchStoreName"]);t!=null&&h(e,["_url","file_search_store_name"],t);const s=d(n,["fileName"]);s!=null&&h(e,["fileName"],s);const o=d(n,["config"]);return o!=null&&aU(o,e),e}function cU(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["parent"]);s!=null&&h(e,["parent"],s);const o=d(n,["documentName"]);return o!=null&&h(e,["documentName"],o),e}function dU(n,e){const t={},s=d(n,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const o=d(n,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),t}function hU(n){const e={},t=d(n,["config"]);return t!=null&&dU(t,e),e}function fU(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const o=d(n,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["fileSearchStores"],l)}return e}function pU(n,e){const t={},s=d(n,["mimeType"]);e!==void 0&&s!=null&&h(e,["mimeType"],s);const o=d(n,["displayName"]);e!==void 0&&o!=null&&h(e,["displayName"],o);const l=d(n,["customMetadata"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>m)),h(e,["customMetadata"],f)}const c=d(n,["chunkingConfig"]);return e!==void 0&&c!=null&&h(e,["chunkingConfig"],c),t}function mU(n){const e={},t=d(n,["fileSearchStoreName"]);t!=null&&h(e,["_url","file_search_store_name"],t);const s=d(n,["config"]);return s!=null&&pU(s,e),e}function gU(n){const e={},t=d(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/function vU(n,e){const t={},s=d(n,["force"]);return e!==void 0&&s!=null&&h(e,["_query","force"],s),t}function yU(n){const e={},t=d(n,["name"]);t!=null&&h(e,["_url","name"],t);const s=d(n,["config"]);return s!=null&&vU(s,e),e}function bU(n){const e={},t=d(n,["name"]);return t!=null&&h(e,["_url","name"],t),e}function wU(n,e){const t={},s=d(n,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const o=d(n,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),t}function SU(n){const e={},t=d(n,["parent"]);t!=null&&h(e,["_url","parent"],t);const s=d(n,["config"]);return s!=null&&wU(s,e),e}function EU(n){const e={},t=d(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=d(n,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const o=d(n,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["documents"],l)}return e}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/class TU extends ds{constructor(e){super(),this.apiClient=e,this.list=async t=>new so(us.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:t.parent,config:s.config}),await this.listInternal(t),t)}async get(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=bU(e);return l=ce("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>m)}}async delete(e){var t,s;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=yU(e);o=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=SU(e);return l=ce("{parent}/documents",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>{const v=EU(m),b=new t2;return Object.assign(b,v),b})}}}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/class _U extends ds{constructor(e,t=new TU(e)){super(),this.apiClient=e,this.documents=t,this.list=async(s={})=>new so(us.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=iU(e);return l=ce("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>m)}}async get(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=oU(e);return l=ce("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>m)}}async delete(e){var t,s;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=rU(e);o=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=hU(e);return l=ce("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>{const v=fU(m),b=new n2;return Object.assign(b,v),b})}}async uploadToFileSearchStoreInternal(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=mU(e);return l=ce("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>{const v=gU(m),b=new i2;return Object.assign(b,v),b})}}async importFile(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=uU(e);return l=ce("{file_search_store_name}:importFile",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>{const v=lU(m),b=new Bm;return Object.assign(b,v),b})}}}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/function CU(n,e){const t={},s=d(n,["name"]);return s!=null&&h(t,["_url","name"],s),t}function IU(n,e){const t={},s=d(n,["name"]);return s!=null&&h(t,["_url","name"],s),t}function AU(n,e,t){const s={};if(d(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=d(n,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&h(e,["displayName"],o),d(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(n,["epochCount"]);e!==void 0&&l!=null&&h(e,["tuningTask","hyperparameters","epochCount"],l);const c=d(n,["learningRateMultiplier"]);if(c!=null&&h(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=d(n,["batchSize"]);e!==void 0&&f!=null&&h(e,["tuningTask","hyperparameters","batchSize"],f);const m=d(n,["learningRate"]);if(e!==void 0&&m!=null&&h(e,["tuningTask","hyperparameters","learningRate"],m),d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function NU(n,e,t){const s={};let o=d(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const k=d(n,["validationDataset"]);e!==void 0&&k!=null&&h(e,["supervisedTuningSpec"],OS(k))}else if(o==="PREFERENCE_TUNING"){const k=d(n,["validationDataset"]);e!==void 0&&k!=null&&h(e,["preferenceOptimizationSpec"],OS(k))}const l=d(n,["tunedModelDisplayName"]);e!==void 0&&l!=null&&h(e,["tunedModelDisplayName"],l);const c=d(n,["description"]);e!==void 0&&c!=null&&h(e,["description"],c);let f=d(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const k=d(n,["epochCount"]);e!==void 0&&k!=null&&h(e,["supervisedTuningSpec","hyperParameters","epochCount"],k)}else if(f==="PREFERENCE_TUNING"){const k=d(n,["epochCount"]);e!==void 0&&k!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],k)}let m=d(t,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const k=d(n,["learningRateMultiplier"]);e!==void 0&&k!=null&&h(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],k)}else if(m==="PREFERENCE_TUNING"){const k=d(n,["learningRateMultiplier"]);e!==void 0&&k!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],k)}let v=d(t,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const k=d(n,["exportLastCheckpointOnly"]);e!==void 0&&k!=null&&h(e,["supervisedTuningSpec","exportLastCheckpointOnly"],k)}else if(v==="PREFERENCE_TUNING"){const k=d(n,["exportLastCheckpointOnly"]);e!==void 0&&k!=null&&h(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],k)}let b=d(t,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const k=d(n,["adapterSize"]);e!==void 0&&k!=null&&h(e,["supervisedTuningSpec","hyperParameters","adapterSize"],k)}else if(b==="PREFERENCE_TUNING"){const k=d(n,["adapterSize"]);e!==void 0&&k!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],k)}if(d(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=d(n,["labels"]);e!==void 0&&S!=null&&h(e,["labels"],S);const _=d(n,["beta"]);return e!==void 0&&_!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","beta"],_),s}function kU(n,e){const t={},s=d(n,["baseModel"]);s!=null&&h(t,["baseModel"],s);const o=d(n,["preTunedModel"]);o!=null&&h(t,["preTunedModel"],o);const l=d(n,["trainingDataset"]);l!=null&&qU(l);const c=d(n,["config"]);return c!=null&&AU(c,t),t}function OU(n,e){const t={},s=d(n,["baseModel"]);s!=null&&h(t,["baseModel"],s);const o=d(n,["preTunedModel"]);o!=null&&h(t,["preTunedModel"],o);const l=d(n,["trainingDataset"]);l!=null&&VU(l,t,e);const c=d(n,["config"]);return c!=null&&NU(c,t,e),t}function xU(n,e){const t={},s=d(n,["name"]);return s!=null&&h(t,["_url","name"],s),t}function RU(n,e){const t={},s=d(n,["name"]);return s!=null&&h(t,["_url","name"],s),t}function PU(n,e,t){const s={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const l=d(n,["pageToken"]);e!==void 0&&l!=null&&h(e,["_query","pageToken"],l);const c=d(n,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),s}function DU(n,e,t){const s={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const l=d(n,["pageToken"]);e!==void 0&&l!=null&&h(e,["_query","pageToken"],l);const c=d(n,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),s}function MU(n,e){const t={},s=d(n,["config"]);return s!=null&&PU(s,t),t}function LU(n,e){const t={},s=d(n,["config"]);return s!=null&&DU(s,t),t}function UU(n,e){const t={},s=d(n,["sdkHttpResponse"]);s!=null&&h(t,["sdkHttpResponse"],s);const o=d(n,["nextPageToken"]);o!=null&&h(t,["nextPageToken"],o);const l=d(n,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>x_(f))),h(t,["tuningJobs"],c)}return t}function FU(n,e){const t={},s=d(n,["sdkHttpResponse"]);s!=null&&h(t,["sdkHttpResponse"],s);const o=d(n,["nextPageToken"]);o!=null&&h(t,["nextPageToken"],o);const l=d(n,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>Zp(f))),h(t,["tuningJobs"],c)}return t}function jU(n,e){const t={},s=d(n,["name"]);s!=null&&h(t,["model"],s);const o=d(n,["name"]);return o!=null&&h(t,["endpoint"],o),t}function qU(n,e){const t={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=d(n,["examples"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),h(t,["examples","examples"],o)}return t}function VU(n,e,t){const s={};let o=d(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const c=d(n,["gcsUri"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(o==="PREFERENCE_TUNING"){const c=d(n,["gcsUri"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let l=d(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=d(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=d(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function x_(n,e){const t={},s=d(n,["sdkHttpResponse"]);s!=null&&h(t,["sdkHttpResponse"],s);const o=d(n,["name"]);o!=null&&h(t,["name"],o);const l=d(n,["state"]);l!=null&&h(t,["state"],h_(l));const c=d(n,["createTime"]);c!=null&&h(t,["createTime"],c);const f=d(n,["tuningTask","startTime"]);f!=null&&h(t,["startTime"],f);const m=d(n,["tuningTask","completeTime"]);m!=null&&h(t,["endTime"],m);const v=d(n,["updateTime"]);v!=null&&h(t,["updateTime"],v);const b=d(n,["description"]);b!=null&&h(t,["description"],b);const S=d(n,["baseModel"]);S!=null&&h(t,["baseModel"],S);const _=d(n,["_self"]);return _!=null&&h(t,["tunedModel"],jU(_)),t}function Zp(n,e){const t={},s=d(n,["sdkHttpResponse"]);s!=null&&h(t,["sdkHttpResponse"],s);const o=d(n,["name"]);o!=null&&h(t,["name"],o);const l=d(n,["state"]);l!=null&&h(t,["state"],h_(l));const c=d(n,["createTime"]);c!=null&&h(t,["createTime"],c);const f=d(n,["startTime"]);f!=null&&h(t,["startTime"],f);const m=d(n,["endTime"]);m!=null&&h(t,["endTime"],m);const v=d(n,["updateTime"]);v!=null&&h(t,["updateTime"],v);const b=d(n,["error"]);b!=null&&h(t,["error"],b);const S=d(n,["description"]);S!=null&&h(t,["description"],S);const _=d(n,["baseModel"]);_!=null&&h(t,["baseModel"],_);const k=d(n,["tunedModel"]);k!=null&&h(t,["tunedModel"],k);const H=d(n,["preTunedModel"]);H!=null&&h(t,["preTunedModel"],H);const L=d(n,["supervisedTuningSpec"]);L!=null&&h(t,["supervisedTuningSpec"],L);const V=d(n,["preferenceOptimizationSpec"]);V!=null&&h(t,["preferenceOptimizationSpec"],V);const K=d(n,["tuningDataStats"]);K!=null&&h(t,["tuningDataStats"],K);const X=d(n,["encryptionSpec"]);X!=null&&h(t,["encryptionSpec"],X);const se=d(n,["partnerModelTuningSpec"]);se!=null&&h(t,["partnerModelTuningSpec"],se);const oe=d(n,["customBaseModel"]);oe!=null&&h(t,["customBaseModel"],oe);const pe=d(n,["experiment"]);pe!=null&&h(t,["experiment"],pe);const ie=d(n,["labels"]);ie!=null&&h(t,["labels"],ie);const O=d(n,["outputUri"]);O!=null&&h(t,["outputUri"],O);const A=d(n,["pipelineJob"]);A!=null&&h(t,["pipelineJob"],A);const N=d(n,["serviceAccount"]);N!=null&&h(t,["serviceAccount"],N);const M=d(n,["tunedModelDisplayName"]);M!=null&&h(t,["tunedModelDisplayName"],M);const D=d(n,["veoTuningSpec"]);return D!=null&&h(t,["veoTuningSpec"],D),t}function HU(n,e){const t={},s=d(n,["sdkHttpResponse"]);s!=null&&h(t,["sdkHttpResponse"],s);const o=d(n,["name"]);o!=null&&h(t,["name"],o);const l=d(n,["metadata"]);l!=null&&h(t,["metadata"],l);const c=d(n,["done"]);c!=null&&h(t,["done"],c);const f=d(n,["error"]);return f!=null&&h(t,["error"],f),t}function OS(n,e){const t={},s=d(n,["gcsUri"]);s!=null&&h(t,["validationDatasetUri"],s);const o=d(n,["vertexDatasetResource"]);return o!=null&&h(t,["validationDatasetUri"],o),t}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/class zU extends ds{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new so(us.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(t),t),this.tune=async t=>{var s;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const o={tunedModelName:t.baseModel};!((s=t.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(o.checkpointId=t.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},t),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},t);return await this.tuneInternal(o)}else{const o=Object.assign({},t),l=await this.tuneMldevInternal(o);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:Gp.JOB_STATE_QUEUED}}}}async getInternal(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=RU(e);return f=ce("{name}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>Zp(b))}else{const v=xU(e);return f=ce("{name}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>x_(b))}}async listInternal(e){var t,s,o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const v=LU(e);return f=ce("tuningJobs",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=FU(b),_=new uS;return Object.assign(_,S),_})}else{const v=MU(e);return f=ce("tunedModels",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:b.headers},_})),c.then(b=>{const S=UU(b),_=new uS;return Object.assign(_,S),_})}}async cancel(e){var t,s,o,l;let c="",f={};if(this.apiClient.isVertexAI()){const m=IU(e);c=ce("{name}:cancel",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const m=CU(e);c=ce("{name}:cancel",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async tuneInternal(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=OU(e,e);return l=ce("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>Zp(m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=kU(e);return l=ce("tunedModels",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>HU(m))}}}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/class BU{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const GU=1024*1024*8,$U=3,KU=1e3,JU=2,Pd="x-goog-upload-status";async function WU(n,e,t){var s;const o=await R_(n,e,t),l=await(o==null?void 0:o.json());if(((s=o==null?void 0:o.headers)===null||s===void 0?void 0:s[Pd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function YU(n,e,t){var s;const o=await R_(n,e,t),l=await(o==null?void 0:o.json());if(((s=o==null?void 0:o.headers)===null||s===void 0?void 0:s[Pd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=o_(l),f=new Gm;return Object.assign(f,c),f}async function R_(n,e,t){var s,o;let l=0,c=0,f=new $p(new Response),m="upload";for(l=n.size;c<l;){const v=Math.min(GU,l-c),b=n.slice(c,c+v);c+v>=l&&(m+=", finalize");let S=0,_=KU;for(;S<$U&&(f=await t.request({path:"",body:b,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(c),"Content-Length":String(v)}}}),!(!((s=f==null?void 0:f.headers)===null||s===void 0)&&s[Pd]));)S++,await ZU(_),_=_*JU;if(c+=v,((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[Pd])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function QU(n){return{size:n.size,type:n.type}}function ZU(n){return new Promise(e=>setTimeout(e,n))}class XU{async upload(e,t,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await WU(e,t,s)}async uploadToFileSearchStore(e,t,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await YU(e,t,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await QU(e)}}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/class e6{create(e,t,s){return new t6(e,t,s)}}class t6{constructor(e,t,s){this.url=e,this.headers=t,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/const xS="x-goog-api-key";class n6{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(xS)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(xS,this.apiKey)}}}/**
* @license
* Copyright 2025 Google LLC
* SPDX-License-Identifier: Apache-2.0
*/const i6="gl-node/";class s6{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const s=DP(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion;const o=new n6(this.apiKey);this.apiClient=new b4({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:i6+"web",uploader:new XU,downloader:new BU}),this.models=new F4(this.apiClient),this.live=new R4(this.apiClient,o,new e6),this.batches=new uD(this.apiClient),this.chats=new BD(this.models,this.apiClient),this.caches=new VD(this.apiClient),this.files=new eM(this.apiClient),this.operations=new j4(this.apiClient),this.authTokens=new tU(this.apiClient),this.tunings=new zU(this.apiClient),this.fileSearchStores=new _U(this.apiClient)}}const r6=()=>{const n="AIzaSyCSFyCeDbb17S9girfB9pZJJ7Sg8_nxAJs";return new s6({apiKey:n})},RS=(n,e,t)=>{const s=r6();if(!s)return null;let o=n.systemInstruction+`

IMPORTANT: Do not use markdown formatting like ** or * in your responses. Use plain text only.`;if(t&&t!=="en"){const l={es:"Responde siempre en espaol.",fr:"Rponds toujours en franais.",de:"Antworte immer auf Deutsch.",it:"Rispondi sempre in italiano.",pt:"Responda sempre em portugus.",ar:"   .",hi:"    ",ml:"   ."}[t];l&&(o=l+" "+o)}if(e&&e.length>0){const l=e.map(c=>`- "${c.title}": ${c.description}`).join(`
`);o+=`

Available video tutorials:
${l}

When users ask questions related to these topics, suggest the relevant video tutorial by title.`}return n.qaTraining&&n.qaTraining.length>0&&(o=`KNOWLEDGE BASE - Use this information to answer questions naturally:
${n.qaTraining.map(l=>`${l.question}: ${l.answer}`).join(`
`)}

When users ask about these topics, use the information above but respond conversationally, not in Q&A format.

`+o),s.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:o}})},o6=async(n,e)=>{try{return await n.sendMessageStream({message:e})}catch(t){throw console.error("Error sending message to Gemini:",t),t}},a6=({config:n,videos:e=[]})=>{const[t,s]=Ve.useState(!1),[o,l]=Ve.useState([]),[c,f]=Ve.useState(""),[m,v]=Ve.useState(!1),[b,S]=Ve.useState(null),[_,k]=Ve.useState("en"),[H,L]=Ve.useState(!1),V=Ve.useRef(null),K=Ve.useRef(null),X=[{code:"en",name:"English"},{code:"es",name:"Espaol"},{code:"fr",name:"Franais"},{code:"de",name:"Deutsch"},{code:"it",name:"Italiano"},{code:"pt",name:"Portugus"},{code:"ar",name:""},{code:"hi",name:""},{code:"ml",name:""}];Ve.useEffect(()=>{if(t){const ie=RS(n,e,_);S(ie),o.length===0&&l([{id:"welcome",role:"model",text:n.welcomeMessage,timestamp:Date.now()}])}},[t,n,e]),Ve.useEffect(()=>{var ie;(ie=V.current)==null||ie.scrollIntoView({behavior:"smooth"})},[o]);const se=async()=>{if(!c.trim()||!b)return;const ie=c.trim();f("");const O={id:Date.now().toString(),role:"user",text:ie,timestamp:Date.now()};l(A=>[...A,O]),v(!0);try{const A=await o6(b,ie);let N="";const M=(Date.now()+1).toString();l(D=>[...D,{id:M,role:"model",text:"",timestamp:Date.now()}]);for await(const D of A){const F=D.text||"";N+=F,l(x=>x.map($e=>$e.id===M?{...$e,text:N}:$e))}}catch(A){console.error(A),l(N=>[...N,{id:Date.now().toString(),role:"model",text:"I'm sorry, I'm having trouble connecting right now. Please try again later.",timestamp:Date.now()}])}finally{v(!1),setTimeout(()=>{var A;(A=K.current)==null||A.focus()},100)}},oe=ie=>{ie.key==="Enter"&&!ie.shiftKey&&(ie.preventDefault(),se())},pe=ie=>{if("speechSynthesis"in window){const O=new SpeechSynthesisUtterance(ie),A={en:"en-US",es:"es-ES",fr:"fr-FR",de:"de-DE",it:"it-IT",pt:"pt-BR",ar:"ar-SA",hi:"hi-IN",ml:"ml-IN"};O.lang=A[_]||"en-US",O.rate=.9,speechSynthesis.speak(O)}};return R.jsxs("div",{className:"fixed bottom-6 right-6 z-40 flex flex-col items-end",children:[t&&R.jsxs("div",{className:`mb-4 bg-white shadow-2xl border border-slate-200 flex flex-col overflow-hidden animate-slide-up ${H?"fixed inset-4 rounded-lg z-50":"w-[350px] sm:w-[400px] h-[500px] rounded-2xl origin-bottom-right"}`,children:[R.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-4 flex justify-between items-center text-white",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:"p-1.5 bg-white/20 rounded-full",children:R.jsx(ZI,{size:18})}),R.jsxs("div",{children:[R.jsx("h3",{className:"font-semibold text-sm",children:"AI Support Assistant"}),R.jsx("p",{className:"text-xs text-blue-100",children:"Powered by Gemini"})]})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("select",{value:_,onChange:ie=>{k(ie.target.value),S(null);const O=RS(n,e,ie.target.value);S(O)},className:"px-2 py-1 text-xs bg-white/20 border border-white/30 rounded text-white focus:outline-none focus:bg-white/30",children:X.map(ie=>R.jsx("option",{value:ie.code,className:"text-slate-800",children:ie.name},ie.code))}),R.jsx("button",{onClick:()=>L(!H),className:"p-1 hover:bg-white/20 rounded-full transition",title:H?"Exit fullscreen":"Fullscreen",children:H?"":""}),R.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-white/20 rounded-full transition",children:R.jsx(em,{size:20})})]})]}),R.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50",children:[o.map(ie=>R.jsxs("div",{className:`flex gap-3 ${ie.role==="user"?"flex-row-reverse":""}`,children:[R.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${ie.role==="user"?"bg-slate-200 text-slate-600":"bg-blue-100 text-blue-600"}`,children:ie.role==="user"?R.jsx(tA,{size:16}):R.jsx(NI,{size:16})}),R.jsx("div",{className:`max-w-[80%] rounded-2xl p-3 text-sm leading-relaxed ${ie.role==="user"?"bg-blue-600 text-white rounded-tr-none":"bg-white border border-slate-200 text-slate-700 rounded-tl-none shadow-sm"}`,children:R.jsxs("div",{className:"flex items-start justify-between gap-2",children:[R.jsx("div",{className:"flex-1",children:ie.text||R.jsxs("span",{className:"flex items-center gap-1",children:[R.jsx("span",{className:"w-1.5 h-1.5 bg-current rounded-full animate-bounce"}),R.jsx("span",{className:"w-1.5 h-1.5 bg-current rounded-full animate-bounce delay-75"}),R.jsx("span",{className:"w-1.5 h-1.5 bg-current rounded-full animate-bounce delay-150"})]})}),ie.role==="model"&&ie.text&&R.jsx("button",{onClick:()=>pe(ie.text),className:"p-1 hover:bg-slate-100 rounded text-slate-500 hover:text-blue-600 transition-colors flex-shrink-0",title:"Listen",children:R.jsx(rA,{size:14})})]})})]},ie.id)),R.jsx("div",{ref:V})]}),R.jsxs("div",{className:"p-3 bg-white border-t border-slate-100",children:[R.jsxs("div",{className:"relative flex items-center gap-2",children:[R.jsx("input",{ref:K,type:"text",value:c,onChange:ie=>f(ie.target.value),onKeyDown:oe,placeholder:"Ask for help...",disabled:m,className:"flex-1 pl-4 pr-12 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm"}),R.jsx("button",{onClick:se,disabled:!c.trim()||m,className:"absolute right-2 p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?R.jsx(MI,{size:16,className:"animate-spin"}):R.jsx(KI,{size:16})})]}),R.jsx("div",{className:"text-center mt-2",children:R.jsx("p",{className:"text-[10px] text-slate-400",children:"AI can make mistakes. Please verify important info."})})]})]}),R.jsxs("button",{onClick:()=>s(!t),className:`group p-4 rounded-full shadow-lg transition-all duration-300 hover:scale-105 flex items-center gap-2 ${t?"bg-slate-700 rotate-90 opacity-0 pointer-events-none absolute":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white"}`,children:[R.jsx(jI,{size:28,className:"animate-pulse"}),R.jsx("span",{className:"max-w-0 overflow-hidden group-hover:max-w-xs transition-all duration-300 whitespace-nowrap font-medium pr-0 group-hover:pr-2",children:"Support Chat"})]})]})},l6=({videoId:n,onClose:e})=>(Ve.useEffect(()=>{const t=s=>{s.key==="Escape"&&e()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e]),n?R.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",onClick:e,children:R.jsxs("div",{className:"relative w-full max-w-4xl bg-black rounded-xl overflow-hidden shadow-2xl animate-slide-up",onClick:t=>t.stopPropagation(),children:[R.jsx("div",{className:"absolute top-0 right-0 p-4 z-10",children:R.jsx("button",{onClick:e,className:"p-2 bg-black/50 hover:bg-black/70 text-white rounded-full transition-colors",children:R.jsx(em,{size:24})})}),R.jsx("div",{className:"aspect-video w-full",children:R.jsx("iframe",{src:`https://www.youtube.com/embed/${n}?autoplay=1&rel=0`,title:"YouTube video player",className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})}):null),u6={systemInstruction:"You are a helpful customer support agent for 'Polosys Support'. You assist users with questions about accounting software, inventory management, and general troubleshooting. Be polite, concise, and professional. If you don't know the answer, advise them to contact human support at support@polosys.com or call our customer care number: +1-800-POLOSYS (765-6797). For urgent issues, recommend calling the customer care number.",welcomeMessage:"Hello! How can I help you with the system today?"},c6=()=>{const[n,e]=Ve.useState(()=>localStorage.getItem("adminLoggedIn")==="true"?Ks.ADMIN:Ks.CUSTOMER),[t,s]=Ve.useState(!1),[o,l]=Ve.useState([]),[c,f]=Ve.useState(u6),[m,v]=Ve.useState(!0),[b,S]=Ve.useState(null),[_,k]=Ve.useState(""),[H,L]=Ve.useState(!1),[V,K]=Ve.useState({email:"",password:""}),[X,se]=Ve.useState(""),oe=()=>{L(!0),se("")},pe=async A=>{A.preventDefault();try{await cR(ow,V.email,V.password),localStorage.setItem("adminLoggedIn","true"),e(Ks.ADMIN),L(!1),K({email:"",password:""})}catch{se("Invalid credentials")}},ie=async()=>{await fR(ow),localStorage.removeItem("adminLoggedIn"),e(Ks.CUSTOMER),s(!1)};Ve.useEffect(()=>{(async()=>{try{const[A,N]=await Promise.all([NP(),kP()]);l(A),N&&f(N)}catch(A){console.error("Error loading data:",A)}finally{v(!1)}})()},[]),Ve.useEffect(()=>{m||AP(o).catch(console.error)},[o,m]),Ve.useEffect(()=>{m||zp(c).catch(console.error)},[c,m]);const O=o.filter(A=>A.title.toLowerCase().includes(_.toLowerCase())||A.description.toLowerCase().includes(_.toLowerCase()));return R.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900 selection:bg-blue-100 selection:text-blue-900",children:[R.jsx("nav",{className:"bg-white border-b border-slate-200 sticky top-0 z-30",children:R.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:R.jsxs("div",{className:"flex justify-between h-16",children:[R.jsxs("div",{className:"flex items-center gap-3 cursor-pointer select-none",onDoubleClick:()=>s(!t),title:"Double click for admin options",children:[R.jsx("div",{className:"bg-blue-600 p-2 rounded-lg text-white",children:R.jsx(PI,{size:24})}),R.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-700 to-indigo-600",children:"Polosys Support"})]}),R.jsx("div",{className:"flex items-center gap-4",children:n===Ks.CUSTOMER?t&&R.jsxs("button",{onClick:oe,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-slate-600 hover:text-blue-600 hover:bg-slate-50 rounded-lg transition-colors animate-fade-in",children:[R.jsx(YI,{size:18}),R.jsx("span",{children:"Admin Access"})]}):R.jsxs("button",{onClick:ie,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-slate-900 hover:bg-slate-800 rounded-lg transition-colors",children:[R.jsx(UI,{size:18}),R.jsx("span",{children:"Logout"})]})})]})})}),R.jsxs("main",{className:"relative",children:[m?R.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:R.jsxs("div",{className:"text-center",children:[R.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),R.jsx("p",{className:"text-slate-600",children:"Loading..."})]})}):n===Ks.ADMIN?R.jsx(OP,{videos:o,setVideos:l,chatConfig:c,setChatConfig:f}):R.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[R.jsxs("div",{className:"text-center mb-16 space-y-4",children:[R.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 tracking-tight",children:"How can we help you today?"}),R.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Browse our video library for quick tutorials or chat with our AI assistant for instant support."}),R.jsxs("div",{className:"max-w-xl mx-auto mt-8 relative group",children:[R.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-blue-500 transition-colors",children:R.jsx(GI,{size:20})}),R.jsx("input",{type:"text",placeholder:"Search for videos (e.g., 'invoice', 'setup')...",value:_,onChange:A=>k(A.target.value),className:"block w-full pl-11 pr-4 py-4 bg-white border border-slate-200 rounded-2xl shadow-sm text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"})]})]}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:O.map(A=>R.jsxs("div",{onClick:()=>S(A.videoId),className:"group bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border border-slate-100 cursor-pointer flex flex-col h-full",children:[R.jsxs("div",{className:"relative aspect-video overflow-hidden bg-slate-100",children:[R.jsx("img",{src:`https://img.youtube.com/vi/${A.videoId}/hqdefault.jpg`,alt:A.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),R.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-black/30 transition-colors flex items-center justify-center",children:R.jsx("div",{className:"w-12 h-12 bg-white/90 rounded-full flex items-center justify-center shadow-lg transform scale-90 group-hover:scale-110 transition-all duration-300",children:R.jsx(OI,{size:24,className:"text-blue-600 ml-1"})})}),R.jsx("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded text-xs text-white font-medium",children:"Video"})]}),R.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[R.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2 group-hover:text-blue-600 transition-colors",children:A.title}),R.jsx("p",{className:"text-slate-600 text-sm leading-relaxed flex-1",children:A.description}),R.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 flex items-center text-blue-600 font-medium text-sm",children:["Watch Tutorial ",R.jsx("span",{className:"ml-1 group-hover:translate-x-1 transition-transform",children:""})]})]})]},A.id))}),O.length===0&&R.jsxs("div",{className:"text-center py-20",children:[R.jsx("p",{className:"text-slate-500 text-lg",children:"No videos found matching your search."}),R.jsx("button",{onClick:()=>k(""),className:"mt-4 text-blue-600 font-medium hover:underline",children:"Clear search"})]})]}),n===Ks.CUSTOMER&&R.jsx(a6,{config:c,videos:o})]}),R.jsx(l6,{videoId:b,onClose:()=>S(null)}),H&&R.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:R.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl w-96 max-w-[90vw]",children:[R.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Admin Login"}),R.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),R.jsx("input",{type:"email",required:!0,value:V.email,onChange:A=>K({...V,email:A.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),R.jsx("input",{type:"password",required:!0,value:V.password,onChange:A=>K({...V,password:A.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),X&&R.jsx("p",{className:"text-red-500 text-sm text-center",children:X}),R.jsxs("div",{className:"flex gap-3",children:[R.jsx("button",{type:"button",onClick:()=>{L(!1),K({email:"",password:""}),se("")},className:"flex-1 py-2 px-4 border border-slate-200 text-slate-600 rounded-xl hover:bg-slate-50",children:"Cancel"}),R.jsx("button",{type:"submit",className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:"Login"})]})]})]})})]})},P_=document.getElementById("root");if(!P_)throw new Error("Could not find root element to mount to");const d6=SI.createRoot(P_);d6.render(R.jsx(fI.StrictMode,{children:R.jsx(c6,{})}));
